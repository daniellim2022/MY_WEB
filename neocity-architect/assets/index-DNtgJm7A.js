(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=o(r);fetch(r.href,f)}})();function qh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var fu={exports:{}},so={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function j0(){if(Yp)return so;Yp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:f}}return so.Fragment=t,so.jsx=o,so.jsxs=o,so}var Jp;function ev(){return Jp||(Jp=1,fu.exports=j0()),fu.exports}var M=ev(),du={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function tv(){if(Kp)return de;Kp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function A(N){return N===null||typeof N!="object"?null:(N=E&&N[E]||N["@@iterator"],typeof N=="function"?N:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,G={};function k(N,P,X){this.props=N,this.context=P,this.refs=G,this.updater=X||w}k.prototype.isReactComponent={},k.prototype.setState=function(N,P){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,P,"setState")},k.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Q(){}Q.prototype=k.prototype;function F(N,P,X){this.props=N,this.context=P,this.refs=G,this.updater=X||w}var W=F.prototype=new Q;W.constructor=F,q(W,k.prototype),W.isPureReactComponent=!0;var ie=Array.isArray;function oe(){}var K={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function z(N,P,X){var j=X.ref;return{$$typeof:i,type:N,key:P,ref:j!==void 0?j:null,props:X}}function Z(N,P){return z(N.type,P,N.props)}function te(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function se(N){var P={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(X){return P[X]})}var ae=/\/+/g;function he(N,P){return typeof N=="object"&&N!==null&&N.key!=null?se(""+N.key):P.toString(36)}function Ue(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(oe,oe):(N.status="pending",N.then(function(P){N.status==="pending"&&(N.status="fulfilled",N.value=P)},function(P){N.status==="pending"&&(N.status="rejected",N.reason=P)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function L(N,P,X,j,ce){var ge=typeof N;(ge==="undefined"||ge==="boolean")&&(N=null);var _e=!1;if(N===null)_e=!0;else switch(ge){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(N.$$typeof){case i:case t:_e=!0;break;case v:return _e=N._init,L(_e(N._payload),P,X,j,ce)}}if(_e)return ce=ce(N),_e=j===""?"."+he(N,0):j,ie(ce)?(X="",_e!=null&&(X=_e.replace(ae,"$&/")+"/"),L(ce,P,X,"",function(kt){return kt})):ce!=null&&(te(ce)&&(ce=Z(ce,X+(ce.key==null||N&&N.key===ce.key?"":(""+ce.key).replace(ae,"$&/")+"/")+_e)),P.push(ce)),1;_e=0;var We=j===""?".":j+":";if(ie(N))for(var be=0;be<N.length;be++)j=N[be],ge=We+he(j,be),_e+=L(j,P,X,ge,ce);else if(be=A(N),typeof be=="function")for(N=be.call(N),be=0;!(j=N.next()).done;)j=j.value,ge=We+he(j,be++),_e+=L(j,P,X,ge,ce);else if(ge==="object"){if(typeof N.then=="function")return L(Ue(N),P,X,j,ce);throw P=String(N),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return _e}function J(N,P,X){if(N==null)return N;var j=[],ce=0;return L(N,j,"","",function(ge){return P.call(X,ge,ce++)}),j}function re(N){if(N._status===-1){var P=N._result;P=P(),P.then(function(X){(N._status===0||N._status===-1)&&(N._status=1,N._result=X)},function(X){(N._status===0||N._status===-1)&&(N._status=2,N._result=X)}),N._status===-1&&(N._status=0,N._result=P)}if(N._status===1)return N._result.default;throw N._result}var Ne=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Me={map:J,forEach:function(N,P,X){J(N,function(){P.apply(this,arguments)},X)},count:function(N){var P=0;return J(N,function(){P++}),P},toArray:function(N){return J(N,function(P){return P})||[]},only:function(N){if(!te(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return de.Activity=S,de.Children=Me,de.Component=k,de.Fragment=o,de.Profiler=r,de.PureComponent=F,de.StrictMode=a,de.Suspense=y,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,de.__COMPILER_RUNTIME={__proto__:null,c:function(N){return K.H.useMemoCache(N)}},de.cache=function(N){return function(){return N.apply(null,arguments)}},de.cacheSignal=function(){return null},de.cloneElement=function(N,P,X){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var j=q({},N.props),ce=N.key;if(P!=null)for(ge in P.key!==void 0&&(ce=""+P.key),P)!Y.call(P,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&P.ref===void 0||(j[ge]=P[ge]);var ge=arguments.length-2;if(ge===1)j.children=X;else if(1<ge){for(var _e=Array(ge),We=0;We<ge;We++)_e[We]=arguments[We+2];j.children=_e}return z(N.type,ce,j)},de.createContext=function(N){return N={$$typeof:p,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},de.createElement=function(N,P,X){var j,ce={},ge=null;if(P!=null)for(j in P.key!==void 0&&(ge=""+P.key),P)Y.call(P,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(ce[j]=P[j]);var _e=arguments.length-2;if(_e===1)ce.children=X;else if(1<_e){for(var We=Array(_e),be=0;be<_e;be++)We[be]=arguments[be+2];ce.children=We}if(N&&N.defaultProps)for(j in _e=N.defaultProps,_e)ce[j]===void 0&&(ce[j]=_e[j]);return z(N,ge,ce)},de.createRef=function(){return{current:null}},de.forwardRef=function(N){return{$$typeof:g,render:N}},de.isValidElement=te,de.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:re}},de.memo=function(N,P){return{$$typeof:h,type:N,compare:P===void 0?null:P}},de.startTransition=function(N){var P=K.T,X={};K.T=X;try{var j=N(),ce=K.S;ce!==null&&ce(X,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(oe,Ne)}catch(ge){Ne(ge)}finally{P!==null&&X.types!==null&&(P.types=X.types),K.T=P}},de.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},de.use=function(N){return K.H.use(N)},de.useActionState=function(N,P,X){return K.H.useActionState(N,P,X)},de.useCallback=function(N,P){return K.H.useCallback(N,P)},de.useContext=function(N){return K.H.useContext(N)},de.useDebugValue=function(){},de.useDeferredValue=function(N,P){return K.H.useDeferredValue(N,P)},de.useEffect=function(N,P){return K.H.useEffect(N,P)},de.useEffectEvent=function(N){return K.H.useEffectEvent(N)},de.useId=function(){return K.H.useId()},de.useImperativeHandle=function(N,P,X){return K.H.useImperativeHandle(N,P,X)},de.useInsertionEffect=function(N,P){return K.H.useInsertionEffect(N,P)},de.useLayoutEffect=function(N,P){return K.H.useLayoutEffect(N,P)},de.useMemo=function(N,P){return K.H.useMemo(N,P)},de.useOptimistic=function(N,P){return K.H.useOptimistic(N,P)},de.useReducer=function(N,P,X){return K.H.useReducer(N,P,X)},de.useRef=function(N){return K.H.useRef(N)},de.useState=function(N){return K.H.useState(N)},de.useSyncExternalStore=function(N,P,X){return K.H.useSyncExternalStore(N,P,X)},de.useTransition=function(){return K.H.useTransition()},de.version="19.2.3",de}var Xp;function Uu(){return Xp||(Xp=1,du.exports=tv()),du.exports}var tt=Uu();const Vh=qh(tt);var pu={exports:{}},ro={},mu={exports:{}},hu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function nv(){return Qp||(Qp=1,(function(i){function t(L,J){var re=L.length;L.push(J);e:for(;0<re;){var Ne=re-1>>>1,Me=L[Ne];if(0<r(Me,J))L[Ne]=J,L[re]=Me,re=Ne;else break e}}function o(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var J=L[0],re=L.pop();if(re!==J){L[0]=re;e:for(var Ne=0,Me=L.length,N=Me>>>1;Ne<N;){var P=2*(Ne+1)-1,X=L[P],j=P+1,ce=L[j];if(0>r(X,re))j<Me&&0>r(ce,X)?(L[Ne]=ce,L[j]=re,Ne=j):(L[Ne]=X,L[P]=re,Ne=P);else if(j<Me&&0>r(ce,re))L[Ne]=ce,L[j]=re,Ne=j;else break e}}return J}function r(L,J){var re=L.sortIndex-J.sortIndex;return re!==0?re:L.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],h=[],v=1,S=null,E=3,A=!1,w=!1,q=!1,G=!1,k=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function W(L){for(var J=o(h);J!==null;){if(J.callback===null)a(h);else if(J.startTime<=L)a(h),J.sortIndex=J.expirationTime,t(y,J);else break;J=o(h)}}function ie(L){if(q=!1,W(L),!w)if(o(y)!==null)w=!0,oe||(oe=!0,se());else{var J=o(h);J!==null&&Ue(ie,J.startTime-L)}}var oe=!1,K=-1,Y=5,z=-1;function Z(){return G?!0:!(i.unstable_now()-z<Y)}function te(){if(G=!1,oe){var L=i.unstable_now();z=L;var J=!0;try{e:{w=!1,q&&(q=!1,Q(K),K=-1),A=!0;var re=E;try{t:{for(W(L),S=o(y);S!==null&&!(S.expirationTime>L&&Z());){var Ne=S.callback;if(typeof Ne=="function"){S.callback=null,E=S.priorityLevel;var Me=Ne(S.expirationTime<=L);if(L=i.unstable_now(),typeof Me=="function"){S.callback=Me,W(L),J=!0;break t}S===o(y)&&a(y),W(L)}else a(y);S=o(y)}if(S!==null)J=!0;else{var N=o(h);N!==null&&Ue(ie,N.startTime-L),J=!1}}break e}finally{S=null,E=re,A=!1}J=void 0}}finally{J?se():oe=!1}}}var se;if(typeof F=="function")se=function(){F(te)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,he=ae.port2;ae.port1.onmessage=te,se=function(){he.postMessage(null)}}else se=function(){k(te,0)};function Ue(L,J){K=k(function(){L(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(L){switch(E){case 1:case 2:case 3:var J=3;break;default:J=E}var re=E;E=J;try{return L()}finally{E=re}},i.unstable_requestPaint=function(){G=!0},i.unstable_runWithPriority=function(L,J){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var re=E;E=L;try{return J()}finally{E=re}},i.unstable_scheduleCallback=function(L,J,re){var Ne=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ne+re:Ne):re=Ne,L){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=re+Me,L={id:v++,callback:J,priorityLevel:L,startTime:re,expirationTime:Me,sortIndex:-1},re>Ne?(L.sortIndex=re,t(h,L),o(y)===null&&L===o(h)&&(q?(Q(K),K=-1):q=!0,Ue(ie,re-Ne))):(L.sortIndex=Me,t(y,L),w||A||(w=!0,oe||(oe=!0,se()))),L},i.unstable_shouldYield=Z,i.unstable_wrapCallback=function(L){var J=E;return function(){var re=E;E=J;try{return L.apply(this,arguments)}finally{E=re}}}})(hu)),hu}var Zp;function iv(){return Zp||(Zp=1,mu.exports=nv()),mu.exports}var gu={exports:{}},ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function lv(){if($p)return ut;$p=1;var i=Uu();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,h,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:y,containerInfo:h,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ut.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return f(y,h,null,v)},ut.flushSync=function(y){var h=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=h,a.p=v,a.d.f()}},ut.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},ut.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},ut.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:A}):v==="script"&&a.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ut.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},ut.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ut.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},ut.requestFormReset=function(y){a.d.r(y)},ut.unstable_batchedUpdates=function(y,h){return y(h)},ut.useFormState=function(y,h,v){return p.H.useFormState(y,h,v)},ut.useFormStatus=function(){return p.H.useHostTransitionStatus()},ut.version="19.2.3",ut}var Wp;function ov(){if(Wp)return gu.exports;Wp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),gu.exports=lv(),gu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function av(){if(jp)return ro;jp=1;var i=iv(),t=Uu(),o=ov();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var l=e,s=n;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){l=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return y(d),e;if(m===s)return y(d),n;m=m.sibling}throw Error(a(188))}if(l.return!==s.return)l=d,s=m;else{for(var T=!1,_=d.child;_;){if(_===l){T=!0,l=d,s=m;break}if(_===s){T=!0,s=d,l=m;break}_=_.sibling}if(!T){for(_=m.child;_;){if(_===l){T=!0,l=m,s=d;break}if(_===s){T=!0,s=m,l=d;break}_=_.sibling}if(!T)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),F=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Symbol.for("react.client.reference");function he(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ae?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case k:return"Profiler";case G:return"StrictMode";case ie:return"Suspense";case oe:return"SuspenseList";case z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case F:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case W:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return n=e.displayName||null,n!==null?n:he(e.type)||"Memo";case Y:n=e._payload,e=e._init;try{return he(e(n))}catch{}}return null}var Ue=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ne=[],Me=-1;function N(e){return{current:e}}function P(e){0>Me||(e.current=Ne[Me],Ne[Me]=null,Me--)}function X(e,n){Me++,Ne[Me]=e.current,e.current=n}var j=N(null),ce=N(null),ge=N(null),_e=N(null);function We(e,n){switch(X(ge,n),X(ce,e),X(j,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?mp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=mp(n),e=hp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(j),X(j,e)}function be(){P(j),P(ce),P(ge)}function kt(e){e.memoizedState!==null&&X(_e,e);var n=j.current,l=hp(n,e.type);n!==l&&(X(ce,e),X(j,l))}function nn(e){ce.current===e&&(P(j),P(ce)),_e.current===e&&(P(_e),io._currentValue=re)}var Ti,Si;function Ft(e){if(Ti===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Ti=n&&n[1]||"",Si=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ti+e+Si}var Ei=!1;function ml(e,n){if(!e||Ei)return"";Ei=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(H){var D=H}Reflect.construct(e,[],B)}else{try{B.call()}catch(H){D=H}e.call(B.prototype)}}else{try{throw Error()}catch(H){D=H}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(H){if(H&&D&&typeof H.stack=="string")return[H.stack,D.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),T=m[0],_=m[1];if(T&&_){var C=T.split(`
`),b=_.split(`
`);for(d=s=0;s<C.length&&!C[s].includes("DetermineComponentFrameRoot");)s++;for(;d<b.length&&!b[d].includes("DetermineComponentFrameRoot");)d++;if(s===C.length||d===b.length)for(s=C.length-1,d=b.length-1;1<=s&&0<=d&&C[s]!==b[d];)d--;for(;1<=s&&0<=d;s--,d--)if(C[s]!==b[d]){if(s!==1||d!==1)do if(s--,d--,0>d||C[s]!==b[d]){var V=`
`+C[s].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=s&&0<=d);break}}}finally{Ei=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Ft(l):""}function po(e,n){switch(e.tag){case 26:case 27:case 5:return Ft(e.type);case 16:return Ft("Lazy");case 13:return e.child!==n&&n!==null?Ft("Suspense Fallback"):Ft("Suspense");case 19:return Ft("SuspenseList");case 0:case 15:return ml(e.type,!1);case 11:return ml(e.type.render,!1);case 1:return ml(e.type,!0);case 31:return Ft("Activity");default:return""}}function Ve(e){try{var n="",l=null;do n+=po(e,l),l=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Fe=Object.prototype.hasOwnProperty,Et=i.unstable_scheduleCallback,$t=i.unstable_cancelCallback,Wa=i.unstable_shouldYield,Fu=i.unstable_requestPaint,rt=i.unstable_now,Ug=i.unstable_getCurrentPriorityLevel,Yu=i.unstable_ImmediatePriority,Ju=i.unstable_UserBlockingPriority,mo=i.unstable_NormalPriority,Lg=i.unstable_LowPriority,Ku=i.unstable_IdlePriority,Gg=i.log,Hg=i.unstable_setDisableYieldValue,hl=null,_t=null;function Rn(e){if(typeof Gg=="function"&&Hg(e),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(hl,e)}catch{}}var At=Math.clz32?Math.clz32:Pg,qg=Math.log,Vg=Math.LN2;function Pg(e){return e>>>=0,e===0?32:31-(qg(e)/Vg|0)|0}var ho=256,go=262144,yo=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vo(e,n,l){var s=e.pendingLanes;if(s===0)return 0;var d=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~m,s!==0?d=Wn(s):(T&=_,T!==0?d=Wn(T):l||(l=_&~e,l!==0&&(d=Wn(l))))):(_=s&~m,_!==0?d=Wn(_):T!==0?d=Wn(T):l||(l=s&~e,l!==0&&(d=Wn(l)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:d}function gl(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Og(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xu(){var e=yo;return yo<<=1,(yo&62914560)===0&&(yo=4194304),e}function ja(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function yl(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zg(e,n,l,s,d,m){var T=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var _=e.entanglements,C=e.expirationTimes,b=e.hiddenUpdates;for(l=T&~l;0<l;){var V=31-At(l),B=1<<V;_[V]=0,C[V]=-1;var D=b[V];if(D!==null)for(b[V]=null,V=0;V<D.length;V++){var H=D[V];H!==null&&(H.lane&=-536870913)}l&=~B}s!==0&&Qu(e,s,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~n))}function Qu(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-At(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function Zu(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var s=31-At(l),d=1<<s;d&n|e[s]&n&&(e[s]|=n),l&=~d}}function $u(e,n){var l=n&-n;return l=(l&42)!==0?1:es(l),(l&(e.suspendedLanes|n))!==0?0:l}function es(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ts(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wu(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Vp(e.type))}function ju(e,n){var l=J.p;try{return J.p=e,n()}finally{J.p=l}}var Nn=Math.random().toString(36).slice(2),it="__reactFiber$"+Nn,mt="__reactProps$"+Nn,_i="__reactContainer$"+Nn,ns="__reactEvents$"+Nn,Bg="__reactListeners$"+Nn,kg="__reactHandles$"+Nn,ec="__reactResources$"+Nn,vl="__reactMarker$"+Nn;function is(e){delete e[it],delete e[mt],delete e[ns],delete e[Bg],delete e[kg]}function Ai(e){var n=e[it];if(n)return n;for(var l=e.parentNode;l;){if(n=l[_i]||l[it]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=_p(e);e!==null;){if(l=e[it])return l;e=_p(e)}return n}e=l,l=e.parentNode}return null}function Ci(e){if(e=e[it]||e[_i]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Tl(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ri(e){var n=e[ec];return n||(n=e[ec]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function je(e){e[vl]=!0}var tc=new Set,nc={};function jn(e,n){Ni(e,n),Ni(e+"Capture",n)}function Ni(e,n){for(nc[e]=n,e=0;e<n.length;e++)tc.add(n[e])}var Fg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ic={},lc={};function Yg(e){return Fe.call(lc,e)?!0:Fe.call(ic,e)?!1:Fg.test(e)?lc[e]=!0:(ic[e]=!0,!1)}function To(e,n,l){if(Yg(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function So(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function ln(e,n,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+s)}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Jg(e,n,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ls(e){if(!e._valueTracker){var n=oc(e)?"checked":"value";e._valueTracker=Jg(e,n,""+e[n])}}function ac(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),s="";return e&&(s=oc(e)?e.checked?"true":"false":e.value),e=s,e!==l?(n.setValue(e),!0):!1}function Eo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Kg=/[\n"\\]/g;function wt(e){return e.replace(Kg,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function os(e,n,l,s,d,m,T,_){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Dt(n)):e.value!==""+Dt(n)&&(e.value=""+Dt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?as(e,T,Dt(n)):l!=null?as(e,T,Dt(l)):s!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Dt(_):e.removeAttribute("name")}function sc(e,n,l,s,d,m,T,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){ls(e);return}l=l!=null?""+Dt(l):"",n=n!=null?""+Dt(n):l,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),ls(e)}function as(e,n,l){n==="number"&&Eo(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Mi(e,n,l,s){if(e=e.options,n){n={};for(var d=0;d<l.length;d++)n["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=n.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&s&&(e[l].defaultSelected=!0)}else{for(l=""+Dt(l),n=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function rc(e,n,l){if(n!=null&&(n=""+Dt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+Dt(l):""}function uc(e,n,l,s){if(n==null){if(s!=null){if(l!=null)throw Error(a(92));if(Ue(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),n=l}l=Dt(n),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),ls(e)}function xi(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var Xg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cc(e,n,l){var s=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,l):typeof l!="number"||l===0||Xg.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function fc(e,n,l){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&l[d]!==s&&cc(e,d,s)}else for(var m in n)n.hasOwnProperty(m)&&cc(e,m,n[m])}function ss(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _o(e){return Zg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function on(){}var rs=null;function us(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ii=null,bi=null;function dc(e){var n=Ci(e);if(n&&(e=n.stateNode)){var l=e[mt]||null;e:switch(e=n.stateNode,n.type){case"input":if(os(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+wt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var s=l[n];if(s!==e&&s.form===e.form){var d=s[mt]||null;if(!d)throw Error(a(90));os(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<l.length;n++)s=l[n],s.form===e.form&&ac(s)}break e;case"textarea":rc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Mi(e,!!l.multiple,n,!1)}}}var cs=!1;function pc(e,n,l){if(cs)return e(n,l);cs=!0;try{var s=e(n);return s}finally{if(cs=!1,(Ii!==null||bi!==null)&&(ua(),Ii&&(n=Ii,e=bi,bi=Ii=null,dc(n),e)))for(n=0;n<e.length;n++)dc(e[n])}}function Sl(e,n){var l=e.stateNode;if(l===null)return null;var s=l[mt]||null;if(s===null)return null;l=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,n,typeof l));return l}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fs=!1;if(an)try{var El={};Object.defineProperty(El,"passive",{get:function(){fs=!0}}),window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{fs=!1}var Mn=null,ds=null,Ao=null;function mc(){if(Ao)return Ao;var e,n=ds,l=n.length,s,d="value"in Mn?Mn.value:Mn.textContent,m=d.length;for(e=0;e<l&&n[e]===d[e];e++);var T=l-e;for(s=1;s<=T&&n[l-s]===d[m-s];s++);return Ao=d.slice(e,1<s?1-s:void 0)}function Co(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ro(){return!0}function hc(){return!1}function ht(e){function n(l,s,d,m,T){this._reactName=l,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(l=e[_],this[_]=l?l(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ro:hc,this.isPropagationStopped=hc,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),n}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},No=ht(ei),_l=S({},ei,{view:0,detail:0}),$g=ht(_l),ps,ms,Al,Mo=S({},_l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Al&&(Al&&e.type==="mousemove"?(ps=e.screenX-Al.screenX,ms=e.screenY-Al.screenY):ms=ps=0,Al=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:ms}}),gc=ht(Mo),Wg=S({},Mo,{dataTransfer:0}),jg=ht(Wg),ey=S({},_l,{relatedTarget:0}),hs=ht(ey),ty=S({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),ny=ht(ty),iy=S({},ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ly=ht(iy),oy=S({},ei,{data:0}),yc=ht(oy),ay={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ry={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ry[e])?!!n[e]:!1}function gs(){return uy}var cy=S({},_l,{key:function(e){if(e.key){var n=ay[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?Co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fy=ht(cy),dy=S({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vc=ht(dy),py=S({},_l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),my=ht(py),hy=S({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),gy=ht(hy),yy=S({},Mo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vy=ht(yy),Ty=S({},ei,{newState:0,oldState:0}),Sy=ht(Ty),Ey=[9,13,27,32],ys=an&&"CompositionEvent"in window,Cl=null;an&&"documentMode"in document&&(Cl=document.documentMode);var _y=an&&"TextEvent"in window&&!Cl,Tc=an&&(!ys||Cl&&8<Cl&&11>=Cl),Sc=" ",Ec=!1;function _c(e,n){switch(e){case"keyup":return Ey.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ac(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Di=!1;function Ay(e,n){switch(e){case"compositionend":return Ac(n);case"keypress":return n.which!==32?null:(Ec=!0,Sc);case"textInput":return e=n.data,e===Sc&&Ec?null:e;default:return null}}function Cy(e,n){if(Di)return e==="compositionend"||!ys&&_c(e,n)?(e=mc(),Ao=ds=Mn=null,Di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Tc&&n.locale!=="ko"?null:n.data;default:return null}}var Ry={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ry[e.type]:n==="textarea"}function Rc(e,n,l,s){Ii?bi?bi.push(s):bi=[s]:Ii=s,n=ga(n,"onChange"),0<n.length&&(l=new No("onChange","change",null,l,s),e.push({event:l,listeners:n}))}var Rl=null,Nl=null;function Ny(e){rp(e,0)}function xo(e){var n=Tl(e);if(ac(n))return e}function Nc(e,n){if(e==="change")return n}var Mc=!1;if(an){var vs;if(an){var Ts="oninput"in document;if(!Ts){var xc=document.createElement("div");xc.setAttribute("oninput","return;"),Ts=typeof xc.oninput=="function"}vs=Ts}else vs=!1;Mc=vs&&(!document.documentMode||9<document.documentMode)}function Ic(){Rl&&(Rl.detachEvent("onpropertychange",bc),Nl=Rl=null)}function bc(e){if(e.propertyName==="value"&&xo(Nl)){var n=[];Rc(n,Nl,e,us(e)),pc(Ny,n)}}function My(e,n,l){e==="focusin"?(Ic(),Rl=n,Nl=l,Rl.attachEvent("onpropertychange",bc)):e==="focusout"&&Ic()}function xy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xo(Nl)}function Iy(e,n){if(e==="click")return xo(n)}function by(e,n){if(e==="input"||e==="change")return xo(n)}function Dy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ct=typeof Object.is=="function"?Object.is:Dy;function Ml(e,n){if(Ct(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),s=Object.keys(n);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var d=l[s];if(!Fe.call(n,d)||!Ct(e[d],n[d]))return!1}return!0}function Dc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wc(e,n){var l=Dc(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=n&&s>=n)return{node:l,offset:n-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Dc(l)}}function Uc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Uc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Lc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Eo(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Eo(e.document)}return n}function Ss(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var wy=an&&"documentMode"in document&&11>=document.documentMode,wi=null,Es=null,xl=null,_s=!1;function Gc(e,n,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;_s||wi==null||wi!==Eo(s)||(s=wi,"selectionStart"in s&&Ss(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),xl&&Ml(xl,s)||(xl=s,s=ga(Es,"onSelect"),0<s.length&&(n=new No("onSelect","select",null,n,l),e.push({event:n,listeners:s}),n.target=wi)))}function ti(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Ui={animationend:ti("Animation","AnimationEnd"),animationiteration:ti("Animation","AnimationIteration"),animationstart:ti("Animation","AnimationStart"),transitionrun:ti("Transition","TransitionRun"),transitionstart:ti("Transition","TransitionStart"),transitioncancel:ti("Transition","TransitionCancel"),transitionend:ti("Transition","TransitionEnd")},As={},Hc={};an&&(Hc=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function ni(e){if(As[e])return As[e];if(!Ui[e])return e;var n=Ui[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Hc)return As[e]=n[l];return e}var qc=ni("animationend"),Vc=ni("animationiteration"),Pc=ni("animationstart"),Uy=ni("transitionrun"),Ly=ni("transitionstart"),Gy=ni("transitioncancel"),Oc=ni("transitionend"),zc=new Map,Cs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cs.push("scrollEnd");function Yt(e,n){zc.set(e,n),jn(n,[e])}var Io=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ut=[],Li=0,Rs=0;function bo(){for(var e=Li,n=Rs=Li=0;n<e;){var l=Ut[n];Ut[n++]=null;var s=Ut[n];Ut[n++]=null;var d=Ut[n];Ut[n++]=null;var m=Ut[n];if(Ut[n++]=null,s!==null&&d!==null){var T=s.pending;T===null?d.next=d:(d.next=T.next,T.next=d),s.pending=d}m!==0&&Bc(l,d,m)}}function Do(e,n,l,s){Ut[Li++]=e,Ut[Li++]=n,Ut[Li++]=l,Ut[Li++]=s,Rs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ns(e,n,l,s){return Do(e,n,l,s),wo(e)}function ii(e,n){return Do(e,null,null,n),wo(e)}function Bc(e,n,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var d=!1,m=e.return;m!==null;)m.childLanes|=l,s=m.alternate,s!==null&&(s.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&n!==null&&(d=31-At(l),e=m.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=l|536870912),m):null}function wo(e){if(50<Zl)throw Zl=0,Gr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Gi={};function Hy(e,n,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,n,l,s){return new Hy(e,n,l,s)}function Ms(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sn(e,n){var l=e.alternate;return l===null?(l=Rt(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function kc(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Uo(e,n,l,s,d,m){var T=0;if(s=e,typeof e=="function")Ms(e)&&(T=1);else if(typeof e=="string")T=z0(e,l,j.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case z:return e=Rt(31,l,n,d),e.elementType=z,e.lanes=m,e;case q:return li(l.children,d,m,n);case G:T=8,d|=24;break;case k:return e=Rt(12,l,n,d|2),e.elementType=k,e.lanes=m,e;case ie:return e=Rt(13,l,n,d),e.elementType=ie,e.lanes=m,e;case oe:return e=Rt(19,l,n,d),e.elementType=oe,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:T=10;break e;case Q:T=9;break e;case W:T=11;break e;case K:T=14;break e;case Y:T=16,s=null;break e}T=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=Rt(T,l,n,d),n.elementType=e,n.type=s,n.lanes=m,n}function li(e,n,l,s){return e=Rt(7,e,s,n),e.lanes=l,e}function xs(e,n,l){return e=Rt(6,e,null,n),e.lanes=l,e}function Fc(e){var n=Rt(18,null,null,0);return n.stateNode=e,n}function Is(e,n,l){return n=Rt(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Yc=new WeakMap;function Lt(e,n){if(typeof e=="object"&&e!==null){var l=Yc.get(e);return l!==void 0?l:(n={value:e,source:n,stack:Ve(n)},Yc.set(e,n),n)}return{value:e,source:n,stack:Ve(n)}}var Hi=[],qi=0,Lo=null,Il=0,Gt=[],Ht=0,xn=null,Wt=1,jt="";function rn(e,n){Hi[qi++]=Il,Hi[qi++]=Lo,Lo=e,Il=n}function Jc(e,n,l){Gt[Ht++]=Wt,Gt[Ht++]=jt,Gt[Ht++]=xn,xn=e;var s=Wt;e=jt;var d=32-At(s)-1;s&=~(1<<d),l+=1;var m=32-At(n)+d;if(30<m){var T=d-d%5;m=(s&(1<<T)-1).toString(32),s>>=T,d-=T,Wt=1<<32-At(n)+d|l<<d|s,jt=m+e}else Wt=1<<m|l<<d|s,jt=e}function bs(e){e.return!==null&&(rn(e,1),Jc(e,1,0))}function Ds(e){for(;e===Lo;)Lo=Hi[--qi],Hi[qi]=null,Il=Hi[--qi],Hi[qi]=null;for(;e===xn;)xn=Gt[--Ht],Gt[Ht]=null,jt=Gt[--Ht],Gt[Ht]=null,Wt=Gt[--Ht],Gt[Ht]=null}function Kc(e,n){Gt[Ht++]=Wt,Gt[Ht++]=jt,Gt[Ht++]=xn,Wt=n.id,jt=n.overflow,xn=e}var lt=null,Pe=null,Ee=!1,In=null,qt=!1,ws=Error(a(519));function bn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(Lt(n,e)),ws}function Xc(e){var n=e.stateNode,l=e.type,s=e.memoizedProps;switch(n[it]=e,n[mt]=s,l){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(l=0;l<Wl.length;l++)ve(Wl[l],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":ve("invalid",n),sc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ve("invalid",n);break;case"textarea":ve("invalid",n),uc(n,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||s.suppressHydrationWarning===!0||dp(n.textContent,l)?(s.popover!=null&&(ve("beforetoggle",n),ve("toggle",n)),s.onScroll!=null&&ve("scroll",n),s.onScrollEnd!=null&&ve("scrollend",n),s.onClick!=null&&(n.onclick=on),n=!0):n=!1,n||bn(e,!0)}function Qc(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 31:case 13:qt=!1;return;case 27:case 3:qt=!0;return;default:lt=lt.return}}function Vi(e){if(e!==lt)return!1;if(!Ee)return Qc(e),Ee=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Zr(e.type,e.memoizedProps)),l=!l),l&&Pe&&bn(e),Qc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Pe=Ep(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Pe=Ep(e)}else n===27?(n=Pe,Fn(e.type)?(e=tu,tu=null,Pe=e):Pe=n):Pe=lt?Pt(e.stateNode.nextSibling):null;return!0}function oi(){Pe=lt=null,Ee=!1}function Us(){var e=In;return e!==null&&(Tt===null?Tt=e:Tt.push.apply(Tt,e),In=null),e}function bl(e){In===null?In=[e]:In.push(e)}var Ls=N(null),ai=null,un=null;function Dn(e,n,l){X(Ls,n._currentValue),n._currentValue=l}function cn(e){e._currentValue=Ls.current,P(Ls)}function Gs(e,n,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===l)break;e=e.return}}function Hs(e,n,l,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var T=d.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=d;for(var C=0;C<n.length;C++)if(_.context===n[C]){m.lanes|=l,_=m.alternate,_!==null&&(_.lanes|=l),Gs(m.return,l,e),s||(T=null);break e}m=_.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(a(341));T.lanes|=l,m=T.alternate,m!==null&&(m.lanes|=l),Gs(T,l,e),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===e){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Pi(e,n,l,s){e=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var _=d.type;Ct(d.pendingProps.value,T.value)||(e!==null?e.push(_):e=[_])}}else if(d===_e.current){if(T=d.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(io):e=[io])}d=d.return}e!==null&&Hs(n,e,l,s),n.flags|=262144}function Go(e){for(e=e.firstContext;e!==null;){if(!Ct(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function si(e){ai=e,un=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return Zc(ai,e)}function Ho(e,n){return ai===null&&si(e),Zc(e,n)}function Zc(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},un===null){if(e===null)throw Error(a(308));un=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else un=un.next=n;return l}var qy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},Vy=i.unstable_scheduleCallback,Py=i.unstable_NormalPriority,Ke={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qs(){return{controller:new qy,data:new Map,refCount:0}}function Dl(e){e.refCount--,e.refCount===0&&Vy(Py,function(){e.controller.abort()})}var wl=null,Vs=0,Oi=0,zi=null;function Oy(e,n){if(wl===null){var l=wl=[];Vs=0,Oi=zr(),zi={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Vs++,n.then($c,$c),n}function $c(){if(--Vs===0&&wl!==null){zi!==null&&(zi.status="fulfilled");var e=wl;wl=null,Oi=0,zi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function zy(e,n){var l=[],s={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<l.length;d++)(0,l[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),s}var Wc=L.S;L.S=function(e,n){Hd=rt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Oy(e,n),Wc!==null&&Wc(e,n)};var ri=N(null);function Ps(){var e=ri.current;return e!==null?e:qe.pooledCache}function qo(e,n){n===null?X(ri,ri.current):X(ri,n.pool)}function jc(){var e=Ps();return e===null?null:{parent:Ke._currentValue,pool:e}}var Bi=Error(a(460)),Os=Error(a(474)),Vo=Error(a(542)),Po={then:function(){}};function ef(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tf(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(on,on),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lf(e),e;default:if(typeof n.status=="string")n.then(on,on);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lf(e),e}throw ci=n,Bi}}function ui(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ci=l,Bi):l}}var ci=null;function nf(){if(ci===null)throw Error(a(459));var e=ci;return ci=null,e}function lf(e){if(e===Bi||e===Vo)throw Error(a(483))}var ki=null,Ul=0;function Oo(e){var n=Ul;return Ul+=1,ki===null&&(ki=[]),tf(ki,e,n)}function Ll(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zo(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function of(e){function n(x,R){if(e){var I=x.deletions;I===null?(x.deletions=[R],x.flags|=16):I.push(R)}}function l(x,R){if(!e)return null;for(;R!==null;)n(x,R),R=R.sibling;return null}function s(x){for(var R=new Map;x!==null;)x.key!==null?R.set(x.key,x):R.set(x.index,x),x=x.sibling;return R}function d(x,R){return x=sn(x,R),x.index=0,x.sibling=null,x}function m(x,R,I){return x.index=I,e?(I=x.alternate,I!==null?(I=I.index,I<R?(x.flags|=67108866,R):I):(x.flags|=67108866,R)):(x.flags|=1048576,R)}function T(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function _(x,R,I,O){return R===null||R.tag!==6?(R=xs(I,x.mode,O),R.return=x,R):(R=d(R,I),R.return=x,R)}function C(x,R,I,O){var le=I.type;return le===q?V(x,R,I.props.children,O,I.key):R!==null&&(R.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Y&&ui(le)===R.type)?(R=d(R,I.props),Ll(R,I),R.return=x,R):(R=Uo(I.type,I.key,I.props,null,x.mode,O),Ll(R,I),R.return=x,R)}function b(x,R,I,O){return R===null||R.tag!==4||R.stateNode.containerInfo!==I.containerInfo||R.stateNode.implementation!==I.implementation?(R=Is(I,x.mode,O),R.return=x,R):(R=d(R,I.children||[]),R.return=x,R)}function V(x,R,I,O,le){return R===null||R.tag!==7?(R=li(I,x.mode,O,le),R.return=x,R):(R=d(R,I),R.return=x,R)}function B(x,R,I){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=xs(""+R,x.mode,I),R.return=x,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case A:return I=Uo(R.type,R.key,R.props,null,x.mode,I),Ll(I,R),I.return=x,I;case w:return R=Is(R,x.mode,I),R.return=x,R;case Y:return R=ui(R),B(x,R,I)}if(Ue(R)||se(R))return R=li(R,x.mode,I,null),R.return=x,R;if(typeof R.then=="function")return B(x,Oo(R),I);if(R.$$typeof===F)return B(x,Ho(x,R),I);zo(x,R)}return null}function D(x,R,I,O){var le=R!==null?R.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return le!==null?null:_(x,R,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case A:return I.key===le?C(x,R,I,O):null;case w:return I.key===le?b(x,R,I,O):null;case Y:return I=ui(I),D(x,R,I,O)}if(Ue(I)||se(I))return le!==null?null:V(x,R,I,O,null);if(typeof I.then=="function")return D(x,R,Oo(I),O);if(I.$$typeof===F)return D(x,R,Ho(x,I),O);zo(x,I)}return null}function H(x,R,I,O,le){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return x=x.get(I)||null,_(R,x,""+O,le);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return x=x.get(O.key===null?I:O.key)||null,C(R,x,O,le);case w:return x=x.get(O.key===null?I:O.key)||null,b(R,x,O,le);case Y:return O=ui(O),H(x,R,I,O,le)}if(Ue(O)||se(O))return x=x.get(I)||null,V(R,x,O,le,null);if(typeof O.then=="function")return H(x,R,I,Oo(O),le);if(O.$$typeof===F)return H(x,R,I,Ho(R,O),le);zo(R,O)}return null}function ee(x,R,I,O){for(var le=null,Ae=null,ne=R,me=R=0,Se=null;ne!==null&&me<I.length;me++){ne.index>me?(Se=ne,ne=null):Se=ne.sibling;var Ce=D(x,ne,I[me],O);if(Ce===null){ne===null&&(ne=Se);break}e&&ne&&Ce.alternate===null&&n(x,ne),R=m(Ce,R,me),Ae===null?le=Ce:Ae.sibling=Ce,Ae=Ce,ne=Se}if(me===I.length)return l(x,ne),Ee&&rn(x,me),le;if(ne===null){for(;me<I.length;me++)ne=B(x,I[me],O),ne!==null&&(R=m(ne,R,me),Ae===null?le=ne:Ae.sibling=ne,Ae=ne);return Ee&&rn(x,me),le}for(ne=s(ne);me<I.length;me++)Se=H(ne,x,me,I[me],O),Se!==null&&(e&&Se.alternate!==null&&ne.delete(Se.key===null?me:Se.key),R=m(Se,R,me),Ae===null?le=Se:Ae.sibling=Se,Ae=Se);return e&&ne.forEach(function(Qn){return n(x,Qn)}),Ee&&rn(x,me),le}function ue(x,R,I,O){if(I==null)throw Error(a(151));for(var le=null,Ae=null,ne=R,me=R=0,Se=null,Ce=I.next();ne!==null&&!Ce.done;me++,Ce=I.next()){ne.index>me?(Se=ne,ne=null):Se=ne.sibling;var Qn=D(x,ne,Ce.value,O);if(Qn===null){ne===null&&(ne=Se);break}e&&ne&&Qn.alternate===null&&n(x,ne),R=m(Qn,R,me),Ae===null?le=Qn:Ae.sibling=Qn,Ae=Qn,ne=Se}if(Ce.done)return l(x,ne),Ee&&rn(x,me),le;if(ne===null){for(;!Ce.done;me++,Ce=I.next())Ce=B(x,Ce.value,O),Ce!==null&&(R=m(Ce,R,me),Ae===null?le=Ce:Ae.sibling=Ce,Ae=Ce);return Ee&&rn(x,me),le}for(ne=s(ne);!Ce.done;me++,Ce=I.next())Ce=H(ne,x,me,Ce.value,O),Ce!==null&&(e&&Ce.alternate!==null&&ne.delete(Ce.key===null?me:Ce.key),R=m(Ce,R,me),Ae===null?le=Ce:Ae.sibling=Ce,Ae=Ce);return e&&ne.forEach(function(W0){return n(x,W0)}),Ee&&rn(x,me),le}function He(x,R,I,O){if(typeof I=="object"&&I!==null&&I.type===q&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case A:e:{for(var le=I.key;R!==null;){if(R.key===le){if(le=I.type,le===q){if(R.tag===7){l(x,R.sibling),O=d(R,I.props.children),O.return=x,x=O;break e}}else if(R.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Y&&ui(le)===R.type){l(x,R.sibling),O=d(R,I.props),Ll(O,I),O.return=x,x=O;break e}l(x,R);break}else n(x,R);R=R.sibling}I.type===q?(O=li(I.props.children,x.mode,O,I.key),O.return=x,x=O):(O=Uo(I.type,I.key,I.props,null,x.mode,O),Ll(O,I),O.return=x,x=O)}return T(x);case w:e:{for(le=I.key;R!==null;){if(R.key===le)if(R.tag===4&&R.stateNode.containerInfo===I.containerInfo&&R.stateNode.implementation===I.implementation){l(x,R.sibling),O=d(R,I.children||[]),O.return=x,x=O;break e}else{l(x,R);break}else n(x,R);R=R.sibling}O=Is(I,x.mode,O),O.return=x,x=O}return T(x);case Y:return I=ui(I),He(x,R,I,O)}if(Ue(I))return ee(x,R,I,O);if(se(I)){if(le=se(I),typeof le!="function")throw Error(a(150));return I=le.call(I),ue(x,R,I,O)}if(typeof I.then=="function")return He(x,R,Oo(I),O);if(I.$$typeof===F)return He(x,R,Ho(x,I),O);zo(x,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,R!==null&&R.tag===6?(l(x,R.sibling),O=d(R,I),O.return=x,x=O):(l(x,R),O=xs(I,x.mode,O),O.return=x,x=O),T(x)):l(x,R)}return function(x,R,I,O){try{Ul=0;var le=He(x,R,I,O);return ki=null,le}catch(ne){if(ne===Bi||ne===Vo)throw ne;var Ae=Rt(29,ne,null,x.mode);return Ae.lanes=O,Ae.return=x,Ae}finally{}}}var fi=of(!0),af=of(!1),wn=!1;function zs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Un(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ln(e,n,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(xe&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=wo(e),Bc(e,null,l),n}return Do(e,s,n,l),wo(e)}function Gl(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,Zu(e,l)}}function ks(e,n){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=T:m=m.next=T,l=l.next}while(l!==null);m===null?d=m=n:m=m.next=n}else d=m=n;l={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Fs=!1;function Hl(){if(Fs){var e=zi;if(e!==null)throw e}}function ql(e,n,l,s){Fs=!1;var d=e.updateQueue;wn=!1;var m=d.firstBaseUpdate,T=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var C=_,b=C.next;C.next=null,T===null?m=b:T.next=b,T=C;var V=e.alternate;V!==null&&(V=V.updateQueue,_=V.lastBaseUpdate,_!==T&&(_===null?V.firstBaseUpdate=b:_.next=b,V.lastBaseUpdate=C))}if(m!==null){var B=d.baseState;T=0,V=b=C=null,_=m;do{var D=_.lane&-536870913,H=D!==_.lane;if(H?(Te&D)===D:(s&D)===D){D!==0&&D===Oi&&(Fs=!0),V!==null&&(V=V.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ee=e,ue=_;D=n;var He=l;switch(ue.tag){case 1:if(ee=ue.payload,typeof ee=="function"){B=ee.call(He,B,D);break e}B=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=ue.payload,D=typeof ee=="function"?ee.call(He,B,D):ee,D==null)break e;B=S({},B,D);break e;case 2:wn=!0}}D=_.callback,D!==null&&(e.flags|=64,H&&(e.flags|=8192),H=d.callbacks,H===null?d.callbacks=[D]:H.push(D))}else H={lane:D,tag:_.tag,payload:_.payload,callback:_.callback,next:null},V===null?(b=V=H,C=B):V=V.next=H,T|=D;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;H=_,_=H.next,H.next=null,d.lastBaseUpdate=H,d.shared.pending=null}}while(!0);V===null&&(C=B),d.baseState=C,d.firstBaseUpdate=b,d.lastBaseUpdate=V,m===null&&(d.shared.lanes=0),Pn|=T,e.lanes=T,e.memoizedState=B}}function sf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function rf(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)sf(l[e],n)}var Fi=N(null),Bo=N(0);function uf(e,n){e=Tn,X(Bo,e),X(Fi,n),Tn=e|n.baseLanes}function Ys(){X(Bo,Tn),X(Fi,Fi.current)}function Js(){Tn=Bo.current,P(Fi),P(Bo)}var Nt=N(null),Vt=null;function Gn(e){var n=e.alternate;X(Ye,Ye.current&1),X(Nt,e),Vt===null&&(n===null||Fi.current!==null||n.memoizedState!==null)&&(Vt=e)}function Ks(e){X(Ye,Ye.current),X(Nt,e),Vt===null&&(Vt=e)}function cf(e){e.tag===22?(X(Ye,Ye.current),X(Nt,e),Vt===null&&(Vt=e)):Hn()}function Hn(){X(Ye,Ye.current),X(Nt,Nt.current)}function Mt(e){P(Nt),Vt===e&&(Vt=null),P(Ye)}var Ye=N(0);function ko(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||jr(l)||eu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var fn=0,pe=null,Le=null,Xe=null,Fo=!1,Yi=!1,di=!1,Yo=0,Vl=0,Ji=null,By=0;function Be(){throw Error(a(321))}function Xs(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Ct(e[l],n[l]))return!1;return!0}function Qs(e,n,l,s,d,m){return fn=m,pe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=e===null||e.memoizedState===null?Kf:cr,di=!1,m=l(s,d),di=!1,Yi&&(m=df(n,l,s,d)),ff(e),m}function ff(e){L.H=zl;var n=Le!==null&&Le.next!==null;if(fn=0,Xe=Le=pe=null,Fo=!1,Vl=0,Ji=null,n)throw Error(a(300));e===null||Qe||(e=e.dependencies,e!==null&&Go(e)&&(Qe=!0))}function df(e,n,l,s){pe=e;var d=0;do{if(Yi&&(Ji=null),Vl=0,Yi=!1,25<=d)throw Error(a(301));if(d+=1,Xe=Le=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}L.H=Xf,m=n(l,s)}while(Yi);return m}function ky(){var e=L.H,n=e.useState()[0];return n=typeof n.then=="function"?Pl(n):n,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(pe.flags|=1024),n}function Zs(){var e=Yo!==0;return Yo=0,e}function $s(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function Ws(e){if(Fo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Fo=!1}fn=0,Xe=Le=pe=null,Yi=!1,Vl=Yo=0,Ji=null}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?pe.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Je(){if(Le===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var n=Xe===null?pe.memoizedState:Xe.next;if(n!==null)Xe=n,Le=e;else{if(e===null)throw pe.alternate===null?Error(a(467)):Error(a(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Xe===null?pe.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(e){var n=Vl;return Vl+=1,Ji===null&&(Ji=[]),e=tf(Ji,e,n),n=pe,(Xe===null?n.memoizedState:Xe.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?Kf:cr),e}function Ko(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pl(e);if(e.$$typeof===F)return ot(e)}throw Error(a(438,String(e)))}function js(e){var n=null,l=pe.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var s=pe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Jo(),pe.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),s=0;s<e;s++)l[s]=Z;return n.index++,l}function dn(e,n){return typeof n=="function"?n(e):n}function Xo(e){var n=Je();return er(n,Le,e)}function er(e,n,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var d=e.baseQueue,m=s.pending;if(m!==null){if(d!==null){var T=d.next;d.next=m.next,m.next=T}n.baseQueue=d=m,s.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{n=d.next;var _=T=null,C=null,b=n,V=!1;do{var B=b.lane&-536870913;if(B!==b.lane?(Te&B)===B:(fn&B)===B){var D=b.revertLane;if(D===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),B===Oi&&(V=!0);else if((fn&D)===D){b=b.next,D===Oi&&(V=!0);continue}else B={lane:0,revertLane:b.revertLane,gesture:null,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},C===null?(_=C=B,T=m):C=C.next=B,pe.lanes|=D,Pn|=D;B=b.action,di&&l(m,B),m=b.hasEagerState?b.eagerState:l(m,B)}else D={lane:B,revertLane:b.revertLane,gesture:b.gesture,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},C===null?(_=C=D,T=m):C=C.next=D,pe.lanes|=B,Pn|=B;b=b.next}while(b!==null&&b!==n);if(C===null?T=m:C.next=_,!Ct(m,e.memoizedState)&&(Qe=!0,V&&(l=zi,l!==null)))throw l;e.memoizedState=m,e.baseState=T,e.baseQueue=C,s.lastRenderedState=m}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function tr(e){var n=Je(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,d=l.pending,m=n.memoizedState;if(d!==null){l.pending=null;var T=d=d.next;do m=e(m,T.action),T=T.next;while(T!==d);Ct(m,n.memoizedState)||(Qe=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,s]}function pf(e,n,l){var s=pe,d=Je(),m=Ee;if(m){if(l===void 0)throw Error(a(407));l=l()}else l=n();var T=!Ct((Le||d).memoizedState,l);if(T&&(d.memoizedState=l,Qe=!0),d=d.queue,lr(gf.bind(null,s,d,e),[e]),d.getSnapshot!==n||T||Xe!==null&&Xe.memoizedState.tag&1){if(s.flags|=2048,Ki(9,{destroy:void 0},hf.bind(null,s,d,l,n),null),qe===null)throw Error(a(349));m||(fn&127)!==0||mf(s,n,l)}return l}function mf(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=pe.updateQueue,n===null?(n=Jo(),pe.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function hf(e,n,l,s){n.value=l,n.getSnapshot=s,yf(n)&&vf(e)}function gf(e,n,l){return l(function(){yf(n)&&vf(e)})}function yf(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Ct(e,l)}catch{return!0}}function vf(e){var n=ii(e,2);n!==null&&St(n,e,2)}function nr(e){var n=ft();if(typeof e=="function"){var l=e;if(e=l(),di){Rn(!0);try{l()}finally{Rn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dn,lastRenderedState:e},n}function Tf(e,n,l,s){return e.baseState=l,er(e,Le,typeof s=="function"?s:dn)}function Fy(e,n,l,s,d){if($o(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};L.T!==null?l(!0):m.isTransition=!1,s(m),l=n.pending,l===null?(m.next=n.pending=m,Sf(n,m)):(m.next=l.next,n.pending=l.next=m)}}function Sf(e,n){var l=n.action,s=n.payload,d=e.state;if(n.isTransition){var m=L.T,T={};L.T=T;try{var _=l(d,s),C=L.S;C!==null&&C(T,_),Ef(e,n,_)}catch(b){ir(e,n,b)}finally{m!==null&&T.types!==null&&(m.types=T.types),L.T=m}}else try{m=l(d,s),Ef(e,n,m)}catch(b){ir(e,n,b)}}function Ef(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){_f(e,n,s)},function(s){return ir(e,n,s)}):_f(e,n,l)}function _f(e,n,l){n.status="fulfilled",n.value=l,Af(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Sf(e,l)))}function ir(e,n,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=l,Af(n),n=n.next;while(n!==s)}e.action=null}function Af(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Cf(e,n){return n}function Rf(e,n){if(Ee){var l=qe.formState;if(l!==null){e:{var s=pe;if(Ee){if(Pe){t:{for(var d=Pe,m=qt;d.nodeType!==8;){if(!m){d=null;break t}if(d=Pt(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Pe=Pt(d.nextSibling),s=d.data==="F!";break e}}bn(s)}s=!1}s&&(n=l[0])}}return l=ft(),l.memoizedState=l.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cf,lastRenderedState:n},l.queue=s,l=Ff.bind(null,pe,s),s.dispatch=l,s=nr(!1),m=ur.bind(null,pe,!1,s.queue),s=ft(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,l=Fy.bind(null,pe,d,m,l),d.dispatch=l,s.memoizedState=e,[n,l,!1]}function Nf(e){var n=Je();return Mf(n,Le,e)}function Mf(e,n,l){if(n=er(e,n,Cf)[0],e=Xo(dn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Pl(n)}catch(T){throw T===Bi?Vo:T}else s=n;n=Je();var d=n.queue,m=d.dispatch;return l!==n.memoizedState&&(pe.flags|=2048,Ki(9,{destroy:void 0},Yy.bind(null,d,l),null)),[s,m,e]}function Yy(e,n){e.action=n}function xf(e){var n=Je(),l=Le;if(l!==null)return Mf(n,l,e);Je(),n=n.memoizedState,l=Je();var s=l.queue.dispatch;return l.memoizedState=e,[n,s,!1]}function Ki(e,n,l,s){return e={tag:e,create:l,deps:s,inst:n,next:null},n=pe.updateQueue,n===null&&(n=Jo(),pe.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,n.lastEffect=e),e}function If(){return Je().memoizedState}function Qo(e,n,l,s){var d=ft();pe.flags|=e,d.memoizedState=Ki(1|n,{destroy:void 0},l,s===void 0?null:s)}function Zo(e,n,l,s){var d=Je();s=s===void 0?null:s;var m=d.memoizedState.inst;Le!==null&&s!==null&&Xs(s,Le.memoizedState.deps)?d.memoizedState=Ki(n,m,l,s):(pe.flags|=e,d.memoizedState=Ki(1|n,m,l,s))}function bf(e,n){Qo(8390656,8,e,n)}function lr(e,n){Zo(2048,8,e,n)}function Jy(e){pe.flags|=4;var n=pe.updateQueue;if(n===null)n=Jo(),pe.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function Df(e){var n=Je().memoizedState;return Jy({ref:n,nextImpl:e}),function(){if((xe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function wf(e,n){return Zo(4,2,e,n)}function Uf(e,n){return Zo(4,4,e,n)}function Lf(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Gf(e,n,l){l=l!=null?l.concat([e]):null,Zo(4,4,Lf.bind(null,n,e),l)}function or(){}function Hf(e,n){var l=Je();n=n===void 0?null:n;var s=l.memoizedState;return n!==null&&Xs(n,s[1])?s[0]:(l.memoizedState=[e,n],e)}function qf(e,n){var l=Je();n=n===void 0?null:n;var s=l.memoizedState;if(n!==null&&Xs(n,s[1]))return s[0];if(s=e(),di){Rn(!0);try{e()}finally{Rn(!1)}}return l.memoizedState=[s,n],s}function ar(e,n,l){return l===void 0||(fn&1073741824)!==0&&(Te&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=Vd(),pe.lanes|=e,Pn|=e,l)}function Vf(e,n,l,s){return Ct(l,n)?l:Fi.current!==null?(e=ar(e,l,s),Ct(e,n)||(Qe=!0),e):(fn&42)===0||(fn&1073741824)!==0&&(Te&261930)===0?(Qe=!0,e.memoizedState=l):(e=Vd(),pe.lanes|=e,Pn|=e,n)}function Pf(e,n,l,s,d){var m=J.p;J.p=m!==0&&8>m?m:8;var T=L.T,_={};L.T=_,ur(e,!1,n,l);try{var C=d(),b=L.S;if(b!==null&&b(_,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var V=zy(C,s);Ol(e,n,V,bt(e))}else Ol(e,n,s,bt(e))}catch(B){Ol(e,n,{then:function(){},status:"rejected",reason:B},bt())}finally{J.p=m,T!==null&&_.types!==null&&(T.types=_.types),L.T=T}}function Ky(){}function sr(e,n,l,s){if(e.tag!==5)throw Error(a(476));var d=Of(e).queue;Pf(e,d,n,re,l===null?Ky:function(){return zf(e),l(s)})}function Of(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dn,lastRenderedState:re},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function zf(e){var n=Of(e);n.next===null&&(n=e.alternate.memoizedState),Ol(e,n.next.queue,{},bt())}function rr(){return ot(io)}function Bf(){return Je().memoizedState}function kf(){return Je().memoizedState}function Xy(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=bt();e=Un(l);var s=Ln(n,e,l);s!==null&&(St(s,n,l),Gl(s,n,l)),n={cache:qs()},e.payload=n;return}n=n.return}}function Qy(e,n,l){var s=bt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},$o(e)?Yf(n,l):(l=Ns(e,n,l,s),l!==null&&(St(l,e,s),Jf(l,n,s)))}function Ff(e,n,l){var s=bt();Ol(e,n,l,s)}function Ol(e,n,l,s){var d={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if($o(e))Yf(n,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,_=m(T,l);if(d.hasEagerState=!0,d.eagerState=_,Ct(_,T))return Do(e,n,d,0),qe===null&&bo(),!1}catch{}finally{}if(l=Ns(e,n,d,s),l!==null)return St(l,e,s),Jf(l,n,s),!0}return!1}function ur(e,n,l,s){if(s={lane:2,revertLane:zr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},$o(e)){if(n)throw Error(a(479))}else n=Ns(e,l,s,2),n!==null&&St(n,e,2)}function $o(e){var n=e.alternate;return e===pe||n!==null&&n===pe}function Yf(e,n){Yi=Fo=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Jf(e,n,l){if((l&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,Zu(e,l)}}var zl={readContext:ot,use:Ko,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};zl.useEffectEvent=Be;var Kf={readContext:ot,use:Ko,useCallback:function(e,n){return ft().memoizedState=[e,n===void 0?null:n],e},useContext:ot,useEffect:bf,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,Qo(4194308,4,Lf.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Qo(4194308,4,e,n)},useInsertionEffect:function(e,n){Qo(4,2,e,n)},useMemo:function(e,n){var l=ft();n=n===void 0?null:n;var s=e();if(di){Rn(!0);try{e()}finally{Rn(!1)}}return l.memoizedState=[s,n],s},useReducer:function(e,n,l){var s=ft();if(l!==void 0){var d=l(n);if(di){Rn(!0);try{l(n)}finally{Rn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=Qy.bind(null,pe,e),[s.memoizedState,e]},useRef:function(e){var n=ft();return e={current:e},n.memoizedState=e},useState:function(e){e=nr(e);var n=e.queue,l=Ff.bind(null,pe,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:or,useDeferredValue:function(e,n){var l=ft();return ar(l,e,n)},useTransition:function(){var e=nr(!1);return e=Pf.bind(null,pe,e.queue,!0,!1),ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var s=pe,d=ft();if(Ee){if(l===void 0)throw Error(a(407));l=l()}else{if(l=n(),qe===null)throw Error(a(349));(Te&127)!==0||mf(s,n,l)}d.memoizedState=l;var m={value:l,getSnapshot:n};return d.queue=m,bf(gf.bind(null,s,m,e),[e]),s.flags|=2048,Ki(9,{destroy:void 0},hf.bind(null,s,m,l,n),null),l},useId:function(){var e=ft(),n=qe.identifierPrefix;if(Ee){var l=jt,s=Wt;l=(s&~(1<<32-At(s)-1)).toString(32)+l,n="_"+n+"R_"+l,l=Yo++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=By++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:rr,useFormState:Rf,useActionState:Rf,useOptimistic:function(e){var n=ft();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=ur.bind(null,pe,!0,l),l.dispatch=n,[e,n]},useMemoCache:js,useCacheRefresh:function(){return ft().memoizedState=Xy.bind(null,pe)},useEffectEvent:function(e){var n=ft(),l={impl:e};return n.memoizedState=l,function(){if((xe&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},cr={readContext:ot,use:Ko,useCallback:Hf,useContext:ot,useEffect:lr,useImperativeHandle:Gf,useInsertionEffect:wf,useLayoutEffect:Uf,useMemo:qf,useReducer:Xo,useRef:If,useState:function(){return Xo(dn)},useDebugValue:or,useDeferredValue:function(e,n){var l=Je();return Vf(l,Le.memoizedState,e,n)},useTransition:function(){var e=Xo(dn)[0],n=Je().memoizedState;return[typeof e=="boolean"?e:Pl(e),n]},useSyncExternalStore:pf,useId:Bf,useHostTransitionStatus:rr,useFormState:Nf,useActionState:Nf,useOptimistic:function(e,n){var l=Je();return Tf(l,Le,e,n)},useMemoCache:js,useCacheRefresh:kf};cr.useEffectEvent=Df;var Xf={readContext:ot,use:Ko,useCallback:Hf,useContext:ot,useEffect:lr,useImperativeHandle:Gf,useInsertionEffect:wf,useLayoutEffect:Uf,useMemo:qf,useReducer:tr,useRef:If,useState:function(){return tr(dn)},useDebugValue:or,useDeferredValue:function(e,n){var l=Je();return Le===null?ar(l,e,n):Vf(l,Le.memoizedState,e,n)},useTransition:function(){var e=tr(dn)[0],n=Je().memoizedState;return[typeof e=="boolean"?e:Pl(e),n]},useSyncExternalStore:pf,useId:Bf,useHostTransitionStatus:rr,useFormState:xf,useActionState:xf,useOptimistic:function(e,n){var l=Je();return Le!==null?Tf(l,Le,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:js,useCacheRefresh:kf};Xf.useEffectEvent=Df;function fr(e,n,l,s){n=e.memoizedState,l=l(s,n),l=l==null?n:S({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var dr={enqueueSetState:function(e,n,l){e=e._reactInternals;var s=bt(),d=Un(s);d.payload=n,l!=null&&(d.callback=l),n=Ln(e,d,s),n!==null&&(St(n,e,s),Gl(n,e,s))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var s=bt(),d=Un(s);d.tag=1,d.payload=n,l!=null&&(d.callback=l),n=Ln(e,d,s),n!==null&&(St(n,e,s),Gl(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=bt(),s=Un(l);s.tag=2,n!=null&&(s.callback=n),n=Ln(e,s,l),n!==null&&(St(n,e,l),Gl(n,e,l))}};function Qf(e,n,l,s,d,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,T):n.prototype&&n.prototype.isPureReactComponent?!Ml(l,s)||!Ml(d,m):!0}function Zf(e,n,l,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,s),n.state!==e&&dr.enqueueReplaceState(n,n.state,null)}function pi(e,n){var l=n;if("ref"in n){l={};for(var s in n)s!=="ref"&&(l[s]=n[s])}if(e=e.defaultProps){l===n&&(l=S({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}function $f(e){Io(e)}function Wf(e){console.error(e)}function jf(e){Io(e)}function Wo(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function ed(e,n,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function pr(e,n,l){return l=Un(l),l.tag=3,l.payload={element:null},l.callback=function(){Wo(e,n)},l}function td(e){return e=Un(e),e.tag=3,e}function nd(e,n,l,s){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;e.payload=function(){return d(m)},e.callback=function(){ed(n,l,s)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){ed(n,l,s),typeof d!="function"&&(On===null?On=new Set([this]):On.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function Zy(e,n,l,s,d){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=l.alternate,n!==null&&Pi(n,l,d,!0),l=Nt.current,l!==null){switch(l.tag){case 31:case 13:return Vt===null?ca():l.alternate===null&&ke===0&&(ke=3),l.flags&=-257,l.flags|=65536,l.lanes=d,s===Po?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([s]):n.add(s),Vr(e,s,d)),!1;case 22:return l.flags|=65536,s===Po?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([s]):l.add(s)),Vr(e,s,d)),!1}throw Error(a(435,l.tag))}return Vr(e,s,d),ca(),!1}if(Ee)return n=Nt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==ws&&(e=Error(a(422),{cause:s}),bl(Lt(e,l)))):(s!==ws&&(n=Error(a(423),{cause:s}),bl(Lt(n,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=Lt(s,l),d=pr(e.stateNode,s,d),ks(e,d),ke!==4&&(ke=2)),!1;var m=Error(a(520),{cause:s});if(m=Lt(m,l),Ql===null?Ql=[m]:Ql.push(m),ke!==4&&(ke=2),n===null)return!0;s=Lt(s,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=pr(l.stateNode,s,e),ks(l,e),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(On===null||!On.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=td(d),nd(d,e,l,s),ks(l,d),!1}l=l.return}while(l!==null);return!1}var mr=Error(a(461)),Qe=!1;function at(e,n,l,s){n.child=e===null?af(n,null,l,s):fi(n,e.child,l,s)}function id(e,n,l,s,d){l=l.render;var m=n.ref;if("ref"in s){var T={};for(var _ in s)_!=="ref"&&(T[_]=s[_])}else T=s;return si(n),s=Qs(e,n,l,T,m,d),_=Zs(),e!==null&&!Qe?($s(e,n,d),pn(e,n,d)):(Ee&&_&&bs(n),n.flags|=1,at(e,n,s,d),n.child)}function ld(e,n,l,s,d){if(e===null){var m=l.type;return typeof m=="function"&&!Ms(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,od(e,n,m,s,d)):(e=Uo(l.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!_r(e,d)){var T=m.memoizedProps;if(l=l.compare,l=l!==null?l:Ml,l(T,s)&&e.ref===n.ref)return pn(e,n,d)}return n.flags|=1,e=sn(m,s),e.ref=n.ref,e.return=n,n.child=e}function od(e,n,l,s,d){if(e!==null){var m=e.memoizedProps;if(Ml(m,s)&&e.ref===n.ref)if(Qe=!1,n.pendingProps=s=m,_r(e,d))(e.flags&131072)!==0&&(Qe=!0);else return n.lanes=e.lanes,pn(e,n,d)}return hr(e,n,l,s,d)}function ad(e,n,l,s){var d=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~m}else s=0,n.child=null;return sd(e,n,m,l,s)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&qo(n,m!==null?m.cachePool:null),m!==null?uf(n,m):Ys(),cf(n);else return s=n.lanes=536870912,sd(e,n,m!==null?m.baseLanes|l:l,l,s)}else m!==null?(qo(n,m.cachePool),uf(n,m),Hn(),n.memoizedState=null):(e!==null&&qo(n,null),Ys(),Hn());return at(e,n,d,l),n.child}function Bl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sd(e,n,l,s,d){var m=Ps();return m=m===null?null:{parent:Ke._currentValue,pool:m},n.memoizedState={baseLanes:l,cachePool:m},e!==null&&qo(n,null),Ys(),cf(n),e!==null&&Pi(e,n,s,!0),n.childLanes=d,null}function jo(e,n){return n=ta({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function rd(e,n,l){return fi(n,e.child,null,l),e=jo(n,n.pendingProps),e.flags|=2,Mt(n),n.memoizedState=null,e}function $y(e,n,l){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ee){if(s.mode==="hidden")return e=jo(n,s),n.lanes=536870912,Bl(null,e);if(Ks(n),(e=Pe)?(e=Sp(e,qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:xn!==null?{id:Wt,overflow:jt}:null,retryLane:536870912,hydrationErrors:null},l=Fc(e),l.return=n,n.child=l,lt=n,Pe=null)):e=null,e===null)throw bn(n);return n.lanes=536870912,null}return jo(n,s)}var m=e.memoizedState;if(m!==null){var T=m.dehydrated;if(Ks(n),d)if(n.flags&256)n.flags&=-257,n=rd(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Qe||Pi(e,n,l,!1),d=(l&e.childLanes)!==0,Qe||d){if(s=qe,s!==null&&(T=$u(s,l),T!==0&&T!==m.retryLane))throw m.retryLane=T,ii(e,T),St(s,e,T),mr;ca(),n=rd(e,n,l)}else e=m.treeContext,Pe=Pt(T.nextSibling),lt=n,Ee=!0,In=null,qt=!1,e!==null&&Kc(n,e),n=jo(n,s),n.flags|=4096;return n}return e=sn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ea(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function hr(e,n,l,s,d){return si(n),l=Qs(e,n,l,s,void 0,d),s=Zs(),e!==null&&!Qe?($s(e,n,d),pn(e,n,d)):(Ee&&s&&bs(n),n.flags|=1,at(e,n,l,d),n.child)}function ud(e,n,l,s,d,m){return si(n),n.updateQueue=null,l=df(n,s,l,d),ff(e),s=Zs(),e!==null&&!Qe?($s(e,n,m),pn(e,n,m)):(Ee&&s&&bs(n),n.flags|=1,at(e,n,l,m),n.child)}function cd(e,n,l,s,d){if(si(n),n.stateNode===null){var m=Gi,T=l.contextType;typeof T=="object"&&T!==null&&(m=ot(T)),m=new l(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=dr,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},zs(n),T=l.contextType,m.context=typeof T=="object"&&T!==null?ot(T):Gi,m.state=n.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(fr(n,l,T,s),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&dr.enqueueReplaceState(m,m.state,null),ql(n,s,m,d),Hl(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var _=n.memoizedProps,C=pi(l,_);m.props=C;var b=m.context,V=l.contextType;T=Gi,typeof V=="object"&&V!==null&&(T=ot(V));var B=l.getDerivedStateFromProps;V=typeof B=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,V||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||b!==T)&&Zf(n,m,s,T),wn=!1;var D=n.memoizedState;m.state=D,ql(n,s,m,d),Hl(),b=n.memoizedState,_||D!==b||wn?(typeof B=="function"&&(fr(n,l,B,s),b=n.memoizedState),(C=wn||Qf(n,l,C,s,D,b,T))?(V||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=b),m.props=s,m.state=b,m.context=T,s=C):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,Bs(e,n),T=n.memoizedProps,V=pi(l,T),m.props=V,B=n.pendingProps,D=m.context,b=l.contextType,C=Gi,typeof b=="object"&&b!==null&&(C=ot(b)),_=l.getDerivedStateFromProps,(b=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==B||D!==C)&&Zf(n,m,s,C),wn=!1,D=n.memoizedState,m.state=D,ql(n,s,m,d),Hl();var H=n.memoizedState;T!==B||D!==H||wn||e!==null&&e.dependencies!==null&&Go(e.dependencies)?(typeof _=="function"&&(fr(n,l,_,s),H=n.memoizedState),(V=wn||Qf(n,l,V,s,D,H,C)||e!==null&&e.dependencies!==null&&Go(e.dependencies))?(b||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,H,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,H,C)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&D===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&D===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=H),m.props=s,m.state=H,m.context=C,s=V):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&D===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&D===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,ea(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=fi(n,e.child,null,d),n.child=fi(n,null,l,d)):at(e,n,l,d),n.memoizedState=m.state,e=n.child):e=pn(e,n,d),e}function fd(e,n,l,s){return oi(),n.flags|=256,at(e,n,l,s),n.child}var gr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yr(e){return{baseLanes:e,cachePool:jc()}}function vr(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=It),e}function dd(e,n,l){var s=n.pendingProps,d=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),T&&(d=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ee){if(d?Gn(n):Hn(),(e=Pe)?(e=Sp(e,qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:xn!==null?{id:Wt,overflow:jt}:null,retryLane:536870912,hydrationErrors:null},l=Fc(e),l.return=n,n.child=l,lt=n,Pe=null)):e=null,e===null)throw bn(n);return eu(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,d?(Hn(),d=n.mode,_=ta({mode:"hidden",children:_},d),s=li(s,d,l,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=yr(l),s.childLanes=vr(e,T,l),n.memoizedState=gr,Bl(null,s)):(Gn(n),Tr(n,_))}var C=e.memoizedState;if(C!==null&&(_=C.dehydrated,_!==null)){if(m)n.flags&256?(Gn(n),n.flags&=-257,n=Sr(e,n,l)):n.memoizedState!==null?(Hn(),n.child=e.child,n.flags|=128,n=null):(Hn(),_=s.fallback,d=n.mode,s=ta({mode:"visible",children:s.children},d),_=li(_,d,l,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,fi(n,e.child,null,l),s=n.child,s.memoizedState=yr(l),s.childLanes=vr(e,T,l),n.memoizedState=gr,n=Bl(null,s));else if(Gn(n),eu(_)){if(T=_.nextSibling&&_.nextSibling.dataset,T)var b=T.dgst;T=b,s=Error(a(419)),s.stack="",s.digest=T,bl({value:s,source:null,stack:null}),n=Sr(e,n,l)}else if(Qe||Pi(e,n,l,!1),T=(l&e.childLanes)!==0,Qe||T){if(T=qe,T!==null&&(s=$u(T,l),s!==0&&s!==C.retryLane))throw C.retryLane=s,ii(e,s),St(T,e,s),mr;jr(_)||ca(),n=Sr(e,n,l)}else jr(_)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,Pe=Pt(_.nextSibling),lt=n,Ee=!0,In=null,qt=!1,e!==null&&Kc(n,e),n=Tr(n,s.children),n.flags|=4096);return n}return d?(Hn(),_=s.fallback,d=n.mode,C=e.child,b=C.sibling,s=sn(C,{mode:"hidden",children:s.children}),s.subtreeFlags=C.subtreeFlags&65011712,b!==null?_=sn(b,_):(_=li(_,d,l,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,Bl(null,s),s=n.child,_=e.child.memoizedState,_===null?_=yr(l):(d=_.cachePool,d!==null?(C=Ke._currentValue,d=d.parent!==C?{parent:C,pool:C}:d):d=jc(),_={baseLanes:_.baseLanes|l,cachePool:d}),s.memoizedState=_,s.childLanes=vr(e,T,l),n.memoizedState=gr,Bl(e.child,s)):(Gn(n),l=e.child,e=l.sibling,l=sn(l,{mode:"visible",children:s.children}),l.return=n,l.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=l,n.memoizedState=null,l)}function Tr(e,n){return n=ta({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ta(e,n){return e=Rt(22,e,null,n),e.lanes=0,e}function Sr(e,n,l){return fi(n,e.child,null,l),e=Tr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function pd(e,n,l){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Gs(e.return,n,l)}function Er(e,n,l,s,d,m){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:d,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=l,T.tailMode=d,T.treeForkCount=m)}function md(e,n,l){var s=n.pendingProps,d=s.revealOrder,m=s.tail;s=s.children;var T=Ye.current,_=(T&2)!==0;if(_?(T=T&1|2,n.flags|=128):T&=1,X(Ye,T),at(e,n,s,l),s=Ee?Il:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pd(e,l,n);else if(e.tag===19)pd(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(l=n.child,d=null;l!==null;)e=l.alternate,e!==null&&ko(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=n.child,n.child=null):(d=l.sibling,l.sibling=null),Er(n,!1,d,l,m,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&ko(e)===null){n.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}Er(n,!0,l,null,m,s);break;case"together":Er(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function pn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Pn|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Pi(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,l=sn(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=sn(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function _r(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Go(e)))}function Wy(e,n,l){switch(n.tag){case 3:We(n,n.stateNode.containerInfo),Dn(n,Ke,e.memoizedState.cache),oi();break;case 27:case 5:kt(n);break;case 4:We(n,n.stateNode.containerInfo);break;case 10:Dn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ks(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Gn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?dd(e,n,l):(Gn(n),e=pn(e,n,l),e!==null?e.sibling:null);Gn(n);break;case 19:var d=(e.flags&128)!==0;if(s=(l&n.childLanes)!==0,s||(Pi(e,n,l,!1),s=(l&n.childLanes)!==0),d){if(s)return md(e,n,l);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),X(Ye,Ye.current),s)break;return null;case 22:return n.lanes=0,ad(e,n,l,n.pendingProps);case 24:Dn(n,Ke,e.memoizedState.cache)}return pn(e,n,l)}function hd(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Qe=!0;else{if(!_r(e,l)&&(n.flags&128)===0)return Qe=!1,Wy(e,n,l);Qe=(e.flags&131072)!==0}else Qe=!1,Ee&&(n.flags&1048576)!==0&&Jc(n,Il,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=ui(n.elementType),n.type=e,typeof e=="function")Ms(e)?(s=pi(e,s),n.tag=1,n=cd(null,n,e,s,l)):(n.tag=0,n=hr(null,n,e,s,l));else{if(e!=null){var d=e.$$typeof;if(d===W){n.tag=11,n=id(null,n,e,s,l);break e}else if(d===K){n.tag=14,n=ld(null,n,e,s,l);break e}}throw n=he(e)||e,Error(a(306,n,""))}}return n;case 0:return hr(e,n,n.type,n.pendingProps,l);case 1:return s=n.type,d=pi(s,n.pendingProps),cd(e,n,s,d,l);case 3:e:{if(We(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;d=m.element,Bs(e,n),ql(n,s,null,l);var T=n.memoizedState;if(s=T.cache,Dn(n,Ke,s),s!==m.cache&&Hs(n,[Ke],l,!0),Hl(),s=T.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=fd(e,n,s,l);break e}else if(s!==d){d=Lt(Error(a(424)),n),bl(d),n=fd(e,n,s,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Pe=Pt(e.firstChild),lt=n,Ee=!0,In=null,qt=!0,l=af(n,null,s,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(oi(),s===d){n=pn(e,n,l);break e}at(e,n,s,l)}n=n.child}return n;case 26:return ea(e,n),e===null?(l=Np(n.type,null,n.pendingProps,null))?n.memoizedState=l:Ee||(l=n.type,e=n.pendingProps,s=ya(ge.current).createElement(l),s[it]=n,s[mt]=e,st(s,l,e),je(s),n.stateNode=s):n.memoizedState=Np(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return kt(n),e===null&&Ee&&(s=n.stateNode=Ap(n.type,n.pendingProps,ge.current),lt=n,qt=!0,d=Pe,Fn(n.type)?(tu=d,Pe=Pt(s.firstChild)):Pe=d),at(e,n,n.pendingProps.children,l),ea(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ee&&((d=s=Pe)&&(s=x0(s,n.type,n.pendingProps,qt),s!==null?(n.stateNode=s,lt=n,Pe=Pt(s.firstChild),qt=!1,d=!0):d=!1),d||bn(n)),kt(n),d=n.type,m=n.pendingProps,T=e!==null?e.memoizedProps:null,s=m.children,Zr(d,m)?s=null:T!==null&&Zr(d,T)&&(n.flags|=32),n.memoizedState!==null&&(d=Qs(e,n,ky,null,null,l),io._currentValue=d),ea(e,n),at(e,n,s,l),n.child;case 6:return e===null&&Ee&&((e=l=Pe)&&(l=I0(l,n.pendingProps,qt),l!==null?(n.stateNode=l,lt=n,Pe=null,e=!0):e=!1),e||bn(n)),null;case 13:return dd(e,n,l);case 4:return We(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=fi(n,null,s,l):at(e,n,s,l),n.child;case 11:return id(e,n,n.type,n.pendingProps,l);case 7:return at(e,n,n.pendingProps,l),n.child;case 8:return at(e,n,n.pendingProps.children,l),n.child;case 12:return at(e,n,n.pendingProps.children,l),n.child;case 10:return s=n.pendingProps,Dn(n,n.type,s.value),at(e,n,s.children,l),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,si(n),d=ot(d),s=s(d),n.flags|=1,at(e,n,s,l),n.child;case 14:return ld(e,n,n.type,n.pendingProps,l);case 15:return od(e,n,n.type,n.pendingProps,l);case 19:return md(e,n,l);case 31:return $y(e,n,l);case 22:return ad(e,n,l,n.pendingProps);case 24:return si(n),s=ot(Ke),e===null?(d=Ps(),d===null&&(d=qe,m=qs(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),n.memoizedState={parent:s,cache:d},zs(n),Dn(n,Ke,d)):((e.lanes&l)!==0&&(Bs(e,n),ql(n,null,null,l),Hl()),d=e.memoizedState,m=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Dn(n,Ke,s)):(s=m.cache,Dn(n,Ke,s),s!==d.cache&&Hs(n,[Ke],l,!0))),at(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function mn(e){e.flags|=4}function Ar(e,n,l,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Bd())e.flags|=8192;else throw ci=Po,Os}else e.flags&=-16777217}function gd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Dp(n))if(Bd())e.flags|=8192;else throw ci=Po,Os}function na(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Xu():536870912,e.lanes|=n,$i|=n)}function kl(e,n){if(!Ee)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Oe(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(n)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=l,n}function jy(e,n,l){var s=n.pendingProps;switch(Ds(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(n),null;case 1:return Oe(n),null;case 3:return l=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),cn(Ke),be(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Vi(n)?mn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Us())),Oe(n),null;case 26:var d=n.type,m=n.memoizedState;return e===null?(mn(n),m!==null?(Oe(n),gd(n,m)):(Oe(n),Ar(n,d,null,s,l))):m?m!==e.memoizedState?(mn(n),Oe(n),gd(n,m)):(Oe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&mn(n),Oe(n),Ar(n,d,e,s,l)),null;case 27:if(nn(n),l=ge.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&mn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Oe(n),null}e=j.current,Vi(n)?Xc(n):(e=Ap(d,s,l),n.stateNode=e,mn(n))}return Oe(n),null;case 5:if(nn(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&mn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Oe(n),null}if(m=j.current,Vi(n))Xc(n);else{var T=ya(ge.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?T.createElement(d,{is:s.is}):T.createElement(d)}}m[it]=n,m[mt]=s;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(st(m,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&mn(n)}}return Oe(n),Ar(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&mn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=ge.current,Vi(n)){if(e=n.stateNode,l=n.memoizedProps,s=null,d=lt,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[it]=n,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||dp(e.nodeValue,l)),e||bn(n,!0)}else e=ya(e).createTextNode(s),e[it]=n,n.stateNode=e}return Oe(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(s=Vi(n),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[it]=n}else oi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Oe(n),e=!1}else l=Us(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(Mt(n),n):(Mt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Oe(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Vi(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[it]=n}else oi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Oe(n),d=!1}else d=Us(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Mt(n),n):(Mt(n),null)}return Mt(n),(n.flags&128)!==0?(n.lanes=l,n):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),na(n,n.updateQueue),Oe(n),null);case 4:return be(),e===null&&Yr(n.stateNode.containerInfo),Oe(n),null;case 10:return cn(n.type),Oe(n),null;case 19:if(P(Ye),s=n.memoizedState,s===null)return Oe(n),null;if(d=(n.flags&128)!==0,m=s.rendering,m===null)if(d)kl(s,!1);else{if(ke!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=ko(e),m!==null){for(n.flags|=128,kl(s,!1),e=m.updateQueue,n.updateQueue=e,na(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)kc(l,e),l=l.sibling;return X(Ye,Ye.current&1|2),Ee&&rn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&rt()>sa&&(n.flags|=128,d=!0,kl(s,!1),n.lanes=4194304)}else{if(!d)if(e=ko(m),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,na(n,e),kl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!Ee)return Oe(n),null}else 2*rt()-s.renderingStartTime>sa&&l!==536870912&&(n.flags|=128,d=!0,kl(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rt(),e.sibling=null,l=Ye.current,X(Ye,d?l&1|2:l&1),Ee&&rn(n,s.treeForkCount),e):(Oe(n),null);case 22:case 23:return Mt(n),Js(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(l&536870912)!==0&&(n.flags&128)===0&&(Oe(n),n.subtreeFlags&6&&(n.flags|=8192)):Oe(n),l=n.updateQueue,l!==null&&na(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(n.flags|=2048),e!==null&&P(ri),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),cn(Ke),Oe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function e0(e,n){switch(Ds(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return cn(Ke),be(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return nn(n),null;case 31:if(n.memoizedState!==null){if(Mt(n),n.alternate===null)throw Error(a(340));oi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Mt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));oi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return P(Ye),null;case 4:return be(),null;case 10:return cn(n.type),null;case 22:case 23:return Mt(n),Js(),e!==null&&P(ri),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return cn(Ke),null;case 25:return null;default:return null}}function yd(e,n){switch(Ds(n),n.tag){case 3:cn(Ke),be();break;case 26:case 27:case 5:nn(n);break;case 4:be();break;case 31:n.memoizedState!==null&&Mt(n);break;case 13:Mt(n);break;case 19:P(Ye);break;case 10:cn(n.type);break;case 22:case 23:Mt(n),Js(),e!==null&&P(ri);break;case 24:cn(Ke)}}function Fl(e,n){try{var l=n.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var d=s.next;l=d;do{if((l.tag&e)===e){s=void 0;var m=l.create,T=l.inst;s=m(),T.destroy=s}l=l.next}while(l!==d)}}catch(_){we(n,n.return,_)}}function qn(e,n,l){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&e)===e){var T=s.inst,_=T.destroy;if(_!==void 0){T.destroy=void 0,d=n;var C=l,b=_;try{b()}catch(V){we(d,C,V)}}}s=s.next}while(s!==m)}}catch(V){we(n,n.return,V)}}function vd(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{rf(n,l)}catch(s){we(e,e.return,s)}}}function Td(e,n,l){l.props=pi(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){we(e,n,s)}}function Yl(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(d){we(e,n,d)}}function en(e,n){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(d){we(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){we(e,n,d)}else l.current=null}function Sd(e){var n=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(d){we(e,e.return,d)}}function Cr(e,n,l){try{var s=e.stateNode;_0(s,e.type,l,n),s[mt]=n}catch(d){we(e,e.return,d)}}function Ed(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fn(e.type)||e.tag===4}function Rr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ed(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nr(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=on));else if(s!==4&&(s===27&&Fn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Nr(e,n,l),e=e.sibling;e!==null;)Nr(e,n,l),e=e.sibling}function ia(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(s!==4&&(s===27&&Fn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(ia(e,n,l),e=e.sibling;e!==null;)ia(e,n,l),e=e.sibling}function _d(e){var n=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);st(n,s,l),n[it]=e,n[mt]=l}catch(m){we(e,e.return,m)}}var hn=!1,Ze=!1,Mr=!1,Ad=typeof WeakSet=="function"?WeakSet:Set,et=null;function t0(e,n){if(e=e.containerInfo,Xr=Ca,e=Lc(e),Ss(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var T=0,_=-1,C=-1,b=0,V=0,B=e,D=null;t:for(;;){for(var H;B!==l||d!==0&&B.nodeType!==3||(_=T+d),B!==m||s!==0&&B.nodeType!==3||(C=T+s),B.nodeType===3&&(T+=B.nodeValue.length),(H=B.firstChild)!==null;)D=B,B=H;for(;;){if(B===e)break t;if(D===l&&++b===d&&(_=T),D===m&&++V===s&&(C=T),(H=B.nextSibling)!==null)break;B=D,D=B.parentNode}B=H}l=_===-1||C===-1?null:{start:_,end:C}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qr={focusedElem:e,selectionRange:l},Ca=!1,et=n;et!==null;)if(n=et,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,et=e;else for(;et!==null;){switch(n=et,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)d=e[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=n,d=m.memoizedProps,m=m.memoizedState,s=l.stateNode;try{var ee=pi(l.type,d);e=s.getSnapshotBeforeUpdate(ee,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(ue){we(l,l.return,ue)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)Wr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,et=e;break}et=n.return}}function Cd(e,n,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:yn(e,l),s&4&&Fl(5,l);break;case 1:if(yn(e,l),s&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(T){we(l,l.return,T)}else{var d=pi(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){we(l,l.return,T)}}s&64&&vd(l),s&512&&Yl(l,l.return);break;case 3:if(yn(e,l),s&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{rf(e,n)}catch(T){we(l,l.return,T)}}break;case 27:n===null&&s&4&&_d(l);case 26:case 5:yn(e,l),n===null&&s&4&&Sd(l),s&512&&Yl(l,l.return);break;case 12:yn(e,l);break;case 31:yn(e,l),s&4&&Md(e,l);break;case 13:yn(e,l),s&4&&xd(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=c0.bind(null,l),b0(e,l))));break;case 22:if(s=l.memoizedState!==null||hn,!s){n=n!==null&&n.memoizedState!==null||Ze,d=hn;var m=Ze;hn=s,(Ze=n)&&!m?vn(e,l,(l.subtreeFlags&8772)!==0):yn(e,l),hn=d,Ze=m}break;case 30:break;default:yn(e,l)}}function Rd(e){var n=e.alternate;n!==null&&(e.alternate=null,Rd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&is(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,gt=!1;function gn(e,n,l){for(l=l.child;l!==null;)Nd(e,n,l),l=l.sibling}function Nd(e,n,l){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(hl,l)}catch{}switch(l.tag){case 26:Ze||en(l,n),gn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ze||en(l,n);var s=ze,d=gt;Fn(l.type)&&(ze=l.stateNode,gt=!1),gn(e,n,l),eo(l.stateNode),ze=s,gt=d;break;case 5:Ze||en(l,n);case 6:if(s=ze,d=gt,ze=null,gn(e,n,l),ze=s,gt=d,ze!==null)if(gt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(l.stateNode)}catch(m){we(l,n,m)}else try{ze.removeChild(l.stateNode)}catch(m){we(l,n,m)}break;case 18:ze!==null&&(gt?(e=ze,vp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),ol(e)):vp(ze,l.stateNode));break;case 4:s=ze,d=gt,ze=l.stateNode.containerInfo,gt=!0,gn(e,n,l),ze=s,gt=d;break;case 0:case 11:case 14:case 15:qn(2,l,n),Ze||qn(4,l,n),gn(e,n,l);break;case 1:Ze||(en(l,n),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Td(l,n,s)),gn(e,n,l);break;case 21:gn(e,n,l);break;case 22:Ze=(s=Ze)||l.memoizedState!==null,gn(e,n,l),Ze=s;break;default:gn(e,n,l)}}function Md(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ol(e)}catch(l){we(n,n.return,l)}}}function xd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ol(e)}catch(l){we(n,n.return,l)}}function n0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ad),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ad),n;default:throw Error(a(435,e.tag))}}function la(e,n){var l=n0(e);n.forEach(function(s){if(!l.has(s)){l.add(s);var d=f0.bind(null,e,s);s.then(d,d)}})}function yt(e,n){var l=n.deletions;if(l!==null)for(var s=0;s<l.length;s++){var d=l[s],m=e,T=n,_=T;e:for(;_!==null;){switch(_.tag){case 27:if(Fn(_.type)){ze=_.stateNode,gt=!1;break e}break;case 5:ze=_.stateNode,gt=!1;break e;case 3:case 4:ze=_.stateNode.containerInfo,gt=!0;break e}_=_.return}if(ze===null)throw Error(a(160));Nd(m,T,d),ze=null,gt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Id(n,e),n=n.sibling}var Jt=null;function Id(e,n){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yt(n,e),vt(e),s&4&&(qn(3,e,e.return),Fl(3,e),qn(5,e,e.return));break;case 1:yt(n,e),vt(e),s&512&&(Ze||l===null||en(l,l.return)),s&64&&hn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var d=Jt;if(yt(n,e),vt(e),s&512&&(Ze||l===null||en(l,l.return)),s&4){var m=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":m=d.getElementsByTagName("title")[0],(!m||m[vl]||m[it]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(s),d.head.insertBefore(m,d.querySelector("head > title"))),st(m,s,l),m[it]=e,je(m),s=m;break e;case"link":var T=Ip("link","href",d).get(s+(l.href||""));if(T){for(var _=0;_<T.length;_++)if(m=T[_],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(_,1);break t}}m=d.createElement(s),st(m,s,l),d.head.appendChild(m);break;case"meta":if(T=Ip("meta","content",d).get(s+(l.content||""))){for(_=0;_<T.length;_++)if(m=T[_],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(_,1);break t}}m=d.createElement(s),st(m,s,l),d.head.appendChild(m);break;default:throw Error(a(468,s))}m[it]=e,je(m),s=m}e.stateNode=s}else bp(d,e.type,e.stateNode);else e.stateNode=xp(d,s,e.memoizedProps);else m!==s?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,s===null?bp(d,e.type,e.stateNode):xp(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Cr(e,e.memoizedProps,l.memoizedProps)}break;case 27:yt(n,e),vt(e),s&512&&(Ze||l===null||en(l,l.return)),l!==null&&s&4&&Cr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(yt(n,e),vt(e),s&512&&(Ze||l===null||en(l,l.return)),e.flags&32){d=e.stateNode;try{xi(d,"")}catch(ee){we(e,e.return,ee)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Cr(e,d,l!==null?l.memoizedProps:d)),s&1024&&(Mr=!0);break;case 6:if(yt(n,e),vt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(ee){we(e,e.return,ee)}}break;case 3:if(Sa=null,d=Jt,Jt=va(n.containerInfo),yt(n,e),Jt=d,vt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{ol(n.containerInfo)}catch(ee){we(e,e.return,ee)}Mr&&(Mr=!1,bd(e));break;case 4:s=Jt,Jt=va(e.stateNode.containerInfo),yt(n,e),vt(e),Jt=s;break;case 12:yt(n,e),vt(e);break;case 31:yt(n,e),vt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,la(e,s)));break;case 13:yt(n,e),vt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(aa=rt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,la(e,s)));break;case 22:d=e.memoizedState!==null;var C=l!==null&&l.memoizedState!==null,b=hn,V=Ze;if(hn=b||d,Ze=V||C,yt(n,e),Ze=V,hn=b,vt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(l===null||C||hn||Ze||mi(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){C=l=n;try{if(m=C.stateNode,d)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{_=C.stateNode;var B=C.memoizedProps.style,D=B!=null&&B.hasOwnProperty("display")?B.display:null;_.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(ee){we(C,C.return,ee)}}}else if(n.tag===6){if(l===null){C=n;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(ee){we(C,C.return,ee)}}}else if(n.tag===18){if(l===null){C=n;try{var H=C.stateNode;d?Tp(H,!0):Tp(C.stateNode,!1)}catch(ee){we(C,C.return,ee)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,la(e,l))));break;case 19:yt(n,e),vt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,la(e,s)));break;case 30:break;case 21:break;default:yt(n,e),vt(e)}}function vt(e){var n=e.flags;if(n&2){try{for(var l,s=e.return;s!==null;){if(Ed(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var d=l.stateNode,m=Rr(e);ia(e,m,d);break;case 5:var T=l.stateNode;l.flags&32&&(xi(T,""),l.flags&=-33);var _=Rr(e);ia(e,_,T);break;case 3:case 4:var C=l.stateNode.containerInfo,b=Rr(e);Nr(e,b,C);break;default:throw Error(a(161))}}catch(V){we(e,e.return,V)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function bd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;bd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function yn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cd(e,n.alternate,n),n=n.sibling}function mi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:qn(4,n,n.return),mi(n);break;case 1:en(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Td(n,n.return,l),mi(n);break;case 27:eo(n.stateNode);case 26:case 5:en(n,n.return),mi(n);break;case 22:n.memoizedState===null&&mi(n);break;case 30:mi(n);break;default:mi(n)}e=e.sibling}}function vn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:vn(d,m,l),Fl(4,m);break;case 1:if(vn(d,m,l),s=m,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(b){we(s,s.return,b)}if(s=m,d=s.updateQueue,d!==null){var _=s.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)sf(C[d],_)}catch(b){we(s,s.return,b)}}l&&T&64&&vd(m),Yl(m,m.return);break;case 27:_d(m);case 26:case 5:vn(d,m,l),l&&s===null&&T&4&&Sd(m),Yl(m,m.return);break;case 12:vn(d,m,l);break;case 31:vn(d,m,l),l&&T&4&&Md(d,m);break;case 13:vn(d,m,l),l&&T&4&&xd(d,m);break;case 22:m.memoizedState===null&&vn(d,m,l),Yl(m,m.return);break;case 30:break;default:vn(d,m,l)}n=n.sibling}}function xr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Dl(l))}function Ir(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Dl(e))}function Kt(e,n,l,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dd(e,n,l,s),n=n.sibling}function Dd(e,n,l,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Kt(e,n,l,s),d&2048&&Fl(9,n);break;case 1:Kt(e,n,l,s);break;case 3:Kt(e,n,l,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Dl(e)));break;case 12:if(d&2048){Kt(e,n,l,s),e=n.stateNode;try{var m=n.memoizedProps,T=m.id,_=m.onPostCommit;typeof _=="function"&&_(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){we(n,n.return,C)}}else Kt(e,n,l,s);break;case 31:Kt(e,n,l,s);break;case 13:Kt(e,n,l,s);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?Kt(e,n,l,s):Jl(e,n):m._visibility&2?Kt(e,n,l,s):(m._visibility|=2,Xi(e,n,l,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&xr(T,n);break;case 24:Kt(e,n,l,s),d&2048&&Ir(n.alternate,n);break;default:Kt(e,n,l,s)}}function Xi(e,n,l,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,T=n,_=l,C=s,b=T.flags;switch(T.tag){case 0:case 11:case 15:Xi(m,T,_,C,d),Fl(8,T);break;case 23:break;case 22:var V=T.stateNode;T.memoizedState!==null?V._visibility&2?Xi(m,T,_,C,d):Jl(m,T):(V._visibility|=2,Xi(m,T,_,C,d)),d&&b&2048&&xr(T.alternate,T);break;case 24:Xi(m,T,_,C,d),d&&b&2048&&Ir(T.alternate,T);break;default:Xi(m,T,_,C,d)}n=n.sibling}}function Jl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,s=n,d=s.flags;switch(s.tag){case 22:Jl(l,s),d&2048&&xr(s.alternate,s);break;case 24:Jl(l,s),d&2048&&Ir(s.alternate,s);break;default:Jl(l,s)}n=n.sibling}}var Kl=8192;function Qi(e,n,l){if(e.subtreeFlags&Kl)for(e=e.child;e!==null;)wd(e,n,l),e=e.sibling}function wd(e,n,l){switch(e.tag){case 26:Qi(e,n,l),e.flags&Kl&&e.memoizedState!==null&&B0(l,Jt,e.memoizedState,e.memoizedProps);break;case 5:Qi(e,n,l);break;case 3:case 4:var s=Jt;Jt=va(e.stateNode.containerInfo),Qi(e,n,l),Jt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Kl,Kl=16777216,Qi(e,n,l),Kl=s):Qi(e,n,l));break;default:Qi(e,n,l)}}function Ud(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Xl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];et=s,Gd(s,e)}Ud(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ld(e),e=e.sibling}function Ld(e){switch(e.tag){case 0:case 11:case 15:Xl(e),e.flags&2048&&qn(9,e,e.return);break;case 3:Xl(e);break;case 12:Xl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,oa(e)):Xl(e);break;default:Xl(e)}}function oa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];et=s,Gd(s,e)}Ud(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:qn(8,n,n.return),oa(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,oa(n));break;default:oa(n)}e=e.sibling}}function Gd(e,n){for(;et!==null;){var l=et;switch(l.tag){case 0:case 11:case 15:qn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Dl(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,et=s;else e:for(l=e;et!==null;){s=et;var d=s.sibling,m=s.return;if(Rd(s),s===l){et=null;break e}if(d!==null){d.return=m,et=d;break e}et=m}}}var i0={getCacheForType:function(e){var n=ot(Ke),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return ot(Ke).controller.signal}},l0=typeof WeakMap=="function"?WeakMap:Map,xe=0,qe=null,ye=null,Te=0,De=0,xt=null,Vn=!1,Zi=!1,br=!1,Tn=0,ke=0,Pn=0,hi=0,Dr=0,It=0,$i=0,Ql=null,Tt=null,wr=!1,aa=0,Hd=0,sa=1/0,ra=null,On=null,$e=0,zn=null,Wi=null,Sn=0,Ur=0,Lr=null,qd=null,Zl=0,Gr=null;function bt(){return(xe&2)!==0&&Te!==0?Te&-Te:L.T!==null?zr():Wu()}function Vd(){if(It===0)if((Te&536870912)===0||Ee){var e=go;go<<=1,(go&3932160)===0&&(go=262144),It=e}else It=536870912;return e=Nt.current,e!==null&&(e.flags|=32),It}function St(e,n,l){(e===qe&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(ji(e,0),Bn(e,Te,It,!1)),yl(e,l),((xe&2)===0||e!==qe)&&(e===qe&&((xe&2)===0&&(hi|=l),ke===4&&Bn(e,Te,It,!1)),tn(e))}function Pd(e,n,l){if((xe&6)!==0)throw Error(a(327));var s=!l&&(n&127)===0&&(n&e.expiredLanes)===0||gl(e,n),d=s?s0(e,n):qr(e,n,!0),m=s;do{if(d===0){Zi&&!s&&Bn(e,n,0,!1);break}else{if(l=e.current.alternate,m&&!o0(l)){d=qr(e,n,!1),m=!1;continue}if(d===2){if(m=n,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var _=e;d=Ql;var C=_.current.memoizedState.isDehydrated;if(C&&(ji(_,T).flags|=256),T=qr(_,T,!1),T!==2){if(br&&!C){_.errorRecoveryDisabledLanes|=m,hi|=m,d=4;break e}m=Tt,Tt=d,m!==null&&(Tt===null?Tt=m:Tt.push.apply(Tt,m))}d=T}if(m=!1,d!==2)continue}}if(d===1){ji(e,0),Bn(e,n,0,!0);break}e:{switch(s=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Bn(s,n,It,!Vn);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=aa+300-rt(),10<d)){if(Bn(s,n,It,!Vn),vo(s,0,!0)!==0)break e;Sn=n,s.timeoutHandle=gp(Od.bind(null,s,l,Tt,ra,wr,n,It,hi,$i,Vn,m,"Throttled",-0,0),d);break e}Od(s,l,Tt,ra,wr,n,It,hi,$i,Vn,m,null,-0,0)}}break}while(!0);tn(e)}function Od(e,n,l,s,d,m,T,_,C,b,V,B,D,H){if(e.timeoutHandle=-1,B=n.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},wd(n,m,B);var ee=(m&62914560)===m?aa-rt():(m&4194048)===m?Hd-rt():0;if(ee=k0(B,ee),ee!==null){Sn=m,e.cancelPendingCommit=ee(Xd.bind(null,e,n,m,l,s,d,T,_,C,V,B,null,D,H)),Bn(e,m,T,!b);return}}Xd(e,n,m,l,s,d,T,_,C)}function o0(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var d=l[s],m=d.getSnapshot;d=d.value;try{if(!Ct(m(),d))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bn(e,n,l,s){n&=~Dr,n&=~hi,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var m=31-At(d),T=1<<m;s[m]=-1,d&=~T}l!==0&&Qu(e,l,n)}function ua(){return(xe&6)===0?($l(0),!1):!0}function Hr(){if(ye!==null){if(De===0)var e=ye.return;else e=ye,un=ai=null,Ws(e),ki=null,Ul=0,e=ye;for(;e!==null;)yd(e.alternate,e),e=e.return;ye=null}}function ji(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,R0(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Sn=0,Hr(),qe=e,ye=l=sn(e.current,null),Te=n,De=0,xt=null,Vn=!1,Zi=gl(e,n),br=!1,$i=It=Dr=hi=Pn=ke=0,Tt=Ql=null,wr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-At(s),m=1<<d;n|=e[d],s&=~m}return Tn=n,bo(),l}function zd(e,n){pe=null,L.H=zl,n===Bi||n===Vo?(n=nf(),De=3):n===Os?(n=nf(),De=4):De=n===mr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xt=n,ye===null&&(ke=1,Wo(e,Lt(n,e.current)))}function Bd(){var e=Nt.current;return e===null?!0:(Te&4194048)===Te?Vt===null:(Te&62914560)===Te||(Te&536870912)!==0?e===Vt:!1}function kd(){var e=L.H;return L.H=zl,e===null?zl:e}function Fd(){var e=L.A;return L.A=i0,e}function ca(){ke=4,Vn||(Te&4194048)!==Te&&Nt.current!==null||(Zi=!0),(Pn&134217727)===0&&(hi&134217727)===0||qe===null||Bn(qe,Te,It,!1)}function qr(e,n,l){var s=xe;xe|=2;var d=kd(),m=Fd();(qe!==e||Te!==n)&&(ra=null,ji(e,n)),n=!1;var T=ke;e:do try{if(De!==0&&ye!==null){var _=ye,C=xt;switch(De){case 8:Hr(),T=6;break e;case 3:case 2:case 9:case 6:Nt.current===null&&(n=!0);var b=De;if(De=0,xt=null,el(e,_,C,b),l&&Zi){T=0;break e}break;default:b=De,De=0,xt=null,el(e,_,C,b)}}a0(),T=ke;break}catch(V){zd(e,V)}while(!0);return n&&e.shellSuspendCounter++,un=ai=null,xe=s,L.H=d,L.A=m,ye===null&&(qe=null,Te=0,bo()),T}function a0(){for(;ye!==null;)Yd(ye)}function s0(e,n){var l=xe;xe|=2;var s=kd(),d=Fd();qe!==e||Te!==n?(ra=null,sa=rt()+500,ji(e,n)):Zi=gl(e,n);e:do try{if(De!==0&&ye!==null){n=ye;var m=xt;t:switch(De){case 1:De=0,xt=null,el(e,n,m,1);break;case 2:case 9:if(ef(m)){De=0,xt=null,Jd(n);break}n=function(){De!==2&&De!==9||qe!==e||(De=7),tn(e)},m.then(n,n);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:ef(m)?(De=0,xt=null,Jd(n)):(De=0,xt=null,el(e,n,m,7));break;case 5:var T=null;switch(ye.tag){case 26:T=ye.memoizedState;case 5:case 27:var _=ye;if(T?Dp(T):_.stateNode.complete){De=0,xt=null;var C=_.sibling;if(C!==null)ye=C;else{var b=_.return;b!==null?(ye=b,fa(b)):ye=null}break t}}De=0,xt=null,el(e,n,m,5);break;case 6:De=0,xt=null,el(e,n,m,6);break;case 8:Hr(),ke=6;break e;default:throw Error(a(462))}}r0();break}catch(V){zd(e,V)}while(!0);return un=ai=null,L.H=s,L.A=d,xe=l,ye!==null?0:(qe=null,Te=0,bo(),ke)}function r0(){for(;ye!==null&&!Wa();)Yd(ye)}function Yd(e){var n=hd(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,n===null?fa(e):ye=n}function Jd(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=ud(l,n,n.pendingProps,n.type,void 0,Te);break;case 11:n=ud(l,n,n.pendingProps,n.type.render,n.ref,Te);break;case 5:Ws(n);default:yd(l,n),n=ye=kc(n,Tn),n=hd(l,n,Tn)}e.memoizedProps=e.pendingProps,n===null?fa(e):ye=n}function el(e,n,l,s){un=ai=null,Ws(n),ki=null,Ul=0;var d=n.return;try{if(Zy(e,d,n,l,Te)){ke=1,Wo(e,Lt(l,e.current)),ye=null;return}}catch(m){if(d!==null)throw ye=d,m;ke=1,Wo(e,Lt(l,e.current)),ye=null;return}n.flags&32768?(Ee||s===1?e=!0:Zi||(Te&536870912)!==0?e=!1:(Vn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Nt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Kd(n,e)):fa(n)}function fa(e){var n=e;do{if((n.flags&32768)!==0){Kd(n,Vn);return}e=n.return;var l=jy(n.alternate,n,Tn);if(l!==null){ye=l;return}if(n=n.sibling,n!==null){ye=n;return}ye=n=e}while(n!==null);ke===0&&(ke=5)}function Kd(e,n){do{var l=e0(e.alternate,e);if(l!==null){l.flags&=32767,ye=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){ye=e;return}ye=e=l}while(e!==null);ke=6,ye=null}function Xd(e,n,l,s,d,m,T,_,C){e.cancelPendingCommit=null;do da();while($e!==0);if((xe&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=Rs,zg(e,l,m,T,_,C),e===qe&&(ye=qe=null,Te=0),Wi=n,zn=e,Sn=l,Ur=m,Lr=d,qd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,d0(mo,function(){return jd(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=L.T,L.T=null,d=J.p,J.p=2,T=xe,xe|=4;try{t0(e,n,l)}finally{xe=T,J.p=d,L.T=s}}$e=1,Qd(),Zd(),$d()}}function Qd(){if($e===1){$e=0;var e=zn,n=Wi,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=L.T,L.T=null;var s=J.p;J.p=2;var d=xe;xe|=4;try{Id(n,e);var m=Qr,T=Lc(e.containerInfo),_=m.focusedElem,C=m.selectionRange;if(T!==_&&_&&_.ownerDocument&&Uc(_.ownerDocument.documentElement,_)){if(C!==null&&Ss(_)){var b=C.start,V=C.end;if(V===void 0&&(V=b),"selectionStart"in _)_.selectionStart=b,_.selectionEnd=Math.min(V,_.value.length);else{var B=_.ownerDocument||document,D=B&&B.defaultView||window;if(D.getSelection){var H=D.getSelection(),ee=_.textContent.length,ue=Math.min(C.start,ee),He=C.end===void 0?ue:Math.min(C.end,ee);!H.extend&&ue>He&&(T=He,He=ue,ue=T);var x=wc(_,ue),R=wc(_,He);if(x&&R&&(H.rangeCount!==1||H.anchorNode!==x.node||H.anchorOffset!==x.offset||H.focusNode!==R.node||H.focusOffset!==R.offset)){var I=B.createRange();I.setStart(x.node,x.offset),H.removeAllRanges(),ue>He?(H.addRange(I),H.extend(R.node,R.offset)):(I.setEnd(R.node,R.offset),H.addRange(I))}}}}for(B=[],H=_;H=H.parentNode;)H.nodeType===1&&B.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<B.length;_++){var O=B[_];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}Ca=!!Xr,Qr=Xr=null}finally{xe=d,J.p=s,L.T=l}}e.current=n,$e=2}}function Zd(){if($e===2){$e=0;var e=zn,n=Wi,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=L.T,L.T=null;var s=J.p;J.p=2;var d=xe;xe|=4;try{Cd(e,n.alternate,n)}finally{xe=d,J.p=s,L.T=l}}$e=3}}function $d(){if($e===4||$e===3){$e=0,Fu();var e=zn,n=Wi,l=Sn,s=qd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$e=5:($e=0,Wi=zn=null,Wd(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(On=null),ts(l),n=n.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(hl,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=L.T,d=J.p,J.p=2,L.T=null;try{for(var m=e.onRecoverableError,T=0;T<s.length;T++){var _=s[T];m(_.value,{componentStack:_.stack})}}finally{L.T=n,J.p=d}}(Sn&3)!==0&&da(),tn(e),d=e.pendingLanes,(l&261930)!==0&&(d&42)!==0?e===Gr?Zl++:(Zl=0,Gr=e):Zl=0,$l(0)}}function Wd(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Dl(n)))}function da(){return Qd(),Zd(),$d(),jd()}function jd(){if($e!==5)return!1;var e=zn,n=Ur;Ur=0;var l=ts(Sn),s=L.T,d=J.p;try{J.p=32>l?32:l,L.T=null,l=Lr,Lr=null;var m=zn,T=Sn;if($e=0,Wi=zn=null,Sn=0,(xe&6)!==0)throw Error(a(331));var _=xe;if(xe|=4,Ld(m.current),Dd(m,m.current,T,l),xe=_,$l(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(hl,m)}catch{}return!0}finally{J.p=d,L.T=s,Wd(e,n)}}function ep(e,n,l){n=Lt(l,n),n=pr(e.stateNode,n,2),e=Ln(e,n,2),e!==null&&(yl(e,2),tn(e))}function we(e,n,l){if(e.tag===3)ep(e,e,l);else for(;n!==null;){if(n.tag===3){ep(n,e,l);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(On===null||!On.has(s))){e=Lt(l,e),l=td(2),s=Ln(n,l,2),s!==null&&(nd(l,s,n,e),yl(s,2),tn(s));break}}n=n.return}}function Vr(e,n,l){var s=e.pingCache;if(s===null){s=e.pingCache=new l0;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(l)||(br=!0,d.add(l),e=u0.bind(null,e,n,l),n.then(e,e))}function u0(e,n,l){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,qe===e&&(Te&l)===l&&(ke===4||ke===3&&(Te&62914560)===Te&&300>rt()-aa?(xe&2)===0&&ji(e,0):Dr|=l,$i===Te&&($i=0)),tn(e)}function tp(e,n){n===0&&(n=Xu()),e=ii(e,n),e!==null&&(yl(e,n),tn(e))}function c0(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),tp(e,l)}function f0(e,n){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),tp(e,l)}function d0(e,n){return Et(e,n)}var pa=null,tl=null,Pr=!1,ma=!1,Or=!1,kn=0;function tn(e){e!==tl&&e.next===null&&(tl===null?pa=tl=e:tl=tl.next=e),ma=!0,Pr||(Pr=!0,m0())}function $l(e,n){if(!Or&&ma){Or=!0;do for(var l=!1,s=pa;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var m=0;else{var T=s.suspendedLanes,_=s.pingedLanes;m=(1<<31-At(42|e)+1)-1,m&=d&~(T&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,op(s,m))}else m=Te,m=vo(s,s===qe?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||gl(s,m)||(l=!0,op(s,m));s=s.next}while(l);Or=!1}}function p0(){np()}function np(){ma=Pr=!1;var e=0;kn!==0&&C0()&&(e=kn);for(var n=rt(),l=null,s=pa;s!==null;){var d=s.next,m=ip(s,n);m===0?(s.next=null,l===null?pa=d:l.next=d,d===null&&(tl=l)):(l=s,(e!==0||(m&3)!==0)&&(ma=!0)),s=d}$e!==0&&$e!==5||$l(e),kn!==0&&(kn=0)}function ip(e,n){for(var l=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-At(m),_=1<<T,C=d[T];C===-1?((_&l)===0||(_&s)!==0)&&(d[T]=Og(_,n)):C<=n&&(e.expiredLanes|=_),m&=~_}if(n=qe,l=Te,l=vo(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===n&&(De===2||De===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&$t(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||gl(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(s!==null&&$t(s),ts(l)){case 2:case 8:l=Ju;break;case 32:l=mo;break;case 268435456:l=Ku;break;default:l=mo}return s=lp.bind(null,e),l=Et(l,s),e.callbackPriority=n,e.callbackNode=l,n}return s!==null&&s!==null&&$t(s),e.callbackPriority=2,e.callbackNode=null,2}function lp(e,n){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(da()&&e.callbackNode!==l)return null;var s=Te;return s=vo(e,e===qe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Pd(e,s,n),ip(e,rt()),e.callbackNode!=null&&e.callbackNode===l?lp.bind(null,e):null)}function op(e,n){if(da())return null;Pd(e,n,!0)}function m0(){N0(function(){(xe&6)!==0?Et(Yu,p0):np()})}function zr(){if(kn===0){var e=Oi;e===0&&(e=ho,ho<<=1,(ho&261888)===0&&(ho=256)),kn=e}return kn}function ap(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_o(""+e)}function sp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function h0(e,n,l,s,d){if(n==="submit"&&l&&l.stateNode===d){var m=ap((d[mt]||null).action),T=s.submitter;T&&(n=(n=T[mt]||null)?ap(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var _=new No("action","action",null,s,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(kn!==0){var C=T?sp(d,T):new FormData(d);sr(l,{pending:!0,data:C,method:d.method,action:m},null,C)}}else typeof m=="function"&&(_.preventDefault(),C=T?sp(d,T):new FormData(d),sr(l,{pending:!0,data:C,method:d.method,action:m},m,C))},currentTarget:d}]})}}for(var Br=0;Br<Cs.length;Br++){var kr=Cs[Br],g0=kr.toLowerCase(),y0=kr[0].toUpperCase()+kr.slice(1);Yt(g0,"on"+y0)}Yt(qc,"onAnimationEnd"),Yt(Vc,"onAnimationIteration"),Yt(Pc,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(Uy,"onTransitionRun"),Yt(Ly,"onTransitionStart"),Yt(Gy,"onTransitionCancel"),Yt(Oc,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function rp(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],d=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var T=s.length-1;0<=T;T--){var _=s[T],C=_.instance,b=_.currentTarget;if(_=_.listener,C!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=b;try{m(d)}catch(V){Io(V)}d.currentTarget=null,m=C}else for(T=0;T<s.length;T++){if(_=s[T],C=_.instance,b=_.currentTarget,_=_.listener,C!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=b;try{m(d)}catch(V){Io(V)}d.currentTarget=null,m=C}}}}function ve(e,n){var l=n[ns];l===void 0&&(l=n[ns]=new Set);var s=e+"__bubble";l.has(s)||(up(n,e,2,!1),l.add(s))}function Fr(e,n,l){var s=0;n&&(s|=4),up(l,e,s,n)}var ha="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[ha]){e[ha]=!0,tc.forEach(function(l){l!=="selectionchange"&&(v0.has(l)||Fr(l,!1,e),Fr(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ha]||(n[ha]=!0,Fr("selectionchange",!1,n))}}function up(e,n,l,s){switch(Vp(n)){case 2:var d=J0;break;case 8:d=K0;break;default:d=au}l=d.bind(null,n,l,e),d=void 0,!fs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,l,{capture:!0,passive:d}):e.addEventListener(n,l,!0):d!==void 0?e.addEventListener(n,l,{passive:d}):e.addEventListener(n,l,!1)}function Jr(e,n,l,s,d){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var _=s.stateNode.containerInfo;if(_===d)break;if(T===4)for(T=s.return;T!==null;){var C=T.tag;if((C===3||C===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;_!==null;){if(T=Ai(_),T===null)return;if(C=T.tag,C===5||C===6||C===26||C===27){s=m=T;continue e}_=_.parentNode}}s=s.return}pc(function(){var b=m,V=us(l),B=[];e:{var D=zc.get(e);if(D!==void 0){var H=No,ee=e;switch(e){case"keypress":if(Co(l)===0)break e;case"keydown":case"keyup":H=fy;break;case"focusin":ee="focus",H=hs;break;case"focusout":ee="blur",H=hs;break;case"beforeblur":case"afterblur":H=hs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=jg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=my;break;case qc:case Vc:case Pc:H=ny;break;case Oc:H=gy;break;case"scroll":case"scrollend":H=$g;break;case"wheel":H=vy;break;case"copy":case"cut":case"paste":H=ly;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=vc;break;case"toggle":case"beforetoggle":H=Sy}var ue=(n&4)!==0,He=!ue&&(e==="scroll"||e==="scrollend"),x=ue?D!==null?D+"Capture":null:D;ue=[];for(var R=b,I;R!==null;){var O=R;if(I=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||I===null||x===null||(O=Sl(R,x),O!=null&&ue.push(jl(R,O,I))),He)break;R=R.return}0<ue.length&&(D=new H(D,ee,null,l,V),B.push({event:D,listeners:ue}))}}if((n&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",D&&l!==rs&&(ee=l.relatedTarget||l.fromElement)&&(Ai(ee)||ee[_i]))break e;if((H||D)&&(D=V.window===V?V:(D=V.ownerDocument)?D.defaultView||D.parentWindow:window,H?(ee=l.relatedTarget||l.toElement,H=b,ee=ee?Ai(ee):null,ee!==null&&(He=f(ee),ue=ee.tag,ee!==He||ue!==5&&ue!==27&&ue!==6)&&(ee=null)):(H=null,ee=b),H!==ee)){if(ue=gc,O="onMouseLeave",x="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ue=vc,O="onPointerLeave",x="onPointerEnter",R="pointer"),He=H==null?D:Tl(H),I=ee==null?D:Tl(ee),D=new ue(O,R+"leave",H,l,V),D.target=He,D.relatedTarget=I,O=null,Ai(V)===b&&(ue=new ue(x,R+"enter",ee,l,V),ue.target=I,ue.relatedTarget=He,O=ue),He=O,H&&ee)t:{for(ue=T0,x=H,R=ee,I=0,O=x;O;O=ue(O))I++;O=0;for(var le=R;le;le=ue(le))O++;for(;0<I-O;)x=ue(x),I--;for(;0<O-I;)R=ue(R),O--;for(;I--;){if(x===R||R!==null&&x===R.alternate){ue=x;break t}x=ue(x),R=ue(R)}ue=null}else ue=null;H!==null&&cp(B,D,H,ue,!1),ee!==null&&He!==null&&cp(B,He,ee,ue,!0)}}e:{if(D=b?Tl(b):window,H=D.nodeName&&D.nodeName.toLowerCase(),H==="select"||H==="input"&&D.type==="file")var Ae=Nc;else if(Cc(D))if(Mc)Ae=by;else{Ae=xy;var ne=My}else H=D.nodeName,!H||H.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?b&&ss(b.elementType)&&(Ae=Nc):Ae=Iy;if(Ae&&(Ae=Ae(e,b))){Rc(B,Ae,l,V);break e}ne&&ne(e,D,b),e==="focusout"&&b&&D.type==="number"&&b.memoizedProps.value!=null&&as(D,"number",D.value)}switch(ne=b?Tl(b):window,e){case"focusin":(Cc(ne)||ne.contentEditable==="true")&&(wi=ne,Es=b,xl=null);break;case"focusout":xl=Es=wi=null;break;case"mousedown":_s=!0;break;case"contextmenu":case"mouseup":case"dragend":_s=!1,Gc(B,l,V);break;case"selectionchange":if(wy)break;case"keydown":case"keyup":Gc(B,l,V)}var me;if(ys)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Di?_c(e,l)&&(Se="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(Tc&&l.locale!=="ko"&&(Di||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Di&&(me=mc()):(Mn=V,ds="value"in Mn?Mn.value:Mn.textContent,Di=!0)),ne=ga(b,Se),0<ne.length&&(Se=new yc(Se,e,null,l,V),B.push({event:Se,listeners:ne}),me?Se.data=me:(me=Ac(l),me!==null&&(Se.data=me)))),(me=_y?Ay(e,l):Cy(e,l))&&(Se=ga(b,"onBeforeInput"),0<Se.length&&(ne=new yc("onBeforeInput","beforeinput",null,l,V),B.push({event:ne,listeners:Se}),ne.data=me)),h0(B,e,b,l,V)}rp(B,n)})}function jl(e,n,l){return{instance:e,listener:n,currentTarget:l}}function ga(e,n){for(var l=n+"Capture",s=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Sl(e,l),d!=null&&s.unshift(jl(e,d,m)),d=Sl(e,n),d!=null&&s.push(jl(e,d,m))),e.tag===3)return s;e=e.return}return[]}function T0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cp(e,n,l,s,d){for(var m=n._reactName,T=[];l!==null&&l!==s;){var _=l,C=_.alternate,b=_.stateNode;if(_=_.tag,C!==null&&C===s)break;_!==5&&_!==26&&_!==27||b===null||(C=b,d?(b=Sl(l,m),b!=null&&T.unshift(jl(l,b,C))):d||(b=Sl(l,m),b!=null&&T.push(jl(l,b,C)))),l=l.return}T.length!==0&&e.push({event:n,listeners:T})}var S0=/\r\n?/g,E0=/\u0000|\uFFFD/g;function fp(e){return(typeof e=="string"?e:""+e).replace(S0,`
`).replace(E0,"")}function dp(e,n){return n=fp(n),fp(e)===n}function Ge(e,n,l,s,d,m){switch(l){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||xi(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&xi(e,""+s);break;case"className":So(e,"class",s);break;case"tabIndex":So(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":So(e,l,s);break;case"style":fc(e,s,m);break;case"data":if(n!=="object"){So(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=_o(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&Ge(e,n,"name",d.name,d,null),Ge(e,n,"formEncType",d.formEncType,d,null),Ge(e,n,"formMethod",d.formMethod,d,null),Ge(e,n,"formTarget",d.formTarget,d,null)):(Ge(e,n,"encType",d.encType,d,null),Ge(e,n,"method",d.method,d,null),Ge(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=_o(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=on);break;case"onScroll":s!=null&&ve("scroll",e);break;case"onScrollEnd":s!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=_o(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":ve("beforetoggle",e),ve("toggle",e),To(e,"popover",s);break;case"xlinkActuate":ln(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ln(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ln(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ln(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ln(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ln(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ln(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ln(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ln(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":To(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Qg.get(l)||l,To(e,l,s))}}function Kr(e,n,l,s,d,m){switch(l){case"style":fc(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?xi(e,s):(typeof s=="number"||typeof s=="bigint")&&xi(e,""+s);break;case"onScroll":s!=null&&ve("scroll",e);break;case"onScrollEnd":s!=null&&ve("scrollend",e);break;case"onClick":s!=null&&(e.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),n=l.slice(2,d?l.length-7:void 0),m=e[mt]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(n,m,d),typeof s=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,s,d);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):To(e,l,s)}}}function st(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var s=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var T=l[m];if(T!=null)switch(m){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ge(e,n,m,T,l,null)}}d&&Ge(e,n,"srcSet",l.srcSet,l,null),s&&Ge(e,n,"src",l.src,l,null);return;case"input":ve("invalid",e);var _=m=T=d=null,C=null,b=null;for(s in l)if(l.hasOwnProperty(s)){var V=l[s];if(V!=null)switch(s){case"name":d=V;break;case"type":T=V;break;case"checked":C=V;break;case"defaultChecked":b=V;break;case"value":m=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,n));break;default:Ge(e,n,s,V,l,null)}}sc(e,m,_,C,b,T,d,!1);return;case"select":ve("invalid",e),s=T=m=null;for(d in l)if(l.hasOwnProperty(d)&&(_=l[d],_!=null))switch(d){case"value":m=_;break;case"defaultValue":T=_;break;case"multiple":s=_;default:Ge(e,n,d,_,l,null)}n=m,l=T,e.multiple=!!s,n!=null?Mi(e,!!s,n,!1):l!=null&&Mi(e,!!s,l,!0);return;case"textarea":ve("invalid",e),m=d=s=null;for(T in l)if(l.hasOwnProperty(T)&&(_=l[T],_!=null))switch(T){case"value":s=_;break;case"defaultValue":d=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Ge(e,n,T,_,l,null)}uc(e,s,d,m);return;case"option":for(C in l)if(l.hasOwnProperty(C)&&(s=l[C],s!=null))switch(C){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ge(e,n,C,s,l,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(s=0;s<Wl.length;s++)ve(Wl[s],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(b in l)if(l.hasOwnProperty(b)&&(s=l[b],s!=null))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ge(e,n,b,s,l,null)}return;default:if(ss(n)){for(V in l)l.hasOwnProperty(V)&&(s=l[V],s!==void 0&&Kr(e,n,V,s,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(s=l[_],s!=null&&Ge(e,n,_,s,l,null))}function _0(e,n,l,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,T=null,_=null,C=null,b=null,V=null;for(H in l){var B=l[H];if(l.hasOwnProperty(H)&&B!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=B;default:s.hasOwnProperty(H)||Ge(e,n,H,null,s,B)}}for(var D in s){var H=s[D];if(B=l[D],s.hasOwnProperty(D)&&(H!=null||B!=null))switch(D){case"type":m=H;break;case"name":d=H;break;case"checked":b=H;break;case"defaultChecked":V=H;break;case"value":T=H;break;case"defaultValue":_=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==B&&Ge(e,n,D,H,s,B)}}os(e,T,_,C,b,V,m,d);return;case"select":H=T=_=D=null;for(m in l)if(C=l[m],l.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":H=C;default:s.hasOwnProperty(m)||Ge(e,n,m,null,s,C)}for(d in s)if(m=s[d],C=l[d],s.hasOwnProperty(d)&&(m!=null||C!=null))switch(d){case"value":D=m;break;case"defaultValue":_=m;break;case"multiple":T=m;default:m!==C&&Ge(e,n,d,m,s,C)}n=_,l=T,s=H,D!=null?Mi(e,!!l,D,!1):!!s!=!!l&&(n!=null?Mi(e,!!l,n,!0):Mi(e,!!l,l?[]:"",!1));return;case"textarea":H=D=null;for(_ in l)if(d=l[_],l.hasOwnProperty(_)&&d!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ge(e,n,_,null,s,d)}for(T in s)if(d=s[T],m=l[T],s.hasOwnProperty(T)&&(d!=null||m!=null))switch(T){case"value":D=d;break;case"defaultValue":H=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&Ge(e,n,T,d,s,m)}rc(e,D,H);return;case"option":for(var ee in l)if(D=l[ee],l.hasOwnProperty(ee)&&D!=null&&!s.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:Ge(e,n,ee,null,s,D)}for(C in s)if(D=s[C],H=l[C],s.hasOwnProperty(C)&&D!==H&&(D!=null||H!=null))switch(C){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Ge(e,n,C,D,s,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in l)D=l[ue],l.hasOwnProperty(ue)&&D!=null&&!s.hasOwnProperty(ue)&&Ge(e,n,ue,null,s,D);for(b in s)if(D=s[b],H=l[b],s.hasOwnProperty(b)&&D!==H&&(D!=null||H!=null))switch(b){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(137,n));break;default:Ge(e,n,b,D,s,H)}return;default:if(ss(n)){for(var He in l)D=l[He],l.hasOwnProperty(He)&&D!==void 0&&!s.hasOwnProperty(He)&&Kr(e,n,He,void 0,s,D);for(V in s)D=s[V],H=l[V],!s.hasOwnProperty(V)||D===H||D===void 0&&H===void 0||Kr(e,n,V,D,s,H);return}}for(var x in l)D=l[x],l.hasOwnProperty(x)&&D!=null&&!s.hasOwnProperty(x)&&Ge(e,n,x,null,s,D);for(B in s)D=s[B],H=l[B],!s.hasOwnProperty(B)||D===H||D==null&&H==null||Ge(e,n,B,D,s,H)}function pp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function A0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var d=l[s],m=d.transferSize,T=d.initiatorType,_=d.duration;if(m&&_&&pp(T)){for(T=0,_=d.responseEnd,s+=1;s<l.length;s++){var C=l[s],b=C.startTime;if(b>_)break;var V=C.transferSize,B=C.initiatorType;V&&pp(B)&&(C=C.responseEnd,T+=V*(C<_?1:(_-b)/(C-b)))}if(--s,n+=8*(m+T)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xr=null,Qr=null;function ya(e){return e.nodeType===9?e:e.ownerDocument}function mp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Zr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $r=null;function C0(){var e=window.event;return e&&e.type==="popstate"?e===$r?!1:($r=e,!0):($r=null,!1)}var gp=typeof setTimeout=="function"?setTimeout:void 0,R0=typeof clearTimeout=="function"?clearTimeout:void 0,yp=typeof Promise=="function"?Promise:void 0,N0=typeof queueMicrotask=="function"?queueMicrotask:typeof yp<"u"?function(e){return yp.resolve(null).then(e).catch(M0)}:gp;function M0(e){setTimeout(function(){throw e})}function Fn(e){return e==="head"}function vp(e,n){var l=n,s=0;do{var d=l.nextSibling;if(e.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(d),ol(n);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")eo(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,eo(l);for(var m=l.firstChild;m;){var T=m.nextSibling,_=m.nodeName;m[vl]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=T}}else l==="body"&&eo(e.ownerDocument.body);l=d}while(l);ol(n)}function Tp(e,n){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function Wr(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Wr(l),is(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function x0(e,n,l,s){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[vl])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Pt(e.nextSibling),e===null)break}return null}function I0(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Pt(e.nextSibling),e===null))return null;return e}function Sp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pt(e.nextSibling),e===null))return null;return e}function jr(e){return e.data==="$?"||e.data==="$~"}function eu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function b0(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var s=function(){n(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Pt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var tu=null;function Ep(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Pt(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function _p(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function Ap(e,n,l){switch(n=ya(l),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function eo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);is(e)}var Ot=new Map,Cp=new Set;function va(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var En=J.d;J.d={f:D0,r:w0,D:U0,C:L0,L:G0,m:H0,X:V0,S:q0,M:P0};function D0(){var e=En.f(),n=ua();return e||n}function w0(e){var n=Ci(e);n!==null&&n.tag===5&&n.type==="form"?zf(n):En.r(e)}var nl=typeof document>"u"?null:document;function Rp(e,n,l){var s=nl;if(s&&typeof n=="string"&&n){var d=wt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),Cp.has(d)||(Cp.add(d),e={rel:e,crossOrigin:l,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),st(n,"link",e),je(n),s.head.appendChild(n)))}}function U0(e){En.D(e),Rp("dns-prefetch",e,null)}function L0(e,n){En.C(e,n),Rp("preconnect",e,n)}function G0(e,n,l){En.L(e,n,l);var s=nl;if(s&&e&&n){var d='link[rel="preload"][as="'+wt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+wt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+wt(l.imageSizes)+'"]')):d+='[href="'+wt(e)+'"]';var m=d;switch(n){case"style":m=il(e);break;case"script":m=ll(e)}Ot.has(m)||(e=S({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Ot.set(m,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(to(m))||n==="script"&&s.querySelector(no(m))||(n=s.createElement("link"),st(n,"link",e),je(n),s.head.appendChild(n)))}}function H0(e,n){En.m(e,n);var l=nl;if(l&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+wt(s)+'"][href="'+wt(e)+'"]',m=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ll(e)}if(!Ot.has(m)&&(e=S({rel:"modulepreload",href:e},n),Ot.set(m,e),l.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(no(m)))return}s=l.createElement("link"),st(s,"link",e),je(s),l.head.appendChild(s)}}}function q0(e,n,l){En.S(e,n,l);var s=nl;if(s&&e){var d=Ri(s).hoistableStyles,m=il(e);n=n||"default";var T=d.get(m);if(!T){var _={loading:0,preload:null};if(T=s.querySelector(to(m)))_.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Ot.get(m))&&nu(e,l);var C=T=s.createElement("link");je(C),st(C,"link",e),C._p=new Promise(function(b,V){C.onload=b,C.onerror=V}),C.addEventListener("load",function(){_.loading|=1}),C.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Ta(T,n,s)}T={type:"stylesheet",instance:T,count:1,state:_},d.set(m,T)}}}function V0(e,n){En.X(e,n);var l=nl;if(l&&e){var s=Ri(l).hoistableScripts,d=ll(e),m=s.get(d);m||(m=l.querySelector(no(d)),m||(e=S({src:e,async:!0},n),(n=Ot.get(d))&&iu(e,n),m=l.createElement("script"),je(m),st(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function P0(e,n){En.M(e,n);var l=nl;if(l&&e){var s=Ri(l).hoistableScripts,d=ll(e),m=s.get(d);m||(m=l.querySelector(no(d)),m||(e=S({src:e,async:!0,type:"module"},n),(n=Ot.get(d))&&iu(e,n),m=l.createElement("script"),je(m),st(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function Np(e,n,l,s){var d=(d=ge.current)?va(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=il(l.href),l=Ri(d).hoistableStyles,s=l.get(n),s||(s={type:"style",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=il(l.href);var m=Ri(d).hoistableStyles,T=m.get(e);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=d.querySelector(to(e)))&&!m._p&&(T.instance=m,T.state.loading=5),Ot.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ot.set(e,l),m||O0(d,e,l,T.state))),n&&s===null)throw Error(a(528,""));return T}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ll(l),l=Ri(d).hoistableScripts,s=l.get(n),s||(s={type:"script",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function il(e){return'href="'+wt(e)+'"'}function to(e){return'link[rel="stylesheet"]['+e+"]"}function Mp(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function O0(e,n,l,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),st(n,"link",l),je(n),e.head.appendChild(n))}function ll(e){return'[src="'+wt(e)+'"]'}function no(e){return"script[async]"+e}function xp(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+wt(l.href)+'"]');if(s)return n.instance=s,je(s),s;var d=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),je(s),st(s,"style",d),Ta(s,l.precedence,e),n.instance=s;case"stylesheet":d=il(l.href);var m=e.querySelector(to(d));if(m)return n.state.loading|=4,n.instance=m,je(m),m;s=Mp(l),(d=Ot.get(d))&&nu(s,d),m=(e.ownerDocument||e).createElement("link"),je(m);var T=m;return T._p=new Promise(function(_,C){T.onload=_,T.onerror=C}),st(m,"link",s),n.state.loading|=4,Ta(m,l.precedence,e),n.instance=m;case"script":return m=ll(l.src),(d=e.querySelector(no(m)))?(n.instance=d,je(d),d):(s=l,(d=Ot.get(m))&&(s=S({},l),iu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),je(d),st(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Ta(s,l.precedence,e));return n.instance}function Ta(e,n,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,m=d,T=0;T<s.length;T++){var _=s[T];if(_.dataset.precedence===n)m=_;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function nu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function iu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Sa=null;function Ip(e,n,l){if(Sa===null){var s=new Map,d=Sa=new Map;d.set(l,s)}else d=Sa,s=d.get(l),s||(s=new Map,d.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var m=l[d];if(!(m[vl]||m[it]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=e+T;var _=s.get(T);_?_.push(m):s.set(T,[m])}}return s}function bp(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function z0(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Dp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function B0(e,n,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=il(s.href),m=n.querySelector(to(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ea.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=m,je(m);return}m=n.ownerDocument||n,s=Mp(s),(d=Ot.get(d))&&nu(s,d),m=m.createElement("link"),je(m);var T=m;T._p=new Promise(function(_,C){T.onload=_,T.onerror=C}),st(m,"link",s),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Ea.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var lu=0;function k0(e,n){return e.stylesheets&&e.count===0&&Aa(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&Aa(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&lu===0&&(lu=62500*A0());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Aa(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>lu?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function Ea(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Aa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _a=null;function Aa(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_a=new Map,n.forEach(F0,e),_a=null,Ea.call(e))}function F0(e,n){if(!(n.state.loading&4)){var l=_a.get(e);if(l)var s=l.get(null);else{l=new Map,_a.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var T=d[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),s=T)}s&&l.set(null,s)}d=n.instance,T=d.getAttribute("data-precedence"),m=l.get(T)||s,m===s&&l.set(null,d),l.set(T,d),this.count++,s=Ea.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var io={$$typeof:F,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Y0(e,n,l,s,d,m,T,_,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.hiddenUpdates=ja(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function wp(e,n,l,s,d,m,T,_,C,b,V,B){return e=new Y0(e,n,l,T,C,b,V,B,_),n=1,m===!0&&(n|=24),m=Rt(3,null,null,n),e.current=m,m.stateNode=e,n=qs(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:l,cache:n},zs(m),e}function Up(e){return e?(e=Gi,e):Gi}function Lp(e,n,l,s,d,m){d=Up(d),s.context===null?s.context=d:s.pendingContext=d,s=Un(n),s.payload={element:l},m=m===void 0?null:m,m!==null&&(s.callback=m),l=Ln(e,s,n),l!==null&&(St(l,e,n),Gl(l,e,n))}function Gp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function ou(e,n){Gp(e,n),(e=e.alternate)&&Gp(e,n)}function Hp(e){if(e.tag===13||e.tag===31){var n=ii(e,67108864);n!==null&&St(n,e,67108864),ou(e,67108864)}}function qp(e){if(e.tag===13||e.tag===31){var n=bt();n=es(n);var l=ii(e,n);l!==null&&St(l,e,n),ou(e,n)}}var Ca=!0;function J0(e,n,l,s){var d=L.T;L.T=null;var m=J.p;try{J.p=2,au(e,n,l,s)}finally{J.p=m,L.T=d}}function K0(e,n,l,s){var d=L.T;L.T=null;var m=J.p;try{J.p=8,au(e,n,l,s)}finally{J.p=m,L.T=d}}function au(e,n,l,s){if(Ca){var d=su(s);if(d===null)Jr(e,n,s,Ra,l),Pp(e,s);else if(Q0(d,e,n,l,s))s.stopPropagation();else if(Pp(e,s),n&4&&-1<X0.indexOf(e)){for(;d!==null;){var m=Ci(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Wn(m.pendingLanes);if(T!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;T;){var C=1<<31-At(T);_.entanglements[1]|=C,T&=~C}tn(m),(xe&6)===0&&(sa=rt()+500,$l(0))}}break;case 31:case 13:_=ii(m,2),_!==null&&St(_,m,2),ua(),ou(m,2)}if(m=su(s),m===null&&Jr(e,n,s,Ra,l),m===d)break;d=m}d!==null&&s.stopPropagation()}else Jr(e,n,s,null,l)}}function su(e){return e=us(e),ru(e)}var Ra=null;function ru(e){if(Ra=null,e=Ai(e),e!==null){var n=f(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=p(n),e!==null)return e;e=null}else if(l===31){if(e=g(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ra=e,null}function Vp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ug()){case Yu:return 2;case Ju:return 8;case mo:case Lg:return 32;case Ku:return 268435456;default:return 32}default:return 32}}var uu=!1,Yn=null,Jn=null,Kn=null,lo=new Map,oo=new Map,Xn=[],X0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pp(e,n){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":lo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(n.pointerId)}}function ao(e,n,l,s,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:l,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},n!==null&&(n=Ci(n),n!==null&&Hp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function Q0(e,n,l,s,d){switch(n){case"focusin":return Yn=ao(Yn,e,n,l,s,d),!0;case"dragenter":return Jn=ao(Jn,e,n,l,s,d),!0;case"mouseover":return Kn=ao(Kn,e,n,l,s,d),!0;case"pointerover":var m=d.pointerId;return lo.set(m,ao(lo.get(m)||null,e,n,l,s,d)),!0;case"gotpointercapture":return m=d.pointerId,oo.set(m,ao(oo.get(m)||null,e,n,l,s,d)),!0}return!1}function Op(e){var n=Ai(e.target);if(n!==null){var l=f(n);if(l!==null){if(n=l.tag,n===13){if(n=p(l),n!==null){e.blockedOn=n,ju(e.priority,function(){qp(l)});return}}else if(n===31){if(n=g(l),n!==null){e.blockedOn=n,ju(e.priority,function(){qp(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Na(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=su(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);rs=s,l.target.dispatchEvent(s),rs=null}else return n=Ci(l),n!==null&&Hp(n),e.blockedOn=l,!1;n.shift()}return!0}function zp(e,n,l){Na(e)&&l.delete(n)}function Z0(){uu=!1,Yn!==null&&Na(Yn)&&(Yn=null),Jn!==null&&Na(Jn)&&(Jn=null),Kn!==null&&Na(Kn)&&(Kn=null),lo.forEach(zp),oo.forEach(zp)}function Ma(e,n){e.blockedOn===n&&(e.blockedOn=null,uu||(uu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Z0)))}var xa=null;function Bp(e){xa!==e&&(xa=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){xa===e&&(xa=null);for(var n=0;n<e.length;n+=3){var l=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(ru(s||l)===null)continue;break}var m=Ci(l);m!==null&&(e.splice(n,3),n-=3,sr(m,{pending:!0,data:d,method:l.method,action:s},s,d))}}))}function ol(e){function n(C){return Ma(C,e)}Yn!==null&&Ma(Yn,e),Jn!==null&&Ma(Jn,e),Kn!==null&&Ma(Kn,e),lo.forEach(n),oo.forEach(n);for(var l=0;l<Xn.length;l++){var s=Xn[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Xn.length&&(l=Xn[0],l.blockedOn===null);)Op(l),l.blockedOn===null&&Xn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var d=l[s],m=l[s+1],T=d[mt]||null;if(typeof m=="function")T||Bp(l);else if(T){var _=null;if(m&&m.hasAttribute("formAction")){if(d=m,T=m[mt]||null)_=T.formAction;else if(ru(d)!==null)continue}else _=T.action;typeof _=="function"?l[s+1]=_:(l.splice(s,3),s-=3),Bp(l)}}}function kp(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function cu(e){this._internalRoot=e}Ia.prototype.render=cu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var l=n.current,s=bt();Lp(l,s,e,n,null,null)},Ia.prototype.unmount=cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Lp(e.current,2,null,e,null,null),ua(),n[_i]=null}};function Ia(e){this._internalRoot=e}Ia.prototype.unstable_scheduleHydration=function(e){if(e){var n=Wu();e={blockedOn:null,target:e,priority:n};for(var l=0;l<Xn.length&&n!==0&&n<Xn[l].priority;l++);Xn.splice(l,0,e),l===0&&Op(e)}};var Fp=t.version;if(Fp!=="19.2.3")throw Error(a(527,Fp,"19.2.3"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var $0={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ba.isDisabled&&ba.supportsFiber)try{hl=ba.inject($0),_t=ba}catch{}}return ro.createRoot=function(e,n){if(!r(e))throw Error(a(299));var l=!1,s="",d=$f,m=Wf,T=jf;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=wp(e,1,!1,null,null,l,s,null,d,m,T,kp),e[_i]=n.current,Yr(e),new cu(n)},ro.hydrateRoot=function(e,n,l){if(!r(e))throw Error(a(299));var s=!1,d="",m=$f,T=Wf,_=jf,C=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(C=l.formState)),n=wp(e,1,!0,n,l??null,s,d,C,m,T,_,kp),n.context=Up(null),l=n.current,s=bt(),s=es(s),d=Un(s),d.callback=null,Ln(l,d,s),l=s,n.current.lanes=l,yl(n,l),tn(n),e[_i]=n.current,Yr(e),new Ia(n)},ro.version="19.2.3",ro}var em;function sv(){if(em)return pu.exports;em=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),pu.exports=av(),pu.exports}var rv=sv();const uv=qh(rv);var Ie=(i=>(i.GRASS="grass",i.WATER="water",i.MOUNTAIN="mountain",i))(Ie||{}),U=(i=>(i.RESIDENTIAL="RESIDENTIAL",i.APARTMENT="APARTMENT",i.COMMERCIAL="COMMERCIAL",i.OFFICE="OFFICE",i.INDUSTRIAL="INDUSTRIAL",i.POWER_PLANT="POWER_PLANT",i.WATER_TOWER="WATER_TOWER",i.PARK="PARK",i.HOSPITAL="HOSPITAL",i.ROAD="ROAD",i.LANDMARK_TOWER="LANDMARK_TOWER",i.MUSEUM="MUSEUM",i.FOUNTAIN="FOUNTAIN",i.TECH_HUB="TECH_HUB",i.SOLAR_PLANT="SOLAR_PLANT",i.PORT="PORT",i.FISHERY="FISHERY",i.SEA_PARK="SEA_PARK",i.WATER_TRANS="WATER_TRANS",i.OFFSHORE_RIG="OFFSHORE_RIG",i.MARINA="MARINA",i.OCEAN_LAB="OCEAN_LAB",i.BUS_STATION="BUS_STATION",i.SUBWAY="SUBWAY",i))(U||{});const tm=15,cv={money:15e3,power:0,water:0,population:0,satisfaction:80},fv={[U.RESIDENTIAL]:{color:"#f8fafc",height:15},[U.APARTMENT]:{color:"#e2e8f0",height:40,secondaryColor:"#64748b"},[U.COMMERCIAL]:{color:"#0ea5e9",height:30,secondaryColor:"#0c4a6e"},[U.OFFICE]:{color:"#0284c7",height:70,secondaryColor:"#075985"},[U.INDUSTRIAL]:{color:"#475569",height:35,secondaryColor:"#f97316"},[U.POWER_PLANT]:{color:"#fbbf24",height:45,secondaryColor:"#451a03"},[U.WATER_TOWER]:{color:"#38bdf8",height:50,secondaryColor:"#075985"},[U.PARK]:{color:"#22c55e",height:5},[U.HOSPITAL]:{color:"#fca5a5",height:30,secondaryColor:"#991b1b"},[U.ROAD]:{color:"#1e293b",height:2},[U.LANDMARK_TOWER]:{color:"#6366f1",height:120,secondaryColor:"#312e81"},[U.MUSEUM]:{color:"#d4d4d8",height:40,secondaryColor:"#52525b"},[U.FOUNTAIN]:{color:"#7dd3fc",height:10,secondaryColor:"#0ea5e9"},[U.TECH_HUB]:{color:"#a855f7",height:55,secondaryColor:"#4c1d95"},[U.SOLAR_PLANT]:{color:"#0ea5e9",height:10,secondaryColor:"#0369a1"},[U.BUS_STATION]:{color:"#facc15",height:20,secondaryColor:"#a16207"},[U.SUBWAY]:{color:"#10b981",height:5,secondaryColor:"#064e3b"},[U.PORT]:{color:"#475569",height:25,secondaryColor:"#334155"},[U.FISHERY]:{color:"#334155",height:10,secondaryColor:"#1e293b"},[U.SEA_PARK]:{color:"#06b6d4",height:5,secondaryColor:"#0891b2"},[U.WATER_TRANS]:{color:"#0ea5e9",height:8,secondaryColor:"#0369a1"},[U.OFFSHORE_RIG]:{color:"#f97316",height:60,secondaryColor:"#431407"},[U.MARINA]:{color:"#f0f9ff",height:12,secondaryColor:"#0ea5e9"},[U.OCEAN_LAB]:{color:"#ecfeff",height:35,secondaryColor:"#0891b2"}},yi={[U.RESIDENTIAL]:{cost:500,maintenance:10,powerDemand:5,waterDemand:5,popCapacity:20,revenue:15,unlockLevel:1,synergy:{with:[U.PARK,U.COMMERCIAL,U.MARINA],bonus:.25}},[U.APARTMENT]:{cost:2500,maintenance:80,powerDemand:25,waterDemand:20,popCapacity:120,revenue:65,unlockLevel:2,synergy:{with:[U.SUBWAY,U.SEA_PARK],bonus:.2}},[U.COMMERCIAL]:{cost:1200,maintenance:60,powerDemand:20,waterDemand:10,revenue:90,happinessBonus:3,unlockLevel:1,synergy:{with:[U.OFFICE,U.PORT,U.MARINA],bonus:.3}},[U.OFFICE]:{cost:5e3,maintenance:250,powerDemand:80,waterDemand:40,revenue:400,happinessBonus:2,unlockLevel:3},[U.INDUSTRIAL]:{cost:2e3,maintenance:120,powerDemand:50,waterDemand:40,revenue:250,happinessBonus:-5,unlockLevel:1,synergy:{with:[U.PORT,U.OFFSHORE_RIG],bonus:.45}},[U.POWER_PLANT]:{cost:2500,maintenance:300,powerDemand:0,waterDemand:10,powerOutput:1800,unlockLevel:1},[U.WATER_TOWER]:{cost:1200,maintenance:120,powerDemand:30,waterDemand:0,waterOutput:1800,unlockLevel:1},[U.PARK]:{cost:600,maintenance:30,powerDemand:5,waterDemand:15,happinessBonus:18,unlockLevel:1},[U.HOSPITAL]:{cost:4500,maintenance:450,powerDemand:120,waterDemand:100,happinessBonus:35,unlockLevel:3},[U.ROAD]:{cost:50,maintenance:2,powerDemand:0,waterDemand:0,unlockLevel:1},[U.LANDMARK_TOWER]:{cost:25e3,maintenance:1200,powerDemand:300,waterDemand:150,happinessBonus:90,revenue:1500,unlockLevel:5},[U.MUSEUM]:{cost:9500,maintenance:450,powerDemand:70,waterDemand:40,happinessBonus:50,revenue:450,unlockLevel:4},[U.FOUNTAIN]:{cost:2e3,maintenance:70,powerDemand:10,waterDemand:70,happinessBonus:30,unlockLevel:2},[U.TECH_HUB]:{cost:8500,maintenance:650,powerDemand:250,waterDemand:60,revenue:900,unlockLevel:4,synergy:{with:[U.OCEAN_LAB],bonus:.3}},[U.SOLAR_PLANT]:{cost:4500,maintenance:100,powerDemand:0,waterDemand:10,powerOutput:800,unlockLevel:3},[U.BUS_STATION]:{cost:3500,maintenance:200,powerDemand:30,waterDemand:10,revenue:150,unlockLevel:3},[U.SUBWAY]:{cost:15e3,maintenance:1e3,powerDemand:500,waterDemand:60,revenue:800,unlockLevel:5},[U.PORT]:{cost:7e3,maintenance:600,powerDemand:120,waterDemand:60,revenue:1200,unlockLevel:3},[U.FISHERY]:{cost:1500,maintenance:100,powerDemand:20,waterDemand:0,revenue:280,unlockLevel:1},[U.SEA_PARK]:{cost:3500,maintenance:200,powerDemand:50,waterDemand:30,happinessBonus:30,unlockLevel:2},[U.WATER_TRANS]:{cost:4500,maintenance:300,powerDemand:60,waterDemand:10,revenue:250,unlockLevel:2},[U.OFFSHORE_RIG]:{cost:12e3,maintenance:800,powerDemand:200,waterDemand:50,revenue:2500,happinessBonus:-10,unlockLevel:4},[U.MARINA]:{cost:5e3,maintenance:400,powerDemand:80,waterDemand:40,revenue:600,happinessBonus:20,unlockLevel:3},[U.OCEAN_LAB]:{cost:9e3,maintenance:700,powerDemand:300,waterDemand:50,revenue:500,happinessBonus:10,unlockLevel:4}},Ph={[U.RESIDENTIAL]:{allowedTerrain:[Ie.GRASS]},[U.APARTMENT]:{allowedTerrain:[Ie.GRASS]},[U.COMMERCIAL]:{allowedTerrain:[Ie.GRASS]},[U.OFFICE]:{allowedTerrain:[Ie.GRASS]},[U.INDUSTRIAL]:{allowedTerrain:[Ie.GRASS]},[U.POWER_PLANT]:{allowedTerrain:[Ie.GRASS]},[U.WATER_TOWER]:{allowedTerrain:[Ie.GRASS,Ie.WATER]},[U.PARK]:{allowedTerrain:[Ie.GRASS]},[U.HOSPITAL]:{allowedTerrain:[Ie.GRASS]},[U.ROAD]:{allowedTerrain:[Ie.GRASS,Ie.WATER]},[U.LANDMARK_TOWER]:{allowedTerrain:[Ie.GRASS]},[U.MUSEUM]:{allowedTerrain:[Ie.GRASS]},[U.FOUNTAIN]:{allowedTerrain:[Ie.GRASS]},[U.TECH_HUB]:{allowedTerrain:[Ie.GRASS]},[U.SOLAR_PLANT]:{allowedTerrain:[Ie.GRASS]},[U.BUS_STATION]:{allowedTerrain:[Ie.GRASS]},[U.SUBWAY]:{allowedTerrain:[Ie.GRASS]},[U.PORT]:{allowedTerrain:[Ie.WATER]},[U.FISHERY]:{allowedTerrain:[Ie.WATER]},[U.SEA_PARK]:{allowedTerrain:[Ie.WATER]},[U.WATER_TRANS]:{allowedTerrain:[Ie.WATER]},[U.OFFSHORE_RIG]:{allowedTerrain:[Ie.WATER]},[U.MARINA]:{allowedTerrain:[Ie.WATER]},[U.OCEAN_LAB]:{allowedTerrain:[Ie.WATER]}},Ha={[U.RESIDENTIAL]:"",[U.APARTMENT]:"",[U.COMMERCIAL]:"",[U.OFFICE]:"",[U.INDUSTRIAL]:"",[U.POWER_PLANT]:"",[U.WATER_TOWER]:"",[U.PARK]:"",[U.HOSPITAL]:"",[U.ROAD]:"",[U.LANDMARK_TOWER]:"",[U.MUSEUM]:"",[U.FOUNTAIN]:"",[U.TECH_HUB]:"",[U.SOLAR_PLANT]:"",[U.BUS_STATION]:"",[U.SUBWAY]:"",[U.PORT]:"",[U.FISHERY]:"",[U.SEA_PARK]:"",[U.WATER_TRANS]:"",[U.OFFSHORE_RIG]:"",[U.MARINA]:"",[U.OCEAN_LAB]:""},dv={grass:"bg-emerald-600",water:"tile-water",mountain:"bg-stone-600"},pv=({resources:i,date:t,advice:o,level:a,missions:r,activeEvent:f})=>M.jsxs("div",{className:"bg-slate-950/80 backdrop-blur-2xl border-b border-white/5 px-6 py-4 flex flex-col gap-4 z-[100] shadow-[0_20px_50px_rgba(0,0,0,0.5)]",children:[M.jsxs("div",{className:"flex justify-between items-start",children:[M.jsxs("div",{className:"flex gap-10 items-center",children:[M.jsxs("div",{className:"relative",children:[M.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-700 flex items-center justify-center font-black text-3xl shadow-xl border-2 border-white/20",children:a}),M.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-emerald-500 rounded-full border-2 border-slate-900"})]}),M.jsxs("div",{className:"flex gap-8 items-center",children:[M.jsxs("div",{className:"flex flex-col",children:[M.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-black tracking-widest mb-1",children:"Treasury"}),M.jsxs("span",{className:"text-xl font-black text-emerald-400 font-mono tracking-tighter",children:["$",Math.floor(i.money).toLocaleString()]})]}),M.jsxs("div",{className:"flex flex-col",children:[M.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-black tracking-widest mb-1",children:"Population"}),M.jsx("span",{className:"text-xl font-black text-white font-mono tracking-tighter",children:i.population.toLocaleString()})]}),M.jsxs("div",{className:"flex flex-col",children:[M.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-black tracking-widest mb-1",children:"Happiness"}),M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsxs("span",{className:"text-xl font-black text-yellow-400 font-mono",children:[Math.floor(i.satisfaction),"%"]}),M.jsx("div",{className:"w-20 h-2 bg-slate-800 rounded-full overflow-hidden",children:M.jsx("div",{className:"bg-yellow-400 h-full transition-all duration-1000",style:{width:`${i.satisfaction}%`}})})]})]}),M.jsxs("div",{className:"flex flex-col",children:[M.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-black tracking-widest mb-1",children:"Power / Water"}),M.jsxs("div",{className:"flex gap-3 text-xs font-black font-mono",children:[M.jsxs("span",{className:i.power>=0?"text-blue-400":"text-red-500",children:[" ",i.power," MW"]}),M.jsxs("span",{className:i.water>=0?"text-sky-400":"text-red-500",children:[" ",i.water," kG"]})]})]})]})]}),M.jsxs("div",{className:"flex flex-col items-end gap-2",children:[M.jsx("div",{className:"text-3xl font-black font-mono text-white/90",children:t}),f&&M.jsxs("div",{className:"bg-yellow-500/20 border border-yellow-500/50 px-3 py-1 rounded-lg animate-pulse flex items-center gap-2",children:[M.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),M.jsx("span",{className:"text-[10px] font-black text-yellow-500 uppercase tracking-widest",children:f.name})]}),r.length>0&&M.jsxs("div",{className:"text-[10px] font-bold text-blue-400 bg-blue-500/10 px-3 py-1 rounded-md border border-blue-500/20",children:["NEXT: ",r[0].description," (",r[0].current,"/",r[0].target,")"]})]})]}),M.jsxs("div",{className:"bg-white/5 rounded-xl px-5 py-2.5 text-xs border border-white/5 flex items-center gap-4 group",children:[M.jsx("span",{className:"bg-blue-600/20 text-blue-400 text-[10px] px-2 py-0.5 rounded-md font-black uppercase tracking-wider border border-blue-400/30",children:"Advisor"}),M.jsxs("span",{className:"text-slate-400 italic group-hover:text-white transition-colors",children:['"',o,'"']})]})]}),mv=({selected:i,onSelect:t,resources:o,cityLevel:a})=>{const[r,f]=tt.useState(""),p=[{title:"",hotkey:"1",items:[U.RESIDENTIAL,U.APARTMENT]},{title:"",hotkey:"2",items:[U.COMMERCIAL,U.OFFICE,U.MARINA]},{title:"",hotkey:"3",items:[U.INDUSTRIAL,U.FISHERY,U.OFFSHORE_RIG]},{title:"",hotkey:"4",items:[U.PORT,U.SEA_PARK,U.WATER_TRANS,U.OCEAN_LAB]},{title:"",hotkey:"5",items:[U.PARK,U.HOSPITAL,U.FOUNTAIN]},{title:"",hotkey:"6",items:[U.ROAD,U.POWER_PLANT,U.WATER_TOWER]},{title:"",hotkey:"7",items:[U.LANDMARK_TOWER,U.MUSEUM,U.TECH_HUB]}],g=p.find(h=>h.title===r),y=(g==null?void 0:g.items)||[];return tt.useEffect(()=>{const h=v=>{const S=p.find(A=>A.hotkey===v.key);if(S){f(S.title);return}const E=v.key.toLowerCase();E==="q"&&y[0]&&t(i===y[0]?null:y[0]),E==="w"&&y[1]&&t(i===y[1]?null:y[1]),E==="e"&&y[2]&&t(i===y[2]?null:y[2]),E==="r"&&y[3]&&t(i===y[3]?null:y[3]),v.key==="x"&&t(i==="DEMOLISH"?null:"DEMOLISH"),(v.key===" "||v.key==="Escape")&&t(null)};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[r,y,i,t]),M.jsxs("div",{className:"w-full bg-slate-900/95 backdrop-blur-3xl border-t-2 border-white/10 shadow-[0_-20px_100px_rgba(0,0,0,0.9)] flex flex-col z-[500]",children:[M.jsxs("div",{className:"flex justify-center gap-1 p-3 bg-black/60 border-b border-white/5 overflow-x-auto no-scrollbar",children:[M.jsxs("button",{onClick:()=>t(i==="DEMOLISH"?null:"DEMOLISH"),className:`px-4 py-2 rounded-xl flex items-center gap-2 transition-all border-2 mr-4
            ${i==="DEMOLISH"?"bg-red-600 border-red-400 text-white animate-pulse":"bg-red-950/30 border-red-900/50 text-red-500 hover:bg-red-600/20"}
          `,children:[M.jsx("span",{className:"text-xl",children:""}),M.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Demolish (X)"})]}),p.map(h=>M.jsxs("button",{onClick:()=>f(h.title),className:`px-6 py-2 rounded-xl flex items-center gap-3 transition-all border-2 whitespace-nowrap
              ${r===h.title?"bg-blue-600 border-blue-400 text-white shadow-[0_0_20px_rgba(59,130,246,0.3)]":"bg-transparent border-transparent text-slate-500 hover:text-slate-300 hover:bg-white/5"}
            `,children:[M.jsx("span",{className:"text-[11px] font-black uppercase tracking-wider",children:h.title}),M.jsx("span",{className:"text-[9px] font-bold bg-black/40 px-1.5 py-0.5 rounded opacity-60 font-mono",children:h.hotkey})]},h.title))]}),M.jsx("div",{className:"flex justify-center items-center gap-8 py-4 h-36 px-10 relative",children:M.jsx("div",{className:"flex gap-8",children:y.map((h,v)=>{const S=yi[h];if(!S)return null;const E=a>=(S.unlockLevel||1),A=o.money>=S.cost,w=i===h,q=["Q","W","E","R"][v];return M.jsxs("div",{className:"group relative",children:[M.jsxs("button",{disabled:(!E||!A)&&!w,onClick:()=>t(w?null:h),className:`
                    w-24 h-24 rounded-[2rem] flex flex-col items-center justify-center relative transition-all border-2
                    ${w?"bg-blue-600 border-white scale-110 z-10 shadow-[0_0_50px_rgba(59,130,246,0.8)]":"bg-slate-800 border-white/10 hover:bg-slate-700 hover:border-white/40"}
                    ${E?"":"opacity-20 grayscale pointer-events-none"}
                    ${!A&&!w&&E?"opacity-40 grayscale":"active:scale-90"}
                  `,children:[M.jsx("span",{className:"text-4xl mb-1.5 drop-shadow-2xl",children:E?Ha[h]:""}),E?M.jsx("div",{className:"bg-slate-950 px-2 py-0.5 rounded-lg border border-white/10",children:M.jsxs("span",{className:`text-[11px] font-black font-mono ${A?"text-emerald-400":"text-red-400"}`,children:["$",S.cost.toLocaleString()]})}):M.jsxs("span",{className:"text-[9px] font-black text-slate-500 uppercase",children:["Lv.",S.unlockLevel]}),E&&M.jsx("span",{className:"absolute -top-1 -right-1 w-7 h-7 bg-slate-950 border-2 border-white/10 rounded-xl flex items-center justify-center text-[10px] font-black text-blue-400 shadow-2xl group-hover:bg-blue-600 group-hover:text-white",children:q})]}),E&&M.jsxs("div",{className:"absolute bottom-full mb-8 left-1/2 -translate-x-1/2 hidden group-hover:block w-72 bg-slate-950 border-2 border-white/20 p-6 rounded-[2.5rem] shadow-2xl z-[600]",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("span",{className:"text-xs font-black text-blue-400 uppercase tracking-widest",children:h}),M.jsx("span",{className:"text-2xl",children:Ha[h]})]}),M.jsxs("div",{className:"space-y-2 text-[11px] text-slate-400 font-medium",children:[M.jsxs("div",{className:"flex justify-between",children:[M.jsx("span",{children:"MAINTENANCE"}),M.jsxs("span",{className:"text-red-400",children:["-$",S.maintenance,"/mo"]})]}),S.revenue&&M.jsxs("div",{className:"flex justify-between",children:[M.jsx("span",{children:"BASE REVENUE"}),M.jsxs("span",{className:"text-emerald-400",children:["+$",S.revenue]})]}),S.popCapacity&&M.jsxs("div",{className:"flex justify-between",children:[M.jsx("span",{children:"CAPACITY"}),M.jsxs("span",{className:"text-sky-400",children:[S.popCapacity," People"]})]}),S.synergy&&M.jsxs("div",{className:"flex flex-col pt-2 border-t border-white/5",children:[M.jsx("span",{className:"text-[9px] text-blue-300 font-black uppercase tracking-widest",children:"Synergy Potential"}),M.jsxs("span",{className:"text-[10px] text-slate-500 italic",children:["Boosted by ",S.synergy.with.map(G=>Ha[G]).join(" ")]})]})]})]})]},h)})})})]})},hv=({tile:i,onClose:t,onUpgrade:o,money:a})=>{var h;const r=i.building?yi[i.building.type]:null,f=i.building&&[U.POWER_PLANT,U.WATER_TOWER,U.ROAD].includes(i.building.type),p=((h=i.building)==null?void 0:h.level)||1,g=r?Math.floor(r.cost*p*1.5):0,y=a>=g;return M.jsxs("div",{className:"absolute left-8 top-1/2 -translate-y-1/2 w-80 bg-slate-900/95 backdrop-blur-2xl border border-white/10 rounded-[32px] shadow-[0_50px_100px_rgba(0,0,0,0.8)] p-8 z-40 animate-in fade-in slide-in-from-left-10 duration-500",children:[M.jsxs("div",{className:"flex justify-between items-start mb-6",children:[M.jsxs("div",{children:[M.jsxs("h3",{className:"text-lg font-black text-white uppercase tracking-widest",children:[i.terrain," Sector"]}),M.jsxs("p",{className:"text-[10px] font-mono text-slate-500 uppercase font-black",children:["Local Node ",i.x,":",i.y]})]}),M.jsx("button",{onClick:t,className:"w-8 h-8 rounded-full bg-white/5 hover:bg-white/10 flex items-center justify-center transition-all text-slate-500 hover:text-white",children:""})]}),M.jsx("div",{className:"h-px bg-white/5 mb-8"}),i.building?M.jsxs("div",{className:"space-y-6",children:[M.jsxs("div",{className:"flex items-center gap-5",children:[M.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-slate-700 to-slate-800 rounded-3xl flex items-center justify-center text-4xl shadow-2xl border border-white/10",children:Ha[i.building.type]}),M.jsxs("div",{className:"flex-1",children:[M.jsx("div",{className:"text-2xl font-black text-blue-400 tracking-tighter leading-none mb-1",children:i.building.type}),M.jsxs("div",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[2px]",children:["Efficiency Lvl.",i.building.level]})]})]}),!f&&!i.building.isConnected&&M.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 p-3 rounded-2xl flex items-center gap-3",children:[M.jsx("span",{className:"text-xl",children:""}),M.jsxs("div",{className:"flex flex-col",children:[M.jsx("span",{className:"text-[10px] font-black text-red-400 uppercase tracking-widest leading-none mb-1",children:"Disconnected"}),M.jsx("span",{className:"text-[11px] text-red-200/70 font-medium leading-tight",children:"Requires adjacent Road to reach full capacity and yield."})]})]}),M.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[M.jsxs("div",{className:"bg-black/40 p-3 rounded-2xl border border-white/5",children:[M.jsx("div",{className:"text-[9px] text-slate-500 uppercase font-black tracking-widest mb-1",children:"Maintenance"}),M.jsxs("div",{className:"text-red-400 font-black font-mono",children:["-$",((r==null?void 0:r.maintenance)||0)*p,"/mo"]})]}),M.jsxs("div",{className:"bg-black/40 p-3 rounded-2xl border border-white/5",children:[M.jsx("div",{className:"text-[9px] text-slate-500 uppercase font-black tracking-widest mb-1",children:"Daily Yield"}),M.jsxs("div",{className:"text-emerald-400 font-black font-mono",children:["+$",Math.floor(((r==null?void 0:r.revenue)||0)*(i.building.isConnected||f?1+(p-1)*.5:.1)),"/day"]})]}),M.jsxs("div",{className:"bg-black/40 p-3 rounded-2xl border border-white/5",children:[M.jsx("div",{className:"text-[9px] text-slate-500 uppercase font-black tracking-widest mb-1",children:"Load Balance"}),M.jsxs("div",{className:"text-blue-300 font-black font-mono",children:[r!=null&&r.powerOutput?`+${r.powerOutput*p}`:`-${((r==null?void 0:r.powerDemand)||0)*p}`," MW"]})]}),M.jsxs("div",{className:"bg-black/40 p-3 rounded-2xl border border-white/5",children:[M.jsx("div",{className:"text-[9px] text-slate-500 uppercase font-black tracking-widest mb-1",children:"Fluid Flow"}),M.jsxs("div",{className:"text-sky-300 font-black font-mono",children:[r!=null&&r.waterOutput?`+${r.waterOutput*p}`:`-${((r==null?void 0:r.waterDemand)||0)*p}`," kG"]})]})]}),(r==null?void 0:r.popCapacity)&&M.jsxs("div",{className:"bg-black/40 p-4 rounded-3xl border border-white/5",children:[M.jsxs("div",{className:"flex justify-between items-center mb-2",children:[M.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Habitation Limit"}),M.jsxs("span",{className:"text-xs font-black text-white",children:[Math.floor(r.popCapacity*(1+(p-1)*.5))," Units"]})]}),M.jsx("div",{className:"w-full bg-slate-800 h-2 rounded-full overflow-hidden",children:M.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-400 h-full transition-all duration-500 shadow-[0_0_10px_rgba(59,130,246,0.5)]",style:{width:`${Math.min(100,p/10*100)}%`}})})]}),M.jsxs("div",{className:"pt-4 border-t border-white/5",children:[M.jsxs("button",{onClick:()=>o(i.x,i.y),disabled:!y,className:`w-full py-4 rounded-2xl text-[11px] font-black uppercase tracking-[3px] transition-all border shadow-lg flex flex-col items-center justify-center gap-1
                ${y?"bg-blue-600 hover:bg-blue-500 text-white border-white/20 active:scale-95":"bg-slate-800 text-slate-600 border-white/5 cursor-not-allowed opacity-50"}
              `,children:[M.jsxs("span",{children:["Upgrade to Lvl.",p+1]}),M.jsxs("span",{className:"text-[9px] opacity-70 tracking-widest font-mono",children:["Cost: $",g.toLocaleString()]})]}),!y&&M.jsx("p",{className:"text-[9px] text-center mt-2 text-red-400 font-bold uppercase tracking-wider",children:"Insufficient Funds"})]})]}):M.jsxs("div",{className:"text-center py-10",children:[M.jsx("div",{className:"text-5xl mb-6 grayscale opacity-20 animate-pulse",children:""}),M.jsx("p",{className:"text-slate-400 text-sm font-medium px-4",children:"Open sector identified. Awaiting urban development protocol."}),M.jsxs("div",{className:"mt-6 flex flex-col gap-2",children:[M.jsx("div",{className:"text-[9px] text-slate-600 font-black uppercase tracking-[2px]",children:"Placement Options"}),M.jsx("div",{className:"text-[10px] text-slate-700 italic",children:"Select a module from the terminal below."})]})]})]})},nm=({type:i,level:t=1,isGhost:o=!1})=>{const a=fv[i]||{color:"#ffffff",height:10},r=a.height*(1+(t-1)*.4),f=1+(t-1)*.05;return M.jsxs("div",{className:`building-3d ${o?"opacity-40 brightness-125":""}`,style:{"--h":`${r}px`,color:a.color,transform:`scale(${f})`,pointerEvents:"none"},children:[M.jsx("div",{className:"face face-top"}),M.jsx("div",{className:"face face-front",children:["COMMERCIAL","RESIDENTIAL","OFFICE","LANDMARK_TOWER","PORT","OCEAN_LAB"].includes(i)&&M.jsx("div",{className:"absolute inset-1 grid grid-cols-4 grid-rows-6 gap-[2px]",children:Array.from({length:Math.min(32,24+t*4)}).map((p,g)=>M.jsx("div",{className:"bg-white/40 rounded-[1px] shadow-[0_0_3px_rgba(255,255,255,0.6)]"},g))})}),M.jsx("div",{className:"face face-side"}),i===U.OFFSHORE_RIG&&M.jsxs("div",{className:"absolute inset-0",style:{transformStyle:"preserve-3d"},children:[M.jsx("div",{className:"absolute w-2 h-20 bg-slate-700",style:{transform:"translateZ(-20px) translateX(-10px)"}}),M.jsx("div",{className:"absolute w-2 h-20 bg-slate-700",style:{transform:"translateZ(-20px) translateX(10px)"}}),M.jsx("div",{className:"absolute w-10 h-2 bg-red-500 animate-pulse",style:{transform:`translateZ(${r}px)`}})]}),i===U.MARINA&&M.jsxs("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-blue-400/50",style:{transform:"translateZ(1px)"},children:[M.jsx("div",{className:"absolute top-0 left-2 w-1 h-12 bg-slate-200",style:{transform:"rotateX(-90deg)"}}),M.jsx("div",{className:"absolute top-0 right-2 w-1 h-12 bg-slate-200",style:{transform:"rotateX(-90deg)"}})]}),i===U.OCEAN_LAB&&M.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{transformStyle:"preserve-3d"},children:M.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-200/40 border border-white/30",style:{transform:`translateZ(${r}px)`}})}),t>=3&&M.jsx("div",{className:"absolute w-full h-1 bg-yellow-400/80 blur-sm",style:{transform:`translateZ(${r+2}px)`}})]})},gv=({tiles:i,onTileClick:t,selectedTile:o,previewBuilding:a,resources:r,startMousePos:f})=>{const p=(g,y,h)=>{const v=Math.abs(g.clientX-f.x),S=Math.abs(g.clientY-f.y);v<5&&S<5&&t(y,h)};return M.jsx("div",{className:"relative grid gap-1 p-16 bg-slate-900/20 border-[40px] border-slate-950/50 rounded-[6rem] shadow-[0_0_200px_rgba(0,0,0,1)]",style:{gridTemplateColumns:`repeat(${i.length}, 60px)`,transformStyle:"preserve-3d",pointerEvents:"auto"},children:i.map((g,y)=>M.jsx(Vh.Fragment,{children:g.map((h,v)=>{const S=(o==null?void 0:o.x)===v&&(o==null?void 0:o.y)===y,E=dv[h.terrain];let A=!1,w=!1;if(a==="DEMOLISH")A=!!h.building;else if(a){const q=Ph[a],G=yi[a];h.building||q.allowedTerrain.includes(h.terrain)&&(r.money<G.cost||(A=!0,w=[{dx:0,dy:1},{dx:0,dy:-1},{dx:1,dy:0},{dx:-1,dy:0},{dx:1,dy:1},{dx:-1,dy:-1},{dx:1,dy:-1},{dx:-1,dy:1}].some(Q=>{var W,ie;const F=(W=i[y+Q.dy])==null?void 0:W[v+Q.dx];return(F==null?void 0:F.building)&&((ie=G.synergy)==null?void 0:ie.with.includes(F.building.type))})))}return M.jsxs("div",{onMouseUp:q=>p(q,v,y),className:`
                  tile
                  ${E}
                  ${S?"z-50":""}
                  ${w&&!h.building?"ring-4 ring-blue-400/50 ring-inset shadow-[0_0_30px_rgba(96,165,250,0.6)]":""}
                `,style:{transformStyle:"preserve-3d",zIndex:v+y},children:[S&&M.jsx("div",{className:"tile-highlight"}),M.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",style:{transformStyle:"preserve-3d"},children:[h.building&&M.jsx("div",{className:"construct-flash w-full h-full",style:{transformStyle:"preserve-3d"},children:M.jsx(nm,{type:h.building.type,level:h.building.level})}),a&&!h.building&&M.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",style:{transformStyle:"preserve-3d"},children:[M.jsx("div",{className:`absolute inset-[-6px] border-[4px] rounded-xl transition-all duration-300
                        ${A?a==="DEMOLISH"?"border-red-500 bg-red-500/30":"border-blue-400 bg-blue-400/30 scale-105":"border-red-600 bg-red-600/50 scale-90 opacity-40"}
                      `}),a!=="DEMOLISH"&&M.jsx("div",{className:"opacity-60 scale-95",style:{transformStyle:"preserve-3d"},children:M.jsx(nm,{type:a,isGhost:!0})})]}),a==="DEMOLISH"&&h.building&&M.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-600/50 rounded-lg animate-pulse z-[100]",children:M.jsx("span",{className:"text-4xl",style:{transform:"translateZ(60px) rotateX(-45deg)"},children:""})})]}),M.jsx("div",{className:"absolute inset-0 border-[0.5px] border-white/5 pointer-events-none"})]},h.id)})},`row-${y}`))})},yv=({taxRate:i,setTaxRate:t,income:o,expenses:a,onClose:r})=>{const f=o-a;return M.jsxs("div",{className:"absolute left-8 bottom-48 w-80 bg-slate-900/95 backdrop-blur-2xl border border-white/10 rounded-[32px] shadow-2xl p-8 z-[60] animate-in fade-in slide-in-from-bottom-10",children:[M.jsxs("div",{className:"flex justify-between items-center mb-6",children:[M.jsx("h3",{className:"text-lg font-black uppercase tracking-widest text-blue-400",children:"City Treasury"}),M.jsx("button",{onClick:r,className:"text-slate-500 hover:text-white",children:""})]}),M.jsxs("div",{className:"space-y-6",children:[M.jsxs("div",{className:"bg-black/40 p-5 rounded-2xl border border-white/5 space-y-3",children:[M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Total Monthly Income"}),M.jsxs("span",{className:"text-emerald-400 font-mono font-bold",children:["+$",Math.floor(o).toLocaleString()]})]}),M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Total Maintenance"}),M.jsxs("span",{className:"text-red-400 font-mono font-bold",children:["-$",Math.floor(a).toLocaleString()]})]}),M.jsx("div",{className:"h-px bg-white/10 my-1"}),M.jsxs("div",{className:"flex justify-between items-center pt-1",children:[M.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-white",children:"Estimated Profit"}),M.jsxs("span",{className:`text-sm font-black font-mono ${f>=0?"text-emerald-400":"text-red-400"}`,children:["$",Math.floor(f).toLocaleString()]})]})]}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{className:"flex justify-between items-center px-1",children:[M.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-300",children:["Target Tax Rate: ",i,"%"]}),M.jsx("span",{className:"text-[9px] font-bold text-yellow-500 uppercase tracking-tighter",children:"Happiness impact x2.5"})]}),M.jsx("input",{type:"range",min:"0",max:"30",step:"1",value:i,onChange:p=>t(parseInt(p.target.value)),className:"w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-blue-500"}),M.jsxs("div",{className:"flex justify-between text-[8px] font-black text-slate-600 uppercase tracking-widest px-1",children:[M.jsx("span",{children:"Booster Growth"}),M.jsx("span",{children:"Max Revenue"})]})]}),M.jsx("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-2xl",children:M.jsx("p",{className:"text-[10px] text-blue-300 italic leading-relaxed",children:'",       .      230%    ."'})})]})]})};var vv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Tv,Sv;function Ev(){return{geminiUrl:Tv,vertexUrl:Sv}}function _v(i,t,o,a){var r,f;if(!(i!=null&&i.baseUrl)){const p=Ev();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(f=p.geminiUrl)!==null&&f!==void 0?f:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class An{}function $(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,o){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];c(v,t.slice(f+1),o[h])}else for(const h of y)c(h,t.slice(f+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(f+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return o;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const p=i[f];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),o)):o}else return o}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function Av(i,t){for(const[o,a]of Object.entries(t)){const r=o.split("."),f=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const h=f[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}Tu(i,r,f,0,p)}}function Tu(i,t,o,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const f=t[a];if(f.endsWith("[]")){const p=f.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])Tu(y,t,o,a+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=p[h];for(const[h,v]of Object.entries(y)){const S=[];for(const E of o.slice(a))E==="*"?S.push(h):S.push(E);c(p,S,v)}for(const h of g)delete p[h]}}else{const p=i;f in p&&Tu(p[f],t,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cv(i){const t={},o=u(i,["operationName"]);o!=null&&c(t,["operationName"],o);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function Rv(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],Mv(p)),t}function Nv(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],xv(p)),t}function Mv(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>Iv(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function xv(i){const t={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>bv(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Iv(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],Hv(o)),t}function bv(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],qv(o)),t}function Dv(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function wv(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function Uv(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],Lv(p)),t}function Lv(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Oh(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],Gv(p)),t}function Gv(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Hv(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Lu(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function qv(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Lu(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var im;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(im||(im={}));var lm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(lm||(lm={}));var om;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(om||(om={}));var Zn;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Zn||(Zn={}));var am;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(am||(am={}));var sm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(sm||(sm={}));var rm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(rm||(rm={}));var um;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(um||(um={}));var cm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(cm||(cm={}));var fm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(fm||(fm={}));var dm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(dm||(dm={}));var pm;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(pm||(pm={}));var mm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(mm||(mm={}));var hm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(hm||(hm={}));var gm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(gm||(gm={}));var ym;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ym||(ym={}));var vm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(vm||(vm={}));var Tm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Tm||(Tm={}));var Sm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Sm||(Sm={}));var Pa;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Pa||(Pa={}));var Em;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Em||(Em={}));var _m;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(_m||(_m={}));var Am;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Am||(Am={}));var Su;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Su||(Su={}));var Cm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Cm||(Cm={}));var Rm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Rm||(Rm={}));var Nm;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Nm||(Nm={}));var Mm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Mm||(Mm={}));var xm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(xm||(xm={}));var Im;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Im||(Im={}));var bm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(bm||(bm={}));var Dm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Dm||(Dm={}));var wm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(wm||(wm={}));var Um;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Um||(Um={}));var Lm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Lm||(Lm={}));var Gm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Gm||(Gm={}));var Hm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Hm||(Hm={}));var qm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(qm||(qm={}));var Vm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Vm||(Vm={}));var Pm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Pm||(Pm={}));var Om;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Om||(Om={}));var zm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(zm||(zm={}));var Bm;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Bm||(Bm={}));var km;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(km||(km={}));var Fm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Fm||(Fm={}));var Ym;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Ym||(Ym={}));var Jm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Jm||(Jm={}));var Km;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Km||(Km={}));var Xm;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Xm||(Xm={}));var Qm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Qm||(Qm={}));var Zm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Zm||(Zm={}));var $m;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})($m||($m={}));var Wm;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Wm||(Wm={}));var jm;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(jm||(jm={}));var eh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(eh||(eh={}));var sl;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(sl||(sl={}));class Eu{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class uo{get text(){var t,o,a,r,f,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const S=[];for(const E of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[A,w]of Object.entries(E))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(w!==null||w!==void 0)&&S.push(A);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,h+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,o,a,r,f,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const S of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,A]of Object.entries(S))E!=="inlineData"&&(A!==null||A!==void 0)&&v.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(h+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,o,a,r,f,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,o,a,r,f,p,g,y,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,o,a,r,f,p,g,y,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class th{}class nh{}class Vv{}class Pv{}class Ov{}class zv{}class ih{}class lh{}class oh{}class Bv{}class Oa{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Oa;let r;const f=t;return o?r=Nv(f):r=Rv(f),Object.assign(a,r),a}}class ah{}class sh{}class rh{}class uh{}class kv{}class Fv{}class Yv{}class Gu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Gu,f=Uv(t);return Object.assign(a,f),a}}class Jv{}class Kv{}class Xv{}class ch{}class Qv{get text(){var t,o,a;let r="",f=!1;const p=[];for(const g of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,o,a;let r="";const f=[];for(const p of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Zv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Hu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Hu,f=Oh(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Re(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function zh(i,t){const o=Re(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Bh(i){return Array.isArray(i)?i.map(t=>za(t)):[za(i)]}function za(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function kh(i){const t=za(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Fh(i){const t=za(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function fh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Yh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>fh(t)):[fh(i)]}function _u(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function dh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function ph(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function ct(i){if(i==null)throw new Error("ContentUnion is required");return _u(i)?i:{role:"user",parts:Yh(i)}}function qu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=ct(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=ct(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>ct(o)):[ct(t)]}function zt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(dh(i)||ph(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ct(i)]}const t=[],o=[],a=_u(i[0]);for(const r of i){const f=_u(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(dh(r)||ph(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||t.push({role:"user",parts:Yh(o)}),t}function $v(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(Zn).includes(o[0].toUpperCase())?o[0].toUpperCase():Zn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(Zn).includes(a.toUpperCase())?a.toUpperCase():Zn.TYPE_UNSPECIFIED})}}function ul(i){const t={},o=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&$v(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(Zn).includes(g.toUpperCase())?g.toUpperCase():Zn.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=ul(g);else if(a.includes(p)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(ul(h))}t[p]=y}else if(r.includes(p)){const y={};for(const[h,v]of Object.entries(g))y[h]=ul(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Vu(i){return ul(i)}function Pu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Ou(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function fl(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ul(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ul(t.response));return i}function dl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function Wv(i,t,o,a=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function Cn(i,t){if(typeof t!="string")throw new Error("name must be a string");return Wv(i,t,"cachedContents")}function Jh(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function $n(i){return Lu(i)}function jv(i){return i!=null&&typeof i=="object"&&"name"in i}function eT(i){return i!=null&&typeof i=="object"&&"video"in i}function tT(i){return i!=null&&typeof i=="object"&&"uri"in i}function Kh(i){var t;let o;if(jv(i)&&(o=i.name),!(tT(i)&&(o=i.uri,o===void 0))&&!(eT(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Xh(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function Qh(i){for(const t of["models","tunedModels","publisherModels"])if(nT(i,t))return i[t];return[]}function nT(i,t){return i!==null&&typeof i=="object"&&t in i}function iT(i,t={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function lT(i,t={}){const o=[],a=new Set;for(const r of i){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const p=iT(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function Zh(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function oT(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function $h(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function pl(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Wh(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aT(i){const t={},o=u(i,["responsesFile"]);o!=null&&c(t,["fileName"],o);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>OT(p))),c(t,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function sT(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&c(t,["format"],o);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function rT(i){const t={},o=u(i,["format"]);o!=null&&c(t,["predictionsFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function qa(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],Wh(r));const f=u(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&c(t,["dest"],aT($h(h))),t}function Au(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],Wh(r));const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const S=u(i,["inputConfig"]);S!=null&&c(t,["src"],uT(S));const E=u(i,["outputConfig"]);E!=null&&c(t,["dest"],sT($h(E)));const A=u(i,["completionStats"]);return A!=null&&c(t,["completionStats"],A),t}function uT(i){const t={},o=u(i,["instancesFormat"]);o!=null&&c(t,["format"],o);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function cT(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(o,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>PT(i,p))),c(o,["requests","requests"],f)}return o}function fT(i){const t={},o=u(i,["format"]);o!=null&&c(t,["instancesFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function dT(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function pT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],pl(i,a)),o}function mT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],pl(i,a)),o}function hT(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],gT(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),c(t,["safetyRatings"],E)}const S=u(i,["urlContextMetadata"]);return S!=null&&c(t,["urlContextMetadata"],S),t}function gT(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function jh(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>KT(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function yT(i,t){const o={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function vT(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],rT(oT(r))),o}function mh(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Re(i,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],cT(i,Zh(i,r)));const f=u(t,["config"]);return f!=null&&yT(f,o),o}function TT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Re(i,a));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],fT(Zh(i,r)));const f=u(t,["config"]);return f!=null&&vT(f,o),o}function ST(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),o}function ET(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Re(i,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],xT(i,r));const f=u(t,["config"]);return f!=null&&ST(f,o),o}function _T(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],pl(i,a)),o}function AT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],pl(i,a)),o}function CT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function RT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function NT(i,t){const o={},a=u(t,["contents"]);if(a!=null){let f=qu(i,a);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],MT(r,o)),Av(o,{"requests[].*":"requests[].request.*"})),o}function MT(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function xT(i,t){const o={},a=u(t,["fileName"]);a!=null&&c(o,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],NT(i,r)),o}function IT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function bT(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function DT(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function wT(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],jh(ct(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const w=u(t,["frequencyPenalty"]);w!=null&&c(a,["frequencyPenalty"],w);const q=u(t,["seed"]);q!=null&&c(a,["seed"],q);const G=u(t,["responseMimeType"]);G!=null&&c(a,["responseMimeType"],G);const k=u(t,["responseSchema"]);k!=null&&c(a,["responseSchema"],Vu(k));const Q=u(t,["responseJsonSchema"]);if(Q!=null&&c(a,["responseJsonSchema"],Q),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(t,["safetySettings"]);if(o!==void 0&&F!=null){let ae=F;Array.isArray(ae)&&(ae=ae.map(he=>XT(he))),c(o,["safetySettings"],ae)}const W=u(t,["tools"]);if(o!==void 0&&W!=null){let ae=dl(W);Array.isArray(ae)&&(ae=ae.map(he=>ZT(fl(he)))),c(o,["tools"],ae)}const ie=u(t,["toolConfig"]);if(o!==void 0&&ie!=null&&c(o,["toolConfig"],QT(ie)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const oe=u(t,["cachedContent"]);o!==void 0&&oe!=null&&c(o,["cachedContent"],Cn(i,oe));const K=u(t,["responseModalities"]);K!=null&&c(a,["responseModalities"],K);const Y=u(t,["mediaResolution"]);Y!=null&&c(a,["mediaResolution"],Y);const z=u(t,["speechConfig"]);if(z!=null&&c(a,["speechConfig"],Pu(z)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Z=u(t,["thinkingConfig"]);Z!=null&&c(a,["thinkingConfig"],Z);const te=u(t,["imageConfig"]);te!=null&&c(a,["imageConfig"],VT(te));const se=u(t,["enableEnhancedCivicAnswers"]);return se!=null&&c(a,["enableEnhancedCivicAnswers"],se),a}function UT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>hT(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function LT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],pl(i,a)),o}function GT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],pl(i,a)),o}function HT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function qT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function VT(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function PT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["request","model"],Re(i,a));const r=u(t,["contents"]);if(r!=null){let g=zt(r);Array.isArray(g)&&(g=g.map(y=>jh(y))),c(o,["request","contents"],g)}const f=u(t,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(t,["config"]);return p!=null&&c(o,["request","generationConfig"],wT(i,p,u(o,["request"],{}))),o}function OT(i){const t={},o=u(i,["response"]);o!=null&&c(t,["response"],UT(o));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function zT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function BT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),o}function kT(i){const t={},o=u(i,["config"]);return o!=null&&zT(o,t),t}function FT(i){const t={},o=u(i,["config"]);return o!=null&&BT(o,t),t}function YT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>qa(p))),c(t,["batchJobs"],f)}return t}function JT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Au(p))),c(t,["batchJobs"],f)}return t}function KT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],IT(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],bT(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],dT(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function XT(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function QT(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],DT(o));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function ZT(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],HT(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],qT(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _n;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(_n||(_n={}));class vi{constructor(t,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,r)}init(t,o,a){var r,f;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $T extends An{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new vi(_n.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=mh(this.apiClient,t),a=o._url,r=$("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const E=S.systemInstruction;delete S.systemInstruction;const A=S.request;A.systemInstruction=E,S.request=A}h.push(S)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=TT(this.apiClient,t);return g=$("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Au(v))}else{const h=mh(this.apiClient,t);return g=$("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>qa(v))}}async createEmbeddingsInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ET(this.apiClient,t);return f=$("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>qa(y))}}async get(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=GT(this.apiClient,t);return g=$("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Au(v))}else{const h=LT(this.apiClient,t);return g=$("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>qa(v))}}async cancel(t){var o,a,r,f;let p="",g={};if(this.apiClient.isVertexAI()){const y=mT(this.apiClient,t);p=$("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=pT(this.apiClient,t);p=$("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=FT(t);return g=$("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=JT(v),E=new ch;return Object.assign(E,S),E})}else{const h=kT(t);return g=$("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=YT(v),E=new ch;return Object.assign(E,S),E})}}async delete(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=AT(this.apiClient,t);return g=$("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>RT(v))}else{const h=_T(this.apiClient,t);return g=$("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>CT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WT(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function hh(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>ES(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function jT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=zt(p);Array.isArray(v)&&(v=v.map(S=>hh(S))),c(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],hh(ct(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>AS(S))),c(t,["tools"],v)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],_S(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function eS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let S=zt(p);Array.isArray(S)&&(S=S.map(E=>E)),c(t,["contents"],S)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],ct(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>CS(E))),c(t,["tools"],S)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),o}function tS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],zh(i,a));const r=u(t,["config"]);return r!=null&&jT(r,o),o}function nS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],zh(i,a));const r=u(t,["config"]);return r!=null&&eS(r,o),o}function iS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Cn(i,a)),o}function lS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Cn(i,a)),o}function oS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function aS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function sS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function rS(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function uS(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function cS(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function fS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Cn(i,a)),o}function dS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Cn(i,a)),o}function pS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function mS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function hS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function gS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function yS(i){const t={},o=u(i,["config"]);return o!=null&&hS(o,t),t}function vS(i){const t={},o=u(i,["config"]);return o!=null&&gS(o,t),t}function TS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function SS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function ES(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],sS(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],rS(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],WT(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function _S(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],uS(o));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function AS(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],pS(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],mS(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function CS(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>cS(E))),c(t,["functionDeclarations"],S)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function RS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function NS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function MS(i,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],Cn(i,a));const r=u(t,["config"]);return r!=null&&RS(r,o),o}function xS(i,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],Cn(i,a));const r=u(t,["config"]);return r!=null&&NS(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IS extends An{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new vi(_n.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=nS(this.apiClient,t);return g=$("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=tS(this.apiClient,t);return g=$("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=dS(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=fS(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=lS(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=aS(v),E=new rh;return Object.assign(E,S),E})}else{const h=iS(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=oS(v),E=new rh;return Object.assign(E,S),E})}}async update(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=xS(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=MS(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=vS(t);return g=$("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=SS(v),E=new uh;return Object.assign(E,S),E})}else{const h=yS(t);return g=$("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=TS(v),E=new uh;return Object.assign(E,S),E})}}}function Ba(i,t){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(o[a[r]]=i[a[r]]);return o}function gh(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(i){return this instanceof fe?(this.v=i,this):new fe(i)}function Xt(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(A){return function(w){return Promise.resolve(w).then(A,S)}}function g(A,w){a[A]&&(r[A]=function(q){return new Promise(function(G,k){f.push([A,q,G,k])>1||y(A,q)})},w&&(r[A]=w(r[A])))}function y(A,w){try{h(a[A](w))}catch(q){E(f[0][3],q)}}function h(A){A.value instanceof fe?Promise.resolve(A.value.v).then(v,S):E(f[0][2],A)}function v(A){y("next",A)}function S(A){y("throw",A)}function E(A,w){A(w),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Qt(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof gh=="function"?gh(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(f){o[f]=i[f]&&function(p){return new Promise(function(g,y){p=i[f](p),r(g,y,p.done,p.value)})}}function r(f,p,g,y){Promise.resolve(y).then(function(h){f({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bS(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:eg(o)}function eg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function DS(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function yh(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let f=!0;for(;a<o&&i[a].role==="model";)r.push(i[a]),f&&!eg(i[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class wS{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new US(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class US{constructor(t,o,a,r={},f=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),DS(f)}async sendMessage(t){var o;await this.sendPromise;const a=ct(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,p,g;const y=await r,h=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];v!=null&&(E=(g=v.slice(S))!==null&&g!==void 0?g:[]);const A=h?[h]:[];this.recordHistory(a,A,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const a=ct(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const o=t?yh(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return Xt(this,arguments,function*(){var r,f,p,g,y,h;const v=[];try{for(var S=!0,E=Qt(t),A;A=yield fe(E.next()),r=A.done,!r;S=!0){g=A.value,S=!1;const w=g;if(bS(w)){const q=(h=(y=w.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;q!==void 0&&v.push(q)}yield yield fe(w)}}catch(w){f={error:w}}finally{try{!S&&!r&&(p=E.return)&&(yield fe(p.call(E)))}finally{if(f)throw f.error}}this.recordHistory(o,v)})}recordHistory(t,o,a){let r=[];o.length>0&&o.every(f=>f.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...yh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ya extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ya.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LS(i){const t={},o=u(i,["file"]);return o!=null&&c(t,["file"],o),t}function GS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function HS(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],Kh(o)),t}function qS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function VS(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],Kh(o)),t}function PS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function OS(i){const t={},o=u(i,["config"]);return o!=null&&PS(o,t),t}function zS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BS extends An{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new vi(_n.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=OS(t);return f=$("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=zS(y),v=new Jv;return Object.assign(v,h),v})}}async createInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=LS(t);return f=$("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=GS(y),v=new Kv;return Object.assign(v,h),v})}}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=VS(t);return f=$("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=HS(t);return f=$("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=qS(y),v=new Xv;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Va(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function kS(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>oE(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function FS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function YS(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function JS(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function KS(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const S=u(i,["presencePenalty"]);S!=null&&c(t,["presencePenalty"],S);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const w=u(i,["responseModalities"]);w!=null&&c(t,["responseModalities"],w);const q=u(i,["responseSchema"]);q!=null&&c(t,["responseSchema"],q);const G=u(i,["routingConfig"]);G!=null&&c(t,["routingConfig"],G);const k=u(i,["seed"]);k!=null&&c(t,["seed"],k);const Q=u(i,["speechConfig"]);Q!=null&&c(t,["speechConfig"],Q);const F=u(i,["stopSequences"]);F!=null&&c(t,["stopSequences"],F);const W=u(i,["temperature"]);W!=null&&c(t,["temperature"],W);const ie=u(i,["thinkingConfig"]);ie!=null&&c(t,["thinkingConfig"],ie);const oe=u(i,["topK"]);oe!=null&&c(t,["topK"],oe);const K=u(i,["topP"]);if(K!=null&&c(t,["topP"],K),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function XS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function QS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function ZS(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],Ou(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],kS(ct(w)));const q=u(i,["tools"]);if(t!==void 0&&q!=null){let oe=dl(q);Array.isArray(oe)&&(oe=oe.map(K=>sE(fl(K)))),c(t,["setup","tools"],oe)}const G=u(i,["sessionResumption"]);t!==void 0&&G!=null&&c(t,["setup","sessionResumption"],aE(G));const k=u(i,["inputAudioTranscription"]);t!==void 0&&k!=null&&c(t,["setup","inputAudioTranscription"],k);const Q=u(i,["outputAudioTranscription"]);t!==void 0&&Q!=null&&c(t,["setup","outputAudioTranscription"],Q);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const W=u(i,["contextWindowCompression"]);t!==void 0&&W!=null&&c(t,["setup","contextWindowCompression"],W);const ie=u(i,["proactivity"]);if(t!==void 0&&ie!=null&&c(t,["setup","proactivity"],ie),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function $S(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],KS(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],Ou(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],ct(w));const q=u(i,["tools"]);if(t!==void 0&&q!=null){let K=dl(q);Array.isArray(K)&&(K=K.map(Y=>rE(fl(Y)))),c(t,["setup","tools"],K)}const G=u(i,["sessionResumption"]);t!==void 0&&G!=null&&c(t,["setup","sessionResumption"],G);const k=u(i,["inputAudioTranscription"]);t!==void 0&&k!=null&&c(t,["setup","inputAudioTranscription"],k);const Q=u(i,["outputAudioTranscription"]);t!==void 0&&Q!=null&&c(t,["setup","outputAudioTranscription"],Q);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const W=u(i,["contextWindowCompression"]);t!==void 0&&W!=null&&c(t,["setup","contextWindowCompression"],W);const ie=u(i,["proactivity"]);t!==void 0&&ie!=null&&c(t,["setup","proactivity"],ie);const oe=u(i,["explicitVadSignal"]);return t!==void 0&&oe!=null&&c(t,["setup","explicitVadSignal"],oe),o}function WS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Re(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],ZS(r,o)),o}function jS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Re(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],$S(r,o)),o}function eE(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function tE(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function nE(i){const t={},o=u(i,["media"]);if(o!=null){let h=Bh(o);Array.isArray(h)&&(h=h.map(v=>Va(v))),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Va(Fh(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],Va(kh(f)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function iE(i){const t={},o=u(i,["media"]);if(o!=null){let h=Bh(o);Array.isArray(h)&&(h=h.map(v=>v)),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Fh(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],kh(f));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function lE(i){const t={},o=u(i,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],uE(p));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);return h!=null&&c(t,["voiceActivityDetectionSignal"],h),t}function oE(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],FS(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],YS(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Va(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function aE(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function sE(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],XS(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],QS(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function rE(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>JS(E))),c(t,["functionDeclarations"],S)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function uE(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(w=>w)),c(t,["promptTokensDetails"],A)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(w=>w)),c(t,["cacheTokensDetails"],A)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(w=>w)),c(t,["responseTokensDetails"],A)}const S=u(i,["toolUsePromptTokensDetails"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(w=>w)),c(t,["toolUsePromptTokensDetails"],A)}const E=u(i,["trafficType"]);return E!=null&&c(t,["trafficType"],E),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cE(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function fE(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],dE(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),c(t,["safetyRatings"],E)}const S=u(i,["urlContextMetadata"]);return S!=null&&c(t,["urlContextMetadata"],S),t}function dE(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function pE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Re(i,a));const r=u(t,["contents"]);if(r!=null){let f=zt(r);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["contents"],f)}return o}function mE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function hE(i){const t={},o=u(i,["values"]);o!=null&&c(t,["values"],o);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],gE(a)),t}function gE(i){const t={},o=u(i,["truncated"]);o!=null&&c(t,["truncated"],o);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Ja(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>R_(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function yE(i){const t={},o=u(i,["controlType"]);o!=null&&c(t,["controlType"],o);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function vE(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function TE(i,t){const o={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],ct(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>lg(g))),c(t,["tools"],p)}const f=u(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],c_(f)),o}function SE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Re(i,a));const r=u(t,["contents"]);if(r!=null){let p=zt(r);Array.isArray(p)&&(p=p.map(g=>Ja(g))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&vE(f),o}function EE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Re(i,a));const r=u(t,["contents"]);if(r!=null){let p=zt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&TE(f,o),o}function _E(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function AE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function CE(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Re(i,a)),o}function RE(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Re(i,a)),o}function NE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function ME(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function xE(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&c(t,["parameters","includeSafetyAttributes"],S);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const w=u(i,["outputMimeType"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","mimeType"],w);const q=u(i,["outputCompressionQuality"]);t!==void 0&&q!=null&&c(t,["parameters","outputOptions","compressionQuality"],q);const G=u(i,["addWatermark"]);t!==void 0&&G!=null&&c(t,["parameters","addWatermark"],G);const k=u(i,["labels"]);t!==void 0&&k!=null&&c(t,["labels"],k);const Q=u(i,["editMode"]);t!==void 0&&Q!=null&&c(t,["parameters","editMode"],Q);const F=u(i,["baseSteps"]);return t!==void 0&&F!=null&&c(t,["parameters","editConfig","baseSteps"],F),o}function IE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Re(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>D_(y))),c(o,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&xE(p,o),o}function bE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Ka(f))),c(t,["generatedImages"],r)}return t}function DE(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function wE(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),o}function UE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Re(i,a));const r=u(t,["contents"]);if(r!=null){let g=qu(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(o,["requests[]","content"],g)}const f=u(t,["config"]);f!=null&&DE(f,o);const p=u(t,["model"]);return p!==void 0&&c(o,["requests[]","model"],Re(i,p)),o}function LE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Re(i,a));const r=u(t,["contents"]);if(r!=null){let p=qu(i,r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["instances[]","content"],p)}const f=u(t,["config"]);return f!=null&&wE(f,o),o}function GE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function HE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>hE(p))),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function qE(i){const t={},o=u(i,["endpoint"]);o!=null&&c(t,["name"],o);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function VE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function PE(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function OE(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function zE(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function BE(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Ja(ct(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const w=u(t,["frequencyPenalty"]);w!=null&&c(a,["frequencyPenalty"],w);const q=u(t,["seed"]);q!=null&&c(a,["seed"],q);const G=u(t,["responseMimeType"]);G!=null&&c(a,["responseMimeType"],G);const k=u(t,["responseSchema"]);k!=null&&c(a,["responseSchema"],Vu(k));const Q=u(t,["responseJsonSchema"]);if(Q!=null&&c(a,["responseJsonSchema"],Q),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(t,["safetySettings"]);if(o!==void 0&&F!=null){let ae=F;Array.isArray(ae)&&(ae=ae.map(he=>w_(he))),c(o,["safetySettings"],ae)}const W=u(t,["tools"]);if(o!==void 0&&W!=null){let ae=dl(W);Array.isArray(ae)&&(ae=ae.map(he=>P_(fl(he)))),c(o,["tools"],ae)}const ie=u(t,["toolConfig"]);if(o!==void 0&&ie!=null&&c(o,["toolConfig"],V_(ie)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const oe=u(t,["cachedContent"]);o!==void 0&&oe!=null&&c(o,["cachedContent"],Cn(i,oe));const K=u(t,["responseModalities"]);K!=null&&c(a,["responseModalities"],K);const Y=u(t,["mediaResolution"]);Y!=null&&c(a,["mediaResolution"],Y);const z=u(t,["speechConfig"]);if(z!=null&&c(a,["speechConfig"],Pu(z)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Z=u(t,["thinkingConfig"]);Z!=null&&c(a,["thinkingConfig"],Z);const te=u(t,["imageConfig"]);te!=null&&c(a,["imageConfig"],h_(te));const se=u(t,["enableEnhancedCivicAnswers"]);return se!=null&&c(a,["enableEnhancedCivicAnswers"],se),a}function kE(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],ct(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const w=u(t,["frequencyPenalty"]);w!=null&&c(a,["frequencyPenalty"],w);const q=u(t,["seed"]);q!=null&&c(a,["seed"],q);const G=u(t,["responseMimeType"]);G!=null&&c(a,["responseMimeType"],G);const k=u(t,["responseSchema"]);k!=null&&c(a,["responseSchema"],Vu(k));const Q=u(t,["responseJsonSchema"]);Q!=null&&c(a,["responseJsonSchema"],Q);const F=u(t,["routingConfig"]);F!=null&&c(a,["routingConfig"],F);const W=u(t,["modelSelectionConfig"]);W!=null&&c(a,["modelConfig"],W);const ie=u(t,["safetySettings"]);if(o!==void 0&&ie!=null){let L=ie;Array.isArray(L)&&(L=L.map(J=>J)),c(o,["safetySettings"],L)}const oe=u(t,["tools"]);if(o!==void 0&&oe!=null){let L=dl(oe);Array.isArray(L)&&(L=L.map(J=>lg(fl(J)))),c(o,["tools"],L)}const K=u(t,["toolConfig"]);o!==void 0&&K!=null&&c(o,["toolConfig"],K);const Y=u(t,["labels"]);o!==void 0&&Y!=null&&c(o,["labels"],Y);const z=u(t,["cachedContent"]);o!==void 0&&z!=null&&c(o,["cachedContent"],Cn(i,z));const Z=u(t,["responseModalities"]);Z!=null&&c(a,["responseModalities"],Z);const te=u(t,["mediaResolution"]);te!=null&&c(a,["mediaResolution"],te);const se=u(t,["speechConfig"]);se!=null&&c(a,["speechConfig"],Pu(se));const ae=u(t,["audioTimestamp"]);ae!=null&&c(a,["audioTimestamp"],ae);const he=u(t,["thinkingConfig"]);he!=null&&c(a,["thinkingConfig"],he);const Ue=u(t,["imageConfig"]);if(Ue!=null&&c(a,["imageConfig"],g_(Ue)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function vh(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Re(i,a));const r=u(t,["contents"]);if(r!=null){let p=zt(r);Array.isArray(p)&&(p=p.map(g=>Ja(g))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],BE(i,f,o)),o}function Th(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Re(i,a));const r=u(t,["contents"]);if(r!=null){let p=zt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],kE(i,f,o)),o}function Sh(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>fE(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function Eh(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>v)),c(t,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function FE(i,t){const o={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const v=u(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const S=u(i,["outputMimeType"]);t!==void 0&&S!=null&&c(t,["parameters","outputOptions","mimeType"],S);const E=u(i,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=u(i,["imageSize"]);if(t!==void 0&&A!=null&&c(t,["parameters","sampleImageSize"],A),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function YE(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&c(t,["parameters","includeSafetyAttributes"],S);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const w=u(i,["outputMimeType"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","mimeType"],w);const q=u(i,["outputCompressionQuality"]);t!==void 0&&q!=null&&c(t,["parameters","outputOptions","compressionQuality"],q);const G=u(i,["addWatermark"]);t!==void 0&&G!=null&&c(t,["parameters","addWatermark"],G);const k=u(i,["labels"]);t!==void 0&&k!=null&&c(t,["labels"],k);const Q=u(i,["imageSize"]);t!==void 0&&Q!=null&&c(t,["parameters","sampleImageSize"],Q);const F=u(i,["enhancePrompt"]);return t!==void 0&&F!=null&&c(t,["parameters","enhancePrompt"],F),o}function JE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Re(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&FE(f,o),o}function KE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Re(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&YE(f,o),o}function XE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>a_(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],ng(r)),t}function QE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>Ka(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],ig(r)),t}function ZE(i,t){const o={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const h=u(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],Xa(v));const S=u(i,["referenceImages"]);if(t!==void 0&&S!=null){let E=S;Array.isArray(E)&&(E=E.map(A=>W_(A))),c(t,["instances[0]","referenceImages"],E)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function $E(i,t){const o={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const S=u(i,["pubsubTopic"]);t!==void 0&&S!=null&&c(t,["parameters","pubsubTopic"],S);const E=u(i,["negativePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","negativePrompt"],E);const A=u(i,["enhancePrompt"]);t!==void 0&&A!=null&&c(t,["parameters","enhancePrompt"],A);const w=u(i,["generateAudio"]);t!==void 0&&w!=null&&c(t,["parameters","generateAudio"],w);const q=u(i,["lastFrame"]);t!==void 0&&q!=null&&c(t,["instances[0]","lastFrame"],Zt(q));const G=u(i,["referenceImages"]);if(t!==void 0&&G!=null){let F=G;Array.isArray(F)&&(F=F.map(W=>j_(W))),c(t,["instances[0]","referenceImages"],F)}const k=u(i,["mask"]);t!==void 0&&k!=null&&c(t,["instances[0]","mask"],$_(k));const Q=u(i,["compressionQuality"]);return t!==void 0&&Q!=null&&c(t,["parameters","compressionQuality"],Q),o}function WE(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],n_(p)),t}function jE(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],i_(p)),t}function e_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Re(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],Xa(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],og(p));const g=u(t,["source"]);g!=null&&l_(g,o);const y=u(t,["config"]);return y!=null&&ZE(y,o),o}function t_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Re(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],Zt(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],ag(p));const g=u(t,["source"]);g!=null&&o_(g,o);const y=u(t,["config"]);return y!=null&&$E(y,o),o}function n_(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>r_(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function i_(i){const t={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>u_(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function l_(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Xa(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],og(f)),o}function o_(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Zt(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],ag(f)),o}function a_(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],y_(o));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],ng(r)),t}function Ka(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],tg(o));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],ig(r));const f=u(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function s_(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["mask"],tg(o));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function r_(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],Q_(o)),t}function u_(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],Z_(o)),t}function c_(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const S=u(i,["presencePenalty"]);S!=null&&c(t,["presencePenalty"],S);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const w=u(i,["responseModalities"]);w!=null&&c(t,["responseModalities"],w);const q=u(i,["responseSchema"]);q!=null&&c(t,["responseSchema"],q);const G=u(i,["routingConfig"]);G!=null&&c(t,["routingConfig"],G);const k=u(i,["seed"]);k!=null&&c(t,["seed"],k);const Q=u(i,["speechConfig"]);Q!=null&&c(t,["speechConfig"],Q);const F=u(i,["stopSequences"]);F!=null&&c(t,["stopSequences"],F);const W=u(i,["temperature"]);W!=null&&c(t,["temperature"],W);const ie=u(i,["thinkingConfig"]);ie!=null&&c(t,["thinkingConfig"],ie);const oe=u(i,["topK"]);oe!=null&&c(t,["topK"],oe);const K=u(i,["topP"]);if(K!=null&&c(t,["topP"],K),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function f_(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Re(i,a)),o}function d_(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Re(i,a)),o}function p_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function m_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function h_(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function g_(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const f=u(i,["outputCompressionQuality"]);return f!=null&&c(t,["imageOutputOptions","compressionQuality"],f),t}function y_(i){const t={},o=u(i,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],$n(o));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function tg(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],$n(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Xa(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(i,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],$n(o));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Zt(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],$n(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function v_(i,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],Xh(i,g)),a}function T_(i,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],Xh(i,g)),a}function S_(i,t){const o={},a=u(t,["config"]);return a!=null&&v_(i,a,o),o}function E_(i,t){const o={},a=u(t,["config"]);return a!=null&&T_(i,a,o),o}function __(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=Qh(r);Array.isArray(f)&&(f=f.map(p=>Cu(p))),c(t,["models"],f)}return t}function A_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=Qh(r);Array.isArray(f)&&(f=f.map(p=>Ru(p))),c(t,["models"],f)}return t}function C_(i){const t={},o=u(i,["maskMode"]);o!=null&&c(t,["maskMode"],o);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Cu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["version"]);f!=null&&c(t,["version"],f);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],O_(p));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const h=u(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const v=u(i,["temperature"]);v!=null&&c(t,["temperature"],v);const S=u(i,["maxTemperature"]);S!=null&&c(t,["maxTemperature"],S);const E=u(i,["topP"]);E!=null&&c(t,["topP"],E);const A=u(i,["topK"]);A!=null&&c(t,["topK"],A);const w=u(i,["thinking"]);return w!=null&&c(t,["thinking"],w),t}function Ru(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["versionId"]);f!=null&&c(t,["version"],f);const p=u(i,["deployedModels"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>qE(E))),c(t,["endpoints"],S)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],z_(y));const h=u(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const v=u(i,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>E)),c(t,["checkpoints"],S)}return t}function R_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],VE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],PE(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],cE(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function N_(i){const t={},o=u(i,["productImage"]);return o!=null&&c(t,["image"],Zt(o)),t}function M_(i,t){const o={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const h=u(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const S=u(i,["outputCompressionQuality"]);t!==void 0&&S!=null&&c(t,["parameters","outputOptions","compressionQuality"],S);const E=u(i,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const A=u(i,["labels"]);return t!==void 0&&A!=null&&c(t,["labels"],A),o}function x_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Re(i,a));const r=u(t,["source"]);r!=null&&b_(r,o);const f=u(t,["config"]);return f!=null&&M_(f,o),o}function I_(i){const t={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>Ka(r))),c(t,["generatedImages"],a)}return t}function b_(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Zt(r));const f=u(i,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>N_(g))),c(t,["instances[0]","productImages"],p)}return o}function D_(i){const t={},o=u(i,["referenceImage"]);o!=null&&c(t,["referenceImage"],Zt(o));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],C_(f));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],yE(p));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function ng(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function ig(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function w_(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function U_(i){const t={},o=u(i,["image"]);return o!=null&&c(t,["image"],Zt(o)),t}function L_(i,t){const o={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function G_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Re(i,a));const r=u(t,["source"]);r!=null&&q_(r,o);const f=u(t,["config"]);return f!=null&&L_(f,o),o}function H_(i){const t={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>s_(r))),c(t,["generatedMasks"],a)}return t}function q_(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Zt(r));const f=u(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],U_(f)),o}function V_(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],OE(o));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function P_(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],p_(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],m_(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function lg(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>zE(E))),c(t,["functionDeclarations"],S)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function O_(i){const t={},o=u(i,["baseModel"]);o!=null&&c(t,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function z_(i){const t={},o=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function B_(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function k_(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function F_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","name"],Re(i,a));const r=u(t,["config"]);return r!=null&&B_(r,o),o}function Y_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Re(i,a));const r=u(t,["config"]);return r!=null&&k_(r,o),o}function J_(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const h=u(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const S=u(i,["labels"]);t!==void 0&&S!=null&&c(t,["labels"],S);const E=u(i,["numberOfImages"]);t!==void 0&&E!=null&&c(t,["parameters","sampleCount"],E);const A=u(i,["mode"]);return t!==void 0&&A!=null&&c(t,["parameters","mode"],A),o}function K_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Re(i,a));const r=u(t,["image"]);r!=null&&c(o,["instances[0]","image"],Zt(r));const f=u(t,["upscaleFactor"]);f!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],f);const p=u(t,["config"]);return p!=null&&J_(p,o),o}function X_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Ka(f))),c(t,["generatedImages"],r)}return t}function Q_(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],$n(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function Z_(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],$n(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function $_(i){const t={},o=u(i,["image"]);o!=null&&c(t,["_self"],Zt(o));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function W_(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],Xa(o));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function j_(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],Zt(o));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function og(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],$n(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function ag(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],$n(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eA(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),o}function tA(i){const t={},o=u(i,["config"]);return o!=null&&eA(o,t),t}function nA(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function iA(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&nA(a,t),t}function lA(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function oA(i,t){const o={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function aA(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],rA(p)),t}function sA(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&oA(r,t),t}function rA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function uA(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function cA(i){const t={},o=u(i,["config"]);return o!=null&&uA(o,t),t}function fA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function sg(i,t){const o={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["customMetadata"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),o}function dA(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(i,["config"]);return a!=null&&sg(a,t),t}function pA(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mA="Content-Type",hA="X-Server-Timeout",gA="User-Agent",Nu="x-goog-api-client",yA="1.34.0",vA=`google-genai-sdk/${yA}`,TA="v1beta1",SA="v1beta";class EA{constructor(t){var o,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:TA,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:SA,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(o))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,r){if(o&&o.timeout||r){const f=new AbortController,p=f.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>f.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=p}return o&&o.extraBody!==null&&_A(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await _h(r),new Eu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await _h(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Xt(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield fe(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=f.decode(v,{stream:!0});try{const w=JSON.parse(S);if("error"in w){const q=JSON.parse(JSON.stringify(w.error)),G=q.status,k=q.code,Q=`got status: ${G}. ${JSON.stringify(w)}`;if(k>=400&&k<600)throw new Ya({message:Q,status:k})}}catch(w){if(w.name==="ApiError")throw w}p+=S;let E=-1,A=0;for(;;){E=-1,A=0;for(const G of y){const k=p.indexOf(G);k!==-1&&(E===-1||k<E)&&(E=k,A=G.length)}if(E===-1)break;const w=p.substring(0,E);p=p.substring(E+A);const q=w.trim();if(q.startsWith(g)){const G=q.substring(g.length).trim();try{const k=new Response(G,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield fe(new Eu(k))}catch(k){throw new Error(`exception parsing stream chunk ${G}. ${k}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=vA+" "+this.clientOptions.userAgentExtra;return t[gA]=o,t[Nu]=o,t[mA]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(hA,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);r.sizeBytes=String(p.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),v=$("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,o==null?void 0:o.httpOptions);return f.upload(t,S,this)}async uploadFileToFileSearchStore(t,o,a){var r;const f=this.clientOptions.uploader,p=await f.stat(o),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),S={};a!=null&&sg(a,S);const E=await this.fetchUploadUrl(h,g,y,v,S,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(o,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,r,f,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function _h(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new Ya({message:r,status:o}):new Error(r)}}function _A(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,p){const g=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=a(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AA="mcp_used/unknown";let CA=!1;function rg(i){for(const t of i)if(RA(t)||typeof t=="object"&&"inputSchema"in t)return!0;return CA}function ug(i){var t;const o=(t=i[Nu])!==null&&t!==void 0?t:"";i[Nu]=(o+` ${AA}`).trimStart()}function RA(i){return i!==null&&typeof i=="object"&&i instanceof zu}function NA(i){return Xt(this,arguments,function*(o,a=100){let r,f=0;for(;f<a;){const p=yield fe(o.listTools({cursor:r}));for(const g of p.tools)yield yield fe(g),f++;if(!p.nextCursor)break;r=p.nextCursor}})}class zu{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new zu(t,o)}async initialize(){var t,o,a,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,Qt(NA(v))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const S=r;p.push(S);const E=S.name;if(f[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);f[E]=v}}catch(S){o={error:S}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),lT(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,f);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function MA(i,t,o){const a=new Zv;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),t(a)}class xA{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=DA(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(F=>{h=F}),S=t.callbacks,E=function(){h({})},A=this.apiClient,w={onopen:E,onmessage:F=>{MA(A,S.onmessage,F)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(F){},onclose:(a=S==null?void 0:S.onclose)!==null&&a!==void 0?a:function(F){}},q=this.webSocketFactory.create(y,bA(p),w);q.connect(),await v;const Q={setup:{model:Re(this.apiClient,t.model)}};return q.send(JSON.stringify(Q)),new IA(q,this.apiClient)}}class IA{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=tE(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=eE(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(sl.PLAY)}pause(){this.sendPlaybackControl(sl.PAUSE)}stop(){this.sendPlaybackControl(sl.STOP)}resetContext(){this.sendPlaybackControl(sl.RESET_CONTEXT)}close(){this.conn.close()}}function bA(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function DA(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function UA(i,t,o){const a=new Qv;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const f=JSON.parse(r);if(i.isVertexAI()){const p=lE(f);Object.assign(a,p)}else Object.assign(a,f);t(a)}class LA{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new xA(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,r,f,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&rg(t.config.tools)&&ug(S);const E=VA(S);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v);else{const z=this.apiClient.getApiKey();let Z="BidiGenerateContent",te="key";z!=null&&z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Z="BidiGenerateContentConstrained",te="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${Z}?${te}=${z}`}let A=()=>{};const w=new Promise(z=>{A=z}),q=t.callbacks,G=function(){var z;(z=q==null?void 0:q.onopen)===null||z===void 0||z.call(q),A({})},k=this.apiClient,Q={onopen:G,onmessage:z=>{UA(k,q.onmessage,z)},onerror:(o=q==null?void 0:q.onerror)!==null&&o!==void 0?o:function(z){},onclose:(a=q==null?void 0:q.onclose)!==null&&a!==void 0?a:function(z){}},F=this.webSocketFactory.create(v,qA(E),Q);F.connect(),await w;let W=Re(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&W.startsWith("publishers/")){const z=this.apiClient.getProject(),Z=this.apiClient.getLocation();W=`projects/${z}/locations/${Z}/`+W}let ie={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Pa.AUDIO]}:t.config.responseModalities=[Pa.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const oe=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],K=[];for(const z of oe)if(this.isCallableTool(z)){const Z=z;K.push(await Z.tool())}else K.push(z);K.length>0&&(t.config.tools=K);const Y={model:W,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?ie=jS(this.apiClient,Y):ie=WS(this.apiClient,Y),delete ie.config,F.send(JSON.stringify(ie)),new HA(F,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const GA={turnComplete:!0};class HA{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=zt(o.turns),t.isVertexAI()||(a=a.map(r=>Ja(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(wA)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},GA),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:iE(t)}:o={realtimeInput:nE(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function qA(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function VA(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ah=10;function Ch(i){var t,o,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(cl(p)){r=!0;break}if(!r)return!0;const f=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function cl(i){return"callTool"in i&&typeof i.callTool=="function"}function PA(i){var t,o,a;return(a=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>cl(r)))!==null&&a!==void 0?a:!1}function Rh(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(cl(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&o.push(r)}),o}function Nh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OA extends An{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,r,f,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!PA(o)||Ch(o.config))return await this.generateContentInternal(y);const h=Rh(o);if(h.length>0){const q=h.map(G=>`tools[${G}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${q}.`)}let v,S;const E=zt(y.contents),A=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:Ah;let w=0;for(;w<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const q=v.candidates[0].content,G=[];for(const k of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(cl(k)){const F=await k.callTool(v.functionCalls);G.push(...F)}w++,S={role:"user",parts:G},y.contents=zt(y.contents),y.contents.push(q),y.contents.push(S),Nh(y.config)&&(E.push(q),E.push(S))}return Nh(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async o=>{var a,r,f,p,g;if(this.maybeMoveToResponseJsonSchem(o),Ch(o.config)){const S=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(S)}const y=Rh(o);if(y.length>0){const S=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(f=(r=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(g=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let f;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let g;return f?g={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new vi(_n.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,f,p,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(f=o.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,r;const f=(o=t.config)===null||o===void 0?void 0:o.tools;if(!f)return t;const p=await Promise.all(f.map(async y=>cl(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&rg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),ug(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var o,a,r;const f=new Map;for(const p of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(cl(p)){const g=p,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,g)}}return f}async processAfcStream(t){var o,a,r;const f=(r=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Ah;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,S){return Xt(this,arguments,function*(){for(var E,A,w,q,G,k;g<f;){p&&(g++,p=!1);const ie=yield fe(h.processParamsMaybeAddMcpUsage(S)),oe=yield fe(h.generateContentStreamInternal(ie)),K=[],Y=[];try{for(var Q=!0,F=(A=void 0,Qt(oe)),W;W=yield fe(F.next()),E=W.done,!E;Q=!0){q=W.value,Q=!1;const z=q;if(yield yield fe(z),z.candidates&&(!((G=z.candidates[0])===null||G===void 0)&&G.content)){Y.push(z.candidates[0].content);for(const Z of(k=z.candidates[0].content.parts)!==null&&k!==void 0?k:[])if(g<f&&Z.functionCall){if(!Z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(Z.functionCall.name)){const te=yield fe(v.get(Z.functionCall.name).callTool([Z.functionCall]));K.push(...te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${Z.functionCall.name}`)}}}}catch(z){A={error:z}}finally{try{!Q&&!E&&(w=F.return)&&(yield fe(w.call(F)))}finally{if(A)throw A.error}}if(K.length>0){p=!0;const z=new uo;z.candidates=[{content:{role:"user",parts:K}}],yield yield fe(z);const Z=[];Z.push(...Y),Z.push({role:"user",parts:K});const te=zt(S.contents).concat(Z);S.contents=te}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Th(this.apiClient,t);return g=$("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=Eh(v),E=new uo;return Object.assign(E,S),E})}else{const h=vh(this.apiClient,t);return g=$("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=Sh(v),E=new uo;return Object.assign(E,S),E})}}async generateContentStreamInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Th(this.apiClient,t);return g=$("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(S){return Xt(this,arguments,function*(){var E,A,w,q;try{for(var G=!0,k=Qt(S),Q;Q=yield fe(k.next()),E=Q.done,!E;G=!0){q=Q.value,G=!1;const F=q,W=Eh(yield fe(F.json()));W.sdkHttpResponse={headers:F.headers};const ie=new uo;Object.assign(ie,W),yield yield fe(ie)}}catch(F){A={error:F}}finally{try{!G&&!E&&(w=k.return)&&(yield fe(w.call(k)))}finally{if(A)throw A.error}}})})}else{const h=vh(this.apiClient,t);return g=$("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(S){return Xt(this,arguments,function*(){var E,A,w,q;try{for(var G=!0,k=Qt(S),Q;Q=yield fe(k.next()),E=Q.done,!E;G=!0){q=Q.value,G=!1;const F=q,W=Sh(yield fe(F.json()));W.sdkHttpResponse={headers:F.headers};const ie=new uo;Object.assign(ie,W),yield yield fe(ie)}}catch(F){A={error:F}}finally{try{!G&&!E&&(w=k.return)&&(yield fe(w.call(k)))}finally{if(A)throw A.error}}})})}}async embedContent(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=LE(this.apiClient,t);return g=$("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=HE(v),E=new th;return Object.assign(E,S),E})}else{const h=UE(this.apiClient,t);return g=$("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=GE(v),E=new th;return Object.assign(E,S),E})}}async generateImagesInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=KE(this.apiClient,t);return g=$("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=QE(v),E=new nh;return Object.assign(E,S),E})}else{const h=JE(this.apiClient,t);return g=$("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=XE(v),E=new nh;return Object.assign(E,S),E})}}async editImageInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=IE(this.apiClient,t);return f=$("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=bE(y),v=new Vv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=K_(this.apiClient,t);return f=$("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=X_(y),v=new Pv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=x_(this.apiClient,t);return f=$("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=I_(y),v=new Ov;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=G_(this.apiClient,t);return f=$("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=H_(y),v=new zv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=d_(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Ru(v))}else{const h=f_(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Cu(v))}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=E_(this.apiClient,t);return g=$("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=A_(v),E=new ih;return Object.assign(E,S),E})}else{const h=S_(this.apiClient,t);return g=$("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=__(v),E=new ih;return Object.assign(E,S),E})}}async update(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Y_(this.apiClient,t);return g=$("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Ru(v))}else{const h=F_(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Cu(v))}}async delete(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=RE(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=ME(v),E=new lh;return Object.assign(E,S),E})}else{const h=CE(this.apiClient,t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=NE(v),E=new lh;return Object.assign(E,S),E})}}async countTokens(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=EE(this.apiClient,t);return g=$("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=AE(v),E=new oh;return Object.assign(E,S),E})}else{const h=SE(this.apiClient,t);return g=$("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=_E(v),E=new oh;return Object.assign(E,S),E})}}async computeTokens(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=pE(this.apiClient,t);return f=$("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=mE(y),v=new Bv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=t_(this.apiClient,t);return g=$("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const S=jE(v),E=new Oa;return Object.assign(E,S),E})}else{const h=e_(this.apiClient,t);return g=$("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const S=WE(v),E=new Oa;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zA extends An{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=wv(t);return g=$("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const h=Dv(t);return g=$("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=Cv(t);return f=$("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BA(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function kA(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>WA(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function FA(i,t,o){const a={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);o!==void 0&&f!=null&&c(o,["newSessionExpireTime"],f);const p=u(t,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],$A(i,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),a}function YA(i,t){const o={},a=u(t,["config"]);return a!=null&&c(o,["config"],FA(i,a,o)),o}function JA(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function KA(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function XA(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function QA(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function ZA(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],Ou(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],kA(ct(w)));const q=u(i,["tools"]);if(t!==void 0&&q!=null){let oe=dl(q);Array.isArray(oe)&&(oe=oe.map(K=>eC(fl(K)))),c(t,["setup","tools"],oe)}const G=u(i,["sessionResumption"]);t!==void 0&&G!=null&&c(t,["setup","sessionResumption"],jA(G));const k=u(i,["inputAudioTranscription"]);t!==void 0&&k!=null&&c(t,["setup","inputAudioTranscription"],k);const Q=u(i,["outputAudioTranscription"]);t!==void 0&&Q!=null&&c(t,["setup","outputAudioTranscription"],Q);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const W=u(i,["contextWindowCompression"]);t!==void 0&&W!=null&&c(t,["setup","contextWindowCompression"],W);const ie=u(i,["proactivity"]);if(t!==void 0&&ie!=null&&c(t,["setup","proactivity"],ie),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function $A(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Re(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],ZA(r,o)),o}function WA(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],JA(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],KA(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],BA(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function jA(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function eC(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],XA(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],QA(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tC(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${o}.${f}`);t.push(...r)}else t.push(o)}return t.join(",")}function nC(i,t){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,o=f):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const f=tC(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class iC extends An{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=YA(this.apiClient,t);f=$("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=nC(g,t.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lC(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function oC(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&lC(a,t),t}function aC(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function sC(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function rC(i){const t={},o=u(i,["parent"]);o!=null&&c(t,["_url","parent"],o);const a=u(i,["config"]);return a!=null&&sC(a,t),t}function uC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cC extends An{constructor(t){super(),this.apiClient=t,this.list=async o=>new vi(_n.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=aC(t);return f=$("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=oC(t);r=$("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=rC(t);return f=$("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=uC(y),v=new kv;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fC extends An{constructor(t,o=new cC(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new vi(_n.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=tA(t);return f=$("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=lA(t);return f=$("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=iA(t);r=$("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=cA(t);return f=$("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=fA(y),v=new Fv;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=dA(t);return f=$("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=pA(y),v=new Yv;return Object.assign(v,h),v})}}async importFile(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=sA(t);return f=$("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=aA(y),v=new Gu;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let cg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return cg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^o()&15>>+a/4).toString(16))};const dC=()=>cg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const xu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bt extends Error{}class pt extends Bt{constructor(t,o,a,r){super(`${pt.makeMessage(t,o,a)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,a){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,a,r){if(!t||!r)return new Qa({message:a,cause:xu(o)});const f=o;return t===400?new dg(t,f,a,r):t===401?new pg(t,f,a,r):t===403?new mg(t,f,a,r):t===404?new hg(t,f,a,r):t===409?new gg(t,f,a,r):t===422?new yg(t,f,a,r):t===429?new vg(t,f,a,r):t>=500?new Tg(t,f,a,r):new pt(t,f,a,r)}}class Iu extends pt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Qa extends pt{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class fg extends Qa{constructor({message:t}={}){super({message:t??"Request timed out."})}}class dg extends pt{}class pg extends pt{}class mg extends pt{}class hg extends pt{}class gg extends pt{}class yg extends pt{}class vg extends pt{}class Tg extends pt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pC=/^[a-z][a-z0-9+.-]*:/i,mC=i=>pC.test(i);let bu=i=>(bu=Array.isArray,bu(i));const hC=bu;let gC=hC;const Mh=gC;function yC(i){if(!i)return!0;for(const t in i)return!1;return!0}function vC(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const TC=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Bt(`${i} must be an integer`);if(t<0)throw new Bt(`${i} must be a positive integer`);return t},SC=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EC=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const al="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _C(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const AC=()=>{var i,t,o,a,r;const f=_C();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":al,"X-Stainless-OS":Ih(Deno.build.os),"X-Stainless-Arch":xh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":al,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":al,"X-Stainless-OS":Ih((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":xh((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=CC();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":al,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":al,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function CC(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const a=o.exec(navigator.userAgent);if(a){const r=a[1]||0,f=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${f}.${p}`}}}return null}const xh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Ih=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Da;const RC=()=>Da??(Da=AC());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Sg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function MC(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Sg({start(){},async pull(o){const{done:a,value:r}=await t.next();a?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function Eg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function xC(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IC=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _g=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function yu(i,t,o){return _g(),new File(i,t??"unknown_file",o)}function bC(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const DC=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ag=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",wC=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Ag(i),UC=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function LC(i,t,o){if(_g(),i=await i,wC(i))return i instanceof File?i:yu([await i.arrayBuffer()],i.name);if(UC(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),yu(await Du(r),t,o)}const a=await Du(i);if(t||(t=bC(i)),!(o!=null&&o.type)){const r=a.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return yu(a,t,o)}async function Du(i){var t,o,a,r,f;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Ag(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(DC(i))try{for(var g=!0,y=Qt(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const v=r;p.push(...await Du(v))}}catch(v){o={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}else{const v=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${GC(i)}`)}return p}function GC(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cg{constructor(t){this._client=t}}Cg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const bh=Object.freeze(Object.create(null)),HC=(i=Rg)=>(function(o,...a){if(o.length===1)return o[0];let r=!1;const f=[],p=o.reduce((v,S,E)=>{var A,w,q;/[?#]/.test(S)&&(r=!0);const G=a[E];let k=(r?encodeURIComponent:i)(""+G);return E!==a.length&&(G==null||typeof G=="object"&&G.toString===((q=Object.getPrototypeOf((w=Object.getPrototypeOf((A=G.hasOwnProperty)!==null&&A!==void 0?A:bh))!==null&&w!==void 0?w:bh))===null||q===void 0?void 0:q.toString))&&(k=G+"",f.push({start:v.length+S.length,length:k.length,error:`Value of type ${Object.prototype.toString.call(G).slice(8,-1)} is not a valid path parameter`})),v+S+(E===a.length?"":k)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)f.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(f.sort((v,S)=>v.start-S.start),f.length>0){let v=0;const S=f.reduce((E,A)=>{const w=" ".repeat(A.start-v),q="^".repeat(A.length);return v=A.start+A.length,E+w+q},"");throw new Bt(`Path parameters result in path with invalid segments:
${f.map(E=>E.error).join(`
`)}
${p}
${S}`)}return p}),wa=HC(Rg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ng extends Cg{create(t,o){var a;const{api_version:r=this._client.apiVersion}=t,f=Ba(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new Bt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new Bt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(wa`/${r}/interactions`,Object.assign(Object.assign({body:f},o),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(wa`/${r}/interactions/${t}`,a)}cancel(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(wa`/${r}/interactions/${t}/cancel`,a)}get(t,o={},a){var r;const f=o??{},{api_version:p=this._client.apiVersion}=f,g=Ba(f,["api_version"]);return this._client.get(wa`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}Ng._key=Object.freeze(["interactions"]);class Mg extends Ng{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qC(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let a=0;for(const r of i)o.set(r,a),a+=r.length;return o}let Ua;function Bu(i){let t;return(Ua??(t=new globalThis.TextEncoder,Ua=t.encode.bind(t)))(i)}let La;function Dh(i){let t;return(La??(t=new globalThis.TextDecoder,La=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Za{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Bu(t):t;this.buffer=qC([this.buffer,o]);const a=[];let r;for(;(r=VC(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Dh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=Dh(this.buffer.subarray(0,f));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Za.NEWLINE_CHARS=new Set([`
`,"\r"]);Za.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function VC(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function PC(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ka={off:0,error:200,warn:300,info:400,debug:500},wh=(i,t,o)=>{if(i){if(vC(ka,i))return i;dt(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(ka))}`)}};function fo(){}function Ga(i,t,o){return!t||ka[i]>ka[o]?fo:t[i].bind(t)}const OC={error:fo,warn:fo,info:fo,debug:fo};let Uh=new WeakMap;function dt(i){var t;const o=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return OC;const r=Uh.get(o);if(r&&r[0]===a)return r[1];const f={error:Ga("error",o,a),warn:Ga("warn",o,a),info:Ga("info",o,a),debug:Ga("debug",o,a)};return Uh.set(o,[a,f]),f}const gi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rl{constructor(t,o,a){this.iterator=t,this.controller=o,this.client=a}static fromSSEResponse(t,o,a){let r=!1;const f=a?dt(a):console;function p(){return Xt(this,arguments,function*(){var y,h,v,S;if(r)throw new Bt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,w=Qt(zC(t,o)),q;q=yield fe(w.next()),y=q.done,!y;A=!0){S=q.value,A=!1;const G=S;if(!E)if(G.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield fe(JSON.parse(G.data))}catch(k){throw f.error("Could not parse message into JSON:",G.data),f.error("From chunk:",G.raw),k}}}catch(G){h={error:G}}finally{try{!A&&!y&&(v=w.return)&&(yield fe(v.call(w)))}finally{if(h)throw h.error}}E=!0}catch(G){if(Mu(G))return yield fe(void 0);throw G}finally{E||o.abort()}})}return new rl(p,o,a)}static fromReadableStream(t,o,a){let r=!1;function f(){return Xt(this,arguments,function*(){var y,h,v,S;const E=new Za,A=Eg(t);try{for(var w=!0,q=Qt(A),G;G=yield fe(q.next()),y=G.done,!y;w=!0){S=G.value,w=!1;const k=S;for(const Q of E.decode(k))yield yield fe(Q)}}catch(k){h={error:k}}finally{try{!w&&!y&&(v=q.return)&&(yield fe(v.call(q)))}finally{if(h)throw h.error}}for(const k of E.flush())yield yield fe(k)})}function p(){return Xt(this,arguments,function*(){var y,h,v,S;if(r)throw new Bt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,w=Qt(f()),q;q=yield fe(w.next()),y=q.done,!y;A=!0){S=q.value,A=!1;const G=S;E||G&&(yield yield fe(JSON.parse(G)))}}catch(G){h={error:G}}finally{try{!A&&!y&&(v=w.return)&&(yield fe(v.call(w)))}finally{if(h)throw h.error}}E=!0}catch(G){if(Mu(G))return yield fe(void 0);throw G}finally{E||o.abort()}})}return new rl(p,o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],a=this.iterator(),r=f=>({next:()=>{if(f.length===0){const p=a.next();t.push(p),o.push(p)}return f.shift()}});return[new rl(()=>r(t),this.controller,this.client),new rl(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return Sg({async start(){o=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:f}=await o.next();if(f)return a.close();const p=Bu(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=o.return)===null||a===void 0?void 0:a.call(o))}})}}function zC(i,t){return Xt(this,arguments,function*(){var a,r,f,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Bt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Bt("Attempted to iterate over a response with no body");const g=new kC,y=new Za,h=Eg(i.body);try{for(var v=!0,S=Qt(BC(h)),E;E=yield fe(S.next()),a=E.done,!a;v=!0){p=E.value,v=!1;const A=p;for(const w of y.decode(A)){const q=g.decode(w);q&&(yield yield fe(q))}}}catch(A){r={error:A}}finally{try{!v&&!a&&(f=S.return)&&(yield fe(f.call(S)))}finally{if(r)throw r.error}}for(const A of y.flush()){const w=g.decode(A);w&&(yield yield fe(w))}})}function BC(i){return Xt(this,arguments,function*(){var o,a,r,f;let p=new Uint8Array;try{for(var g=!0,y=Qt(i),h;h=yield fe(y.next()),o=h.done,!o;g=!0){f=h.value,g=!1;const v=f;if(v==null)continue;const S=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Bu(v):v;let E=new Uint8Array(p.length+S.length);E.set(p),E.set(S,p.length),p=E;let A;for(;(A=PC(p))!==-1;)yield yield fe(p.slice(0,A)),p=p.slice(A)}}catch(v){a={error:v}}finally{try{!g&&!o&&(r=y.return)&&(yield fe(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield fe(p))})}class kC{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,a,r]=FC(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function FC(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function YC(i,t){const{response:o,requestLogID:a,retryOfRequestLogID:r,startTime:f}=t,p=await(async()=>{var g;if(t.options.stream)return dt(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):rl.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await o.json():await o.text()})();return dt(i).debug(`[${a}] response parsed`,gi({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-f})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ku extends Promise{constructor(t,o,a=YC){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new ku(this.client,this.responsePromise,async(o,a)=>t(await this.parseResponse(o,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xg=Symbol("brand.privateNullableHeaders");function*JC(i){if(!i)return;if(xg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const f of r)yield[f,null];return}let t=!1,o;i instanceof Headers?o=i.entries():Mh(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let a of o){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Mh(a[1])?a[1]:[a[1]];let p=!1;for(const g of f)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const co=i=>{const t=new Headers,o=new Set;for(const a of i){const r=new Set;for(const[f,p]of JC(a)){const g=f.toLowerCase();r.has(g)||(t.delete(f),r.add(g)),p===null?(t.delete(f),o.add(g)):(t.append(f,p),o.delete(g))}}return{[xg]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vu=i=>{var t,o,a,r,f,p;if(typeof globalThis.process<"u")return(a=(o=(t=vv)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ig;class $a{constructor(t){var o,a,r,f,p,g,y,{baseURL:h=vu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=vu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:S="v1beta"}=t,E=Ba(t,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:v,apiVersion:S},E),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(a=A.timeout)!==null&&a!==void 0?a:$a.DEFAULT_TIMEOUT,this.logger=(r=A.logger)!==null&&r!==void 0?r:console;const w="warn";this.logLevel=w,this.logLevel=(p=(f=wh(A.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:wh(vu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:w,this.fetchOptions=A.fetchOptions,this.maxRetries=(g=A.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=A.fetch)!==null&&y!==void 0?y:NC(),this.encoder=IC,this._options=A,this.apiKey=v,this.apiVersion=S,this.clientAdapter=A.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=co([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return co([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return co([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new Bt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${al}`}defaultIdempotencyKey(){return`stainless-node-retry-${dC()}`}makeStatusError(t,o,a,r){return pt.generate(t,o,a,r)}buildURL(t,o,a){const r=!this.baseURLOverridden()&&a||this.baseURL,f=mC(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return yC(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(f.search=this.stringifyQuery(o)),f.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:a}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new ku(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,a){var r,f,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:h,url:v,timeout:S}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(h,{url:v,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=a===void 0?"":`, retryOf: ${a}`,w=Date.now();if(dt(this).debug(`[${E}] sending request`,gi({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:h.headers})),!((f=g.signal)===null||f===void 0)&&f.aborted)throw new Iu;const q=new AbortController,G=await this.fetchWithTimeout(v,h,S,q).catch(xu),k=Date.now();if(G instanceof globalThis.Error){const F=`retrying, ${o} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Iu;const W=Mu(G)||/timed? ?out/i.test(String(G)+("cause"in G?String(G.cause):""));if(o)return dt(this).info(`[${E}] connection ${W?"timed out":"failed"} - ${F}`),dt(this).debug(`[${E}] connection ${W?"timed out":"failed"} (${F})`,gi({retryOfRequestLogID:a,url:v,durationMs:k-w,message:G.message})),this.retryRequest(g,o,a??E);throw dt(this).info(`[${E}] connection ${W?"timed out":"failed"} - error; no more retries left`),dt(this).debug(`[${E}] connection ${W?"timed out":"failed"} (error; no more retries left)`,gi({retryOfRequestLogID:a,url:v,durationMs:k-w,message:G.message})),W?new fg:new Qa({cause:G})}const Q=`[${E}${A}] ${h.method} ${v} ${G.ok?"succeeded":"failed"} with status ${G.status} in ${k-w}ms`;if(!G.ok){const F=await this.shouldRetry(G);if(o&&F){const z=`retrying, ${o} attempts remaining`;return await xC(G.body),dt(this).info(`${Q} - ${z}`),dt(this).debug(`[${E}] response error (${z})`,gi({retryOfRequestLogID:a,url:G.url,status:G.status,headers:G.headers,durationMs:k-w})),this.retryRequest(g,o,a??E,G.headers)}const W=F?"error; no more retries left":"error; not retryable";dt(this).info(`${Q} - ${W}`);const ie=await G.text().catch(z=>xu(z).message),oe=SC(ie),K=oe?void 0:ie;throw dt(this).debug(`[${E}] response error (${W})`,gi({retryOfRequestLogID:a,url:G.url,status:G.status,headers:G.headers,message:K,durationMs:Date.now()-w})),this.makeStatusError(G.status,oe,K,G.headers)}return dt(this).info(Q),dt(this).debug(`[${E}] response start`,gi({retryOfRequestLogID:a,url:G.url,status:G.status,headers:G.headers,durationMs:k-w})),{response:G,options:g,controller:q,requestLogID:E,retryOfRequestLogID:a,startTime:w}}async fetchWithTimeout(t,o,a,r){const f=o||{},{signal:p,method:g}=f,y=Ba(f,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,S=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(S.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,S)}finally{clearTimeout(h)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,a,r){var f;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(p=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const h=parseFloat(y);Number.isNaN(h)?p=Date.parse(y)-Date.now():p=h*1e3}if(!(p&&0<=p&&p<60*1e3)){const h=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,h)}return await EC(p),this.makeRequest(t,o-1,a)}calculateDefaultRetryTimeoutMillis(t,o){const f=o-t,p=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:o=0}={}){var a,r,f;const p=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:v}=p,S=this.buildURL(y,h,v);"timeout"in p&&TC("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:A}=this.buildBody({options:p}),w=await this.buildHeaders({options:t,method:g,bodyHeaders:E,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:w},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=p.fetchOptions)!==null&&f!==void 0?f:{}),url:S,timeout:p.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:a,retryCount:r}){let f={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let g=co([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),RC()),this._options.defaultHeaders,a,t.headers,p]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=co([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:MC(t)}:this.encoder({body:t,headers:a})}}$a.DEFAULT_TIMEOUT=6e4;class nt extends $a{constructor(){super(...arguments),this.interactions=new Mg(this)}}Ig=nt;nt.GeminiNextGenAPIClient=Ig;nt.GeminiNextGenAPIClientError=Bt;nt.APIError=pt;nt.APIConnectionError=Qa;nt.APIConnectionTimeoutError=fg;nt.APIUserAbortError=Iu;nt.NotFoundError=hg;nt.ConflictError=gg;nt.RateLimitError=vg;nt.BadRequestError=dg;nt.AuthenticationError=pg;nt.InternalServerError=Tg;nt.PermissionDeniedError=mg;nt.UnprocessableEntityError=yg;nt.toFile=LC;nt.Interactions=Mg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KC(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function XC(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function QC(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function ZC(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function $C(i,t,o){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function WC(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec"],Lh(A))}else if(r==="PREFERENCE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec"],Lh(A))}const f=u(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(g==="PREFERENCE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(y==="PREFERENCE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(h==="PREFERENCE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=u(i,["labels"]);t!==void 0&&S!=null&&c(t,["labels"],S);const E=u(i,["beta"]);return t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),a}function jC(i,t){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&cR(f);const p=u(i,["config"]);return p!=null&&$C(p,o),o}function eR(i,t){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&fR(f,o,t);const p=u(i,["config"]);return p!=null&&WC(p,o,t),o}function tR(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function nR(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function iR(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function lR(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function oR(i,t){const o={},a=u(i,["config"]);return a!=null&&iR(a,o),o}function aR(i,t){const o={},a=u(i,["config"]);return a!=null&&lR(a,o),o}function sR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>bg(g))),c(o,["tuningJobs"],p)}return o}function rR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>wu(g))),c(o,["tuningJobs"],p)}return o}function uR(i,t){const o={},a=u(i,["name"]);a!=null&&c(o,["model"],a);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function cR(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(o,["examples","examples"],r)}return o}function fR(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=u(o,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function bg(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],Jh(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(i,["description"]);v!=null&&c(o,["description"],v);const S=u(i,["baseModel"]);S!=null&&c(o,["baseModel"],S);const E=u(i,["_self"]);return E!=null&&c(o,["tunedModel"],uR(E)),o}function wu(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],Jh(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(i,["error"]);v!=null&&c(o,["error"],v);const S=u(i,["description"]);S!=null&&c(o,["description"],S);const E=u(i,["baseModel"]);E!=null&&c(o,["baseModel"],E);const A=u(i,["tunedModel"]);A!=null&&c(o,["tunedModel"],A);const w=u(i,["preTunedModel"]);w!=null&&c(o,["preTunedModel"],w);const q=u(i,["supervisedTuningSpec"]);q!=null&&c(o,["supervisedTuningSpec"],q);const G=u(i,["preferenceOptimizationSpec"]);G!=null&&c(o,["preferenceOptimizationSpec"],G);const k=u(i,["tuningDataStats"]);k!=null&&c(o,["tuningDataStats"],k);const Q=u(i,["encryptionSpec"]);Q!=null&&c(o,["encryptionSpec"],Q);const F=u(i,["partnerModelTuningSpec"]);F!=null&&c(o,["partnerModelTuningSpec"],F);const W=u(i,["customBaseModel"]);W!=null&&c(o,["customBaseModel"],W);const ie=u(i,["experiment"]);ie!=null&&c(o,["experiment"],ie);const oe=u(i,["labels"]);oe!=null&&c(o,["labels"],oe);const K=u(i,["outputUri"]);K!=null&&c(o,["outputUri"],K);const Y=u(i,["pipelineJob"]);Y!=null&&c(o,["pipelineJob"],Y);const z=u(i,["serviceAccount"]);z!=null&&c(o,["serviceAccount"],z);const Z=u(i,["tunedModelDisplayName"]);Z!=null&&c(o,["tunedModelDisplayName"],Z);const te=u(i,["veoTuningSpec"]);return te!=null&&c(o,["veoTuningSpec"],te),o}function dR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(i,["done"]);p!=null&&c(o,["done"],p);const g=u(i,["error"]);return g!=null&&c(o,["error"],g),o}function Lh(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&c(o,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pR extends An{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new vi(_n.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:Su.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=nR(t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>wu(v))}else{const h=tR(t);return g=$("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>bg(v))}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=aR(t);return g=$("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=rR(v),E=new ah;return Object.assign(E,S),E})}else{const h=oR(t);return g=$("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=sR(v),E=new ah;return Object.assign(E,S),E})}}async cancel(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=XC(t);return g=$("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=ZC(v),E=new sh;return Object.assign(E,S),E})}else{const h=KC(t);return g=$("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=QC(v),E=new sh;return Object.assign(E,S),E})}}async tuneInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=eR(t,t);return f=$("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>wu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=jC(t);return f=$("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>dR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mR{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const hR=1024*1024*8,gR=3,yR=1e3,vR=2,Fa="x-goog-upload-status";async function TR(i,t,o){var a;const r=await Dg(i,t,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Fa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function SR(i,t,o){var a;const r=await Dg(i,t,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Fa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Oh(f),g=new Hu;return Object.assign(g,p),g}async function Dg(i,t,o){var a,r;let f=0,p=0,g=new Eu(new Response),y="upload";for(f=i.size;p<f;){const h=Math.min(hR,f-p),v=i.slice(p,p+h);p+h>=f&&(y+=", finalize");let S=0,E=yR;for(;S<gR&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Fa]));)S++,await _R(E),E=E*vR;if(p+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Fa])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function ER(i){return{size:i.size,type:i.type}}function _R(i){return new Promise(t=>setTimeout(t,i))}class AR{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await TR(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await SR(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await ER(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CR{create(t,o,a){return new RR(t,o,a)}}class RR{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gh="x-goog-api-key";class NR{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(Gh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Gh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MR="gl-node/";class xR{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new nt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=_v(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new NR(this.apiKey);this.apiClient=new EA({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:MR+"web",uploader:new AR,downloader:new mR}),this.models=new OA(this.apiClient),this.live=new LA(this.apiClient,r,new CR),this.batches=new $T(this.apiClient),this.chats=new wS(this.models,this.apiClient),this.caches=new IS(this.apiClient),this.files=new BS(this.apiClient),this.operations=new zA(this.apiClient),this.authTokens=new iC(this.apiClient),this.tunings=new pR(this.apiClient),this.fileSearchStores=new fC(this.apiClient)}}const IR=[{pop:50,reward:5e3,label:" "},{pop:300,reward:15e3,label:"  "},{pop:1e3,reward:4e4,label:"  "},{pop:3e3,reward:2e5,label:"  "}],Hh=[{id:"boom",name:" ",description:"  !   50% .",duration:15,effect:{revenueMultiplier:1.5}},{id:"festival",name:" ",description:"   !   .",duration:7,effect:{happinessBonus:30}},{id:"storm",name:" ",description:"   .  .",duration:5,effect:{revenueMultiplier:.6}},{id:"discovery",name:"  ",description:"   .   .",duration:10,effect:{revenueMultiplier:1.8}}],bR=()=>{const[i,t]=tt.useState(()=>{const Y=[];for(let z=0;z<tm;z++){const Z=[];for(let te=0;te<tm;te++){let se=Ie.GRASS;(te<5||z>10)&&(se=Ie.WATER),te>12&&z<3&&(se=Ie.MOUNTAIN),Z.push({id:`${te}-${z}`,x:te,y:z,terrain:se})}Y.push(Z)}return{tiles:Y,resources:{...cv,taxRate:10,monthlyIncome:0,monthlyExpenses:0},day:1,month:1,year:2024,level:1,selectedBuildingType:null,selectedTile:null,milestonesReached:[],missions:[{id:"m1",description:" :  15",target:15,current:0,reward:2e3,isCompleted:!1,category:"Infrastructure"},{id:"m2",description:" :   5",target:5,current:0,reward:5e3,isCompleted:!1,category:"Maritime"},{id:"m3",description:" :  $50,000",target:5e4,current:15e3,reward:1e4,isCompleted:!1,category:"Economy"}],activeEvent:null}}),[o,a]=tt.useState({x:0,y:0,zoom:.8}),[r,f]=tt.useState(!1),[p,g]=tt.useState(!1),y=tt.useRef({x:0,y:0}),h=tt.useRef({x:0,y:0}),[v,S]=tt.useState("   .      ."),[E,A]=tt.useState(null),[w,q]=tt.useState(null),G=tt.useRef(0),k=tt.useCallback(Y=>Y.map(z=>z.map(Z=>{if(!Z.building)return Z;if(Z.building.type===U.ROAD||Z.building.type===U.POWER_PLANT||Z.building.type===U.WATER_TOWER||Z.building.type===U.OFFSHORE_RIG)return{...Z,building:{...Z.building,isConnected:!0}};const se=[{dx:0,dy:1},{dx:0,dy:-1},{dx:1,dy:0},{dx:-1,dy:0}].some(ae=>{var Ue,L;const he=(Ue=Y[Z.y+ae.dy])==null?void 0:Ue[Z.x+ae.dx];return((L=he==null?void 0:he.building)==null?void 0:L.type)===U.ROAD});return{...Z,building:{...Z.building,isConnected:se}}})),[]),Q=(Y,z)=>{if(!Y.building)return 1;const Z=yi[Y.building.type];if(!(Z!=null&&Z.synergy))return 1;const te=[{dx:0,dy:1},{dx:0,dy:-1},{dx:1,dy:0},{dx:-1,dy:0},{dx:1,dy:1},{dx:-1,dy:-1},{dx:1,dy:-1},{dx:-1,dy:1}];let se=1;return te.forEach(ae=>{var Ue,L;const he=(Ue=z[Y.y+ae.dy])==null?void 0:Ue[Y.x+ae.dx];he!=null&&he.building&&((L=Z.synergy)!=null&&L.with.includes(he.building.type))&&(se+=Z.synergy.bonus)}),Math.min(se,3)},F=tt.useCallback(async Y=>{if(!(Date.now()-G.current<35e3)){G.current=Date.now();try{const z=new xR({apiKey:"PLACEHOLDER_API_KEY"}),Z=`   .  $${Y.money},  ${Y.population},  ${Y.satisfaction}%.         .`,te=await z.models.generateContent({model:"gemini-3-flash-preview",contents:Z});te.text&&S(te.text.trim())}catch{console.warn("Advisor is busy.")}}},[]);tt.useEffect(()=>{const Y=setInterval(()=>{t(z=>{let Z=0,te=0,se=0,ae=0,he=0,Ue=0,L=0,J=0,re=0,Ne=0;const Me=k(z.tiles),N=z.activeEvent;Me.forEach(Ve=>Ve.forEach(Fe=>{if(Fe.building){const Et=yi[Fe.building.type];if(!Et)return;const $t=Fe.building.level,Wa=Q(Fe,Me),rt=[U.POWER_PLANT,U.WATER_TOWER,U.ROAD].includes(Fe.building.type)||Fe.building.isConnected?(1+($t-1)*.6)*Wa:.2;Z+=(Et.revenue||0)*rt,te+=Et.maintenance*$t,se+=Et.powerDemand*$t*((N==null?void 0:N.effect.demandMultiplier)||1),ae+=Et.waterDemand*$t,he+=(Et.powerOutput||0)*$t,Ue+=(Et.waterOutput||0)*$t,L+=(Et.popCapacity||0)*(Fe.building.isConnected?rt:.4),J+=(Et.happinessBonus||0)*(Fe.building.isConnected?1.2:.5),Fe.building.type===U.ROAD&&re++,[U.PORT,U.FISHERY,U.SEA_PARK,U.OFFSHORE_RIG,U.MARINA].includes(Fe.building.type)&&Ne++}}));let P=z.activeEvent;if(P){const Ve=P.duration-.1;Ve<=0?P=null:P={...P,duration:Ve}}else Math.random()<.004&&(P=Hh[Math.floor(Math.random()*Hh.length)],A(`EVENT: ${P.name}`));P!=null&&P.effect.revenueMultiplier&&(Z*=P.effect.revenueMultiplier);const X=he>=se,j=Ue>=ae,ce=Math.min(100,Math.max(0,80+J/6-Math.max(0,(z.resources.taxRate-10)*3.5))),ge=Z*(.25+(X?.375:0)+(j?.375:0)),_e=te/30,We=z.resources.money+ge-_e;let be=z.resources.population;X&&j&&ce>35?be<L&&(be+=Math.ceil(ce/100*(L-be)*.12+1)):ce<25&&(be=Math.max(0,be-5));let kt=z.day+1,nn=z.month,Ti=z.year;kt>30&&(kt=1,nn++,nn>12&&(nn=1,Ti++));let Si=[...z.milestonesReached],Ft=0,Ei=z.level;IR.forEach(Ve=>{be>=Ve.pop&&!Si.includes(Ve.label)&&(Si.push(Ve.label),Ft+=Ve.reward,Ei++,A(`MILESTONE: ${Ve.label}!`))});const ml=z.missions.map(Ve=>{if(Ve.isCompleted)return Ve;let Fe=Ve.current;return Ve.category==="Infrastructure"&&(Fe=re),Ve.category==="Maritime"&&(Fe=Ne),Ve.category==="Economy"&&(Fe=We),Fe>=Ve.target?(Ft+=Ve.reward,A(`MISSION SUCCESS: ${Ve.description}`),{...Ve,current:Fe,isCompleted:!0}):{...Ve,current:Fe}}),po={money:Math.max(0,We+Ft),power:he-se,water:Ue-ae,population:be,satisfaction:ce,taxRate:z.resources.taxRate,monthlyIncome:ge*30,monthlyExpenses:te};return(kt===1||kt===15)&&F(po),{...z,tiles:Me,day:kt,month:nn,year:Ti,resources:po,level:Ei,milestonesReached:Si,missions:ml,activeEvent:P}})},1e3);return()=>clearInterval(Y)},[F,k]);const W=tt.useCallback((Y,z)=>{const Z=i.tiles[z][Y];if(i.selectedBuildingType==="DEMOLISH"){if(!Z.building)return;t(te=>{const se=[...te.tiles.map(ae=>[...ae])];return se[z][Y]={...se[z][Y],building:void 0},{...te,tiles:se}});return}if(i.selectedBuildingType){const te=i.selectedBuildingType,se=yi[te],ae=Ph[te];if(Z.building){q("   !");return}if(!ae.allowedTerrain.includes(Z.terrain)){q("    .");return}if(i.resources.money<se.cost){q(" !");return}t(he=>{const Ue=[...he.tiles.map(L=>[...L])];return Ue[z][Y]={...Ue[z][Y],building:{type:te,level:1}},q(null),{...he,tiles:Ue,resources:{...he.resources,money:he.resources.money-se.cost}}});return}t(te=>{var se,ae;return{...te,selectedTile:((se=te.selectedTile)==null?void 0:se.x)===Y&&((ae=te.selectedTile)==null?void 0:ae.y)===z?null:{x:Y,y:z}}})},[i.selectedBuildingType,i.tiles,i.resources.money,i.selectedTile]),ie=tt.useCallback(Y=>{if(!r)return;const z=Y.clientX-y.current.x,Z=Y.clientY-y.current.y;a(te=>({...te,x:te.x+z,y:te.y+Z})),y.current={x:Y.clientX,y:Y.clientY}},[r]),oe=Y=>{f(!0);const z={x:Y.clientX,y:Y.clientY};y.current=z,h.current=z},K=Y=>{f(!1)};return M.jsxs("div",{className:"h-screen w-screen grid grid-rows-[auto_1fr_auto] bg-slate-950 text-white overflow-hidden select-none",onMouseMove:ie,onMouseUp:K,onMouseLeave:K,children:[M.jsx(pv,{resources:i.resources,date:`${i.year}.${i.month}.${i.day}`,advice:v,level:i.level,missions:i.missions.filter(Y=>!Y.isCompleted),activeEvent:i.activeEvent}),M.jsxs("div",{className:`relative isometric-container overflow-hidden transition-all duration-300 ${i.selectedBuildingType?i.selectedBuildingType==="DEMOLISH"?"ring-[20px] ring-inset ring-red-500/20":"ring-[20px] ring-inset ring-blue-500/10":""}`,onMouseDown:oe,onWheel:Y=>a(z=>({...z,zoom:Math.min(2,Math.max(.3,z.zoom-Y.deltaY*.001))})),children:[M.jsx("div",{className:"stars"}),w&&M.jsx("div",{className:"absolute top-10 left-1/2 -translate-x-1/2 z-[400] bg-red-600 border-2 border-white px-8 py-2.5 rounded-full shadow-[0_0_50px_rgba(220,38,38,0.5)] animate-bounce pointer-events-none",children:M.jsxs("span",{className:"text-sm font-black uppercase tracking-widest",children:[" ",w]})}),E&&M.jsx("div",{className:"absolute top-8 left-1/2 -translate-x-1/2 z-[390] bg-blue-600 border-2 border-white px-10 py-4 rounded-2xl shadow-2xl animate-in zoom-in duration-300 pointer-events-none",children:M.jsx("span",{className:"text-md font-black uppercase tracking-widest",children:E})}),M.jsx("div",{className:"camera-layer",style:{transform:`translate(${o.x}px, ${o.y}px) scale(${o.zoom})`},children:M.jsx("div",{className:"world-wrapper",children:M.jsx(gv,{tiles:i.tiles,onTileClick:W,selectedTile:i.selectedTile,previewBuilding:i.selectedBuildingType,resources:i.resources,startMousePos:h.current})})}),M.jsxs("button",{onClick:()=>g(!p),className:"absolute top-8 left-8 bg-slate-900/90 hover:bg-slate-800 p-5 rounded-[2.5rem] border-2 border-white/10 z-[200] flex items-center gap-4 shadow-[0_20px_60px_rgba(0,0,0,0.5)] transition-all active:scale-95 group",children:[M.jsx("span",{className:"text-3xl group-hover:rotate-12 transition-transform",children:""}),M.jsxs("div",{className:"text-left",children:[M.jsx("div",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest leading-none mb-1",children:"Treasury & Strategy"}),M.jsxs("div",{className:"text-sm font-bold text-white",children:["TAX: ",i.resources.taxRate,"%"]})]})]}),p&&M.jsx(yv,{taxRate:i.resources.taxRate,setTaxRate:Y=>t(z=>({...z,resources:{...z.resources,taxRate:Y}})),income:i.resources.monthlyIncome,expenses:i.resources.monthlyExpenses,onClose:()=>g(!1)}),i.selectedTile&&M.jsx(hv,{tile:i.tiles[i.selectedTile.y][i.selectedTile.x],onClose:()=>t(Y=>({...Y,selectedTile:null})),onUpgrade:(Y,z)=>{const Z=i.tiles[z][Y];if(!Z.building)return;const te=Math.floor(yi[Z.building.type].cost*Z.building.level*2);i.resources.money>=te&&t(se=>{const ae=[...se.tiles.map(he=>[...he])];return ae[z][Y]={...ae[z][Y],building:{...ae[z][Y].building,level:ae[z][Y].building.level+1}},{...se,tiles:ae,resources:{...se.resources,money:se.resources.money-te}}})},money:i.resources.money})]}),M.jsx(mv,{selected:i.selectedBuildingType,onSelect:Y=>t(z=>({...z,selectedBuildingType:Y})),resources:i.resources,cityLevel:i.level})]})},wg=document.getElementById("root");if(!wg)throw new Error("Could not find root element to mount to");const DR=uv.createRoot(wg);DR.render(M.jsx(Vh.StrictMode,{children:M.jsx(bR,{})}));
